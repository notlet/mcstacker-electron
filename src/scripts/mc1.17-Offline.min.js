//Copyright 2021 Matt Godfrey, (http://mcstacker.net/) Please don't steal my code or I'll /summon tnt on your house.  
class CachedNBT{constructor(){this.clear(),this.lastfilterUse=0}clear(){this.nbt={},this.meta={},this.dropChance={}}updateFilterLastUsed(){this.lastfilterUse=(new Date).getTime()}setMetaForNBT(e,t,a,o,n){this.meta[e]={data:t,fwClass:a,eventClass:o,stackPos:n}}getItemType(e){var e=this.nbt[e];return null!=e&&"{}"!=e&&null!=(e=new CMDParser("").parseCompound(extractSegment("{","}",e.indexOf("{"),e))).id?extractMinecraftID(e.id.val):-1}setNBT(e,t){this.lastfilterUse+2e3<(new Date).getTime()&&(0<t.length?0==t.indexOf(",Slot:")?this.nbt[e]="{"+t.substr(t.indexOf("b")+2)+"}":this.nbt[e]="{"+t.substr(1)+"}":this.nbt[e]="{}")}setBlockNBT(e,t){null!=t&&"{}"!=t&&""!=t&&this.lastfilterUse+2e3<(new Date).getTime()&&(this.nbt[e]=t)}getNBT(e){return this.nbt[e]}loadCachedItemNBT(e){var t=this.nbt[e];if(null!=t&&"{}"!=t)try{var a=new CMDParser(""),o=a.parseCompound(extractSegment("{","}",t.indexOf("{"),t)),n=$("#"+e).val();loadItemNBTIntoSlot(o,n,e,a)}catch(e){}}loadCachedEntityNBT(e){var t="e"+e,t=this.nbt[t];if(null!=t&&"{}"!=t)try{var a=new CMDParser(""),o=a.parseCompound(extractSegment("{","}",t.indexOf("{"),t));a.loadSummonCommand(o,e)}catch(e){}}loadCachedBlockNBT(e){e=this.nbt[e];if(null!=e&&"{}"!=e&&""!=e)try{var t=new CMDParser(""),a=t.parseCompound(extractSegment("{","}",e.indexOf("{"),e));t.loadBlockDataCommand(a,$("#block").val())}catch(e){}}}class Settings{constructor(){this.readSettings(),$("#settings").draggable(),$("#settings").hide(),$("#closeSettingsBut").bind("click",function(){$("#settings").hide()}),$("#removeSlash").bind("change",function(){settings.removeSlash=$("#removeSlash").is(":checked"),settings.writeSettings(),generateCommand()}),$("#loadItemUI").bind("change",function(){settings.loadItemUI=$("#loadItemUI").is(":checked"),settings.writeSettings()}),$("#randmizeUUIDs").bind("change",function(){settings.randmizeUUIDs=$("#randmizeUUIDs").is(":checked"),settings.writeSettings()}),$("#namespace").bind("keyup",function(){settings.namespace=$("#namespace").val(),settings.writeSettings(),generateCommand()}),$("#commandPrefix").bind("keyup",function(){settings.commandPrefix=$("#commandPrefix").val(),settings.writeSettings(),generateCommand()}),$("#updateNamespace").bind("change",function(){settings.updateNamespace=$("#updateNamespace").is(":checked"),settings.writeSettings()}),$("#updateCommandPrefix").bind("change",function(){settings.updateCommandPrefix=$("#updateCommandPrefix").is(":checked"),settings.writeSettings()}),$("#warnOnClose").bind("change",function(){settings.warnOnClose=$("#warnOnClose").is(":checked"),settings.writeSettings(),settings.warnOnClose?window.addEventListener("beforeunload",function(e){e.preventDefault(),e.returnValue="Have you saved your command?"}):window.removeEventListener("beforeunload",function(e){e.preventDefault(),e.returnValue="Have you saved your command?"})}),$("#themeChooser").bind("change",function(){settings.cssTheme=$("#themeChooser").val(),settings.writeSettings(),changeTheme(settings.cssTheme)}),$("#langChooser").bind("change",function(){settings.lang=$("#langChooser").val(),settings.writeSettings(),loadItemsAndBlocks(settings.lang)}),$("#sortMode").bind("change",function(){settings.sortMode=$("#sortMode").val(),settings.writeSettings(),loadItemsAndBlocks(settings.lang)})}readSettings(){localStorage.namespace?this.namespace=localStorage.namespace:this.namespace="",localStorage.commandPrefix?this.commandPrefix=localStorage.commandPrefix:this.commandPrefix="",localStorage.updateNamespace&&"true"==localStorage.updateNamespace?this.updateNamespace=!0:this.updateNamespace=!1,localStorage.updateCommandPrefix&&"true"==localStorage.updateCommandPrefix?this.updateCommandPrefix=!0:this.updateCommandPrefix=!1,localStorage.removeSlash&&"true"==localStorage.removeSlash?this.removeSlash=!0:this.removeSlash=!1,localStorage.loadItemUI&&"true"==localStorage.loadItemUI?this.loadItemUI=!0:this.loadItemUI=!1,localStorage.randmizeUUIDs&&"false"==localStorage.randmizeUUIDs?this.randmizeUUIDs=!1:this.randmizeUUIDs=!0,localStorage.warnOnClose&&"true"==localStorage.warnOnClose?(this.warnOnClose=!0,"true"==localStorage.warnOnClose&&window.addEventListener("beforeunload",function(e){e.preventDefault(),e.returnValue="Have you saved your command?"})):this.warnOnClose=!1,localStorage.cssTheme?this.cssTheme=localStorage.cssTheme:this.cssTheme="mcstacker-darker.css",new URLSearchParams(window.location.search).has("theme")||changeTheme(this.cssTheme),localStorage.lang?this.lang=localStorage.lang:this.lang="en",localStorage.sortMode?this.sortMode=localStorage.sortMode:this.sortMode="desc_length",$("#namespace").val(this.namespace),$("#commandPrefix").val(this.commandPrefix),$("#updateNamespace").attr("checked",this.updateNamespace),$("#updateCommandPrefix").attr("checked",this.updateCommandPrefix),$("#loadItemUI").attr("checked",this.loadItemUI),$("#randmizeUUIDs").attr("checked",this.randmizeUUIDs),$("#removeSlash").attr("checked",this.removeSlash),$("#warnOnClose").attr("checked",this.warnOnClose),$("#themeChooser").val(this.cssTheme),$("#langChooser").val(this.lang),$("#sortMode").val(this.sortMode)}modifyNamespace(e){this.updateNamespace&&(this.namespace=e,$("#namespace").val(this.namespace),this.writeSettings())}modifyCommandPrefix(e){this.updateCommandPrefix&&(this.commandPrefix=e,$("#commandPrefix").val(this.commandPrefix),this.writeSettings())}writeSettings(){localStorage.loadItemUI=this.loadItemUI,localStorage.randmizeUUIDs=this.randmizeUUIDs,localStorage.namespace=this.namespace,localStorage.commandPrefix=this.commandPrefix,localStorage.updateNamespace=this.updateNamespace,localStorage.updateCommandPrefix=this.updateCommandPrefix,localStorage.removeSlash=this.removeSlash,localStorage.warnOnClose=this.warnOnClose,localStorage.cssTheme=this.cssTheme,localStorage.lang=this.lang,localStorage.sortMode=this.sortMode}}function changeTheme(e){$("#cssTheme").attr("href")!=e&&$("#cssTheme").attr("href",e)}function showSettings(){$("#settings").css({top:mouse.y+200,left:mouse.x}),$("#settings").show()}function occurrences(e,t,a){if(e+="",(t+="").length<=0)return e.length+1;for(var o=0,n=0,s=a?1:t.length;0<=(n=e.indexOf(t,n));)++o,n+=s;return o}class CMDParser{constructor(e){this.level=0,this.state="S",e=e.trim(),this.nbt=null,this.executeParts=[]}parseLootTableNBT(e,t,a){this.nbt=convert_value_to_contents(extractSegment("{","}",0,a)),this.root=this.parseCompound(this.nbt),loadItemNBTIntoSlot({tag:{type:"compound",val:this.root}},t,e,this)}parseTheCommand(e){this.preParts=e.split(/(?= )/g);for(var t,a=0;a<this.preParts.length;a++)for(1<this.preParts[a].length&&" "==this.preParts[a].charAt(0)&&(this.preParts[a]=this.preParts[a].substr(1));a+1<this.preParts.length&&(occurrences(this.preParts[a],"[",!1)!=occurrences(this.preParts[a],"]",!1)||occurrences(this.preParts[a],"{",!1)!=occurrences(this.preParts[a],"}",!1));)this.preParts[a]+=this.preParts[a+1],this.preParts.splice(a+1,1);if(-1!=this.preParts[0].indexOf(":")?(-1!=(l=this.preParts[0].split(":"))[0].indexOf("/")&&(l[0]=l[0].substr(1)),settings.modifyCommandPrefix(l[0]),this.preParts[0]=l[1]):settings.modifyCommandPrefix(""),-1!=this.preParts[0].indexOf("execute")&&-1==e.indexOf("execute if entity")){for(t="execute",this.preParts.splice(0,1);"run"!=this.preParts[0]&&0<this.preParts.length;)t+=" "+this.preParts[0],this.preParts.splice(0,1);this.preParts.splice(0,1)}for(a=0;a<this.preParts.length;a++)"{"==this.preParts[a].charAt(0)?this.nbt=extractSegment("{","}",0,this.preParts[a]):"["==this.preParts[a].charAt(0)?this.nbt=extractSegment("[","]",0,this.preParts[a]):"@"==this.preParts[a].charAt(0)?-1!=this.preParts[a].indexOf("nbt=")&&(this.nbt=extractSegment("{","}",this.preParts[a].indexOf("nbt=")+4,this.preParts[a])):-1!=this.preParts[a].indexOf("{")&&(this.nbt=extractSegment("{","}",this.preParts[a].indexOf("{"),this.preParts[a]));if(this.nbt=convert_value_to_contents(this.nbt),-1==this.preParts[0].indexOf("tellraw")&&-1==this.preParts[0].indexOf("title")&&(this.root=this.parseCompound(this.nbt)),$("#disableOutput").prop("checked",!0),-1!=this.preParts[0].indexOf("summon")){loadForm("summon");var o=extractMinecraftID113(this.preParts[1]);if(!$("#entity"+entityIndex+" option[value='"+o+"']").length)throw new MCSException(o+" is not a valid entity id");$("#entity"+entityIndex).val(o),$("#entity"+entityIndex).trigger("change"),$("#Summon").val(this.preParts[2]+" "+this.preParts[3]+" "+this.preParts[4]),this.loadSummonCommand(this.root,entityIndex)}else if(-1!=this.preParts[0].indexOf("execute")&&-1!=this.preParts[1].indexOf("if")&&-1!=this.preParts[2].indexOf("entity")){loadForm("execute if entity");var n=this.preParts[3];try{loadTargetSelectorsFromCommand113(n),this.loadSummonCommand(this.root,entityIndex)}catch(e){throw e}}else if(-1!=this.preParts[0].indexOf("kill")){loadForm("kill");n=this.preParts[1];try{loadTargetSelectorsFromCommand113(n),this.loadSummonCommand(this.root,entityIndex)}catch(e){throw e}}else if(-1!=this.preParts[0].indexOf("data")){if(-1!=this.preParts[2].indexOf("block"))throw new MCSException("Sorry 'data merge block' commands can't be imported into the MCStacker form.");if(-1!=this.preParts[2].indexOf("entity")){loadForm("data merge entity");for(var n=this.preParts[3],s=4;-1!=n.indexOf("[")&&-1==n.indexOf("]")&&s<this.preParts.length;)n+=" "+this.preParts[s],s++;try{loadTargetSelectorsFromCommand113(n)}catch(e){throw e}this.loadSummonCommand(this.root,entityIndex)}}else if(-1!=this.preParts[0].indexOf("give")){loadForm("give");for(var n=this.preParts[1],s=2;-1!=n.indexOf("[")&&-1==n.indexOf("]")&&s<this.preParts.length;)n+=" "+this.preParts[s],s++;loadTargetSelectorsFromCommand113(n);var i={},r=extractMinecraftID113(this.preParts[s]);if(s++,isNaN(this.preParts[s])?i.Count={type:"raw",val:1}:i.Count={type:"raw",val:this.preParts[s]},i.tag={type:"compound",val:this.root},$("#GiveItem0").length){if(!$("#GiveItem0 option[value='"+r+"']").length)throw new MCSException(r+" is not a valid item id");$("#GiveItem0").val(r),$("#GiveItem0").trigger("change"),loadItemNBTIntoSlot(i,r,"GiveItem0",this)}}else if(-1!=this.preParts[0].indexOf("effect")){loadForm("effect");s=2,n=this.preParts[s];for(s++;-1!=n.indexOf("[")&&-1==n.indexOf("]")&&s<this.preParts.length;)n+=" "+this.preParts[s],s++;-1!=n.indexOf("@e")&&($("#entity0").val("entity"),$("#entity0").trigger("change")),loadTargetSelectorsFromCommandGeneric(n,"entity0");var l=extractMinecraftID113(this.preParts[s]);$("#effect").val(objectKeyByValue(statuseffects1p13,l)),this.preParts.length>++s&&(-1!=["saturation","instant_health","instant_damage"].indexOf(l)?$("#seconds").val(parseInt(this.preParts[s])/20):$("#seconds").val(this.preParts[s]),this.preParts.length>++s)&&($("#amplifier").val(this.preParts[s]),this.preParts.length>++s)&&$("#hideParticles").val(this.preParts[s])}else if(-1!=this.preParts[0].indexOf("tp")||-1!=this.preParts[0].indexOf("teleport")){loadForm("teleport");try{-1!=this.preParts[1].indexOf("@e")&&($("#entity0").val("entity"),$("#entity0").trigger("change")),loadTargetSelectorsFromCommandGeneric(this.preParts[1],"entity0"),3<this.preParts.length?($("#target0").val("block"),$("#target0").trigger("change"),$("#Block").val(this.preParts[2]+" "+this.preParts[3]+" "+this.preParts[4]),5<this.preParts.length&&("facing"==this.preParts[5]?"entity"==this.preParts[6]?($("#facingType").val("facingEntity"),$("#facingType").trigger("change"),$("#facingtarget0").val("e"==this.preParts[7].charAt(1)?"entity":"player"),$("#facingtarget0").trigger("change"),loadTargetSelectorsFromCommandGeneric(this.preParts[7],"facingtarget0"),9==this.preParts.length&&$("#Anchor0").val(this.preParts[8])):($("#facingType").val("facingCoords"),$("#facingType").trigger("change"),$("#FacingCoords").val(this.preParts[6]+" "+this.preParts[7]+" "+this.preParts[8])):($("#facingType").val("rotation"),$("#facingType").trigger("change"),$("#Yaw0").val(this.preParts[5]),$("#Pitch0").val(this.preParts[6])))):($("#target0").val("e"==this.preParts[2].charAt(1)?"entity":"player"),$("#target0").trigger("change"),loadTargetSelectorsFromCommandGeneric(this.preParts[2],"target0"))}catch(e){throw e}}else if(-1!=this.preParts[0].indexOf("replaceitem")){if(loadForm("item"),"entity"==this.preParts[1]){-1!=this.preParts[2].indexOf("@e")?$("#replaceitem").val("entity"):$("#replaceitem").val("player"),$("#replaceitem").trigger("change");n=this.preParts[2];for(s=3;-1!=n.indexOf("[")&&-1==n.indexOf("]")&&s<this.preParts.length;)n+=" "+this.preParts[s],s++;loadTargetSelectorsFromCommandGeneric(n,"replaceitem"),$("#Slot0").val(this.preParts[s]),s++}else $("#Block").val(this.preParts[2]+" "+this.preParts[3]+" "+this.preParts[4]),$("#Slot0").val(this.preParts[5].substr(this.preParts[5].lastIndexOf(".")+1)),s=6;i={},r=extractMinecraftID113(this.preParts[s]);if(i.Count={type:"raw",val:this.preParts[++s]},i.tag={type:"compound",val:this.root},!$("#GiveItem0 option[value='"+r+"']").length)throw new MCSException(r+" is not a valid item id");$("#GiveItem0").val(r),$("#GiveItem0").trigger("change"),loadItemNBTIntoSlot(i,r,"GiveItem0",this)}else if(-1!=this.preParts[0].indexOf("item")){loadForm("item");s=1;if("replace"==this.preParts[1]?($("#itemCmdMode").val("replace"),$("#itemCmdMode").trigger("replace")):"modify"==this.preParts[1]&&($("#itemCmdMode").val("modify"),$("#itemCmdMode").trigger("change")),"entity"==this.preParts[2]){-1!=this.preParts[3].indexOf("@e")?$("#replaceitem").val("entity"):$("#replaceitem").val("player"),$("#replaceitem").trigger("change");n=this.preParts[3];for(s=4;-1!=n.indexOf("[")&&-1==n.indexOf("]")&&s<this.preParts.length;)n+=" "+this.preParts[s],s++;loadTargetSelectorsFromCommandGeneric(n,"replaceitem"),$("#Slot0").val(this.preParts[s]),s++}else $("#Block").val(this.preParts[3]+" "+this.preParts[4]+" "+this.preParts[5]),$("#Slot0").val(this.preParts[6].substr(this.preParts[6].lastIndexOf(".")+1)),s=7;if("modify"==this.preParts[1])$("#ItemModifier0").val(this.preParts[s]);else if("with"==this.preParts[s]){r=extractMinecraftID113(this.preParts[++s]);if((i={}).Count={type:"raw",val:this.preParts[++s]},i.tag={type:"compound",val:this.root},!$("#GiveItem0 option[value='"+r+"']").length)throw new MCSException(r+" is not a valid item id");$("#GiveItem0").val(r),$("#GiveItem0").trigger("change"),loadItemNBTIntoSlot(i,r,"GiveItem0",this)}else if("from"==this.preParts[s])if($("#itemCmdMode").val("copy"),$("#itemCmdMode").trigger("change"),"entity"==this.preParts[++s]){-1!=this.preParts[++s].indexOf("@e")?$("#itemCopyType").val("entity"):$("#itemCopyType").val("player"),$("#itemCopyType").trigger("change");var c=this.preParts[s];for(s++;-1!=c.indexOf("[")&&-1==c.indexOf("]")&&s<this.preParts.length;)c+=" "+this.preParts[s],s++;loadTargetSelectorsFromCommandGeneric(c,"itemCopyType"),$("#SlotCopy0").val(this.preParts[s]),s++}else $("#BlockCopy").val(this.preParts[s+1]+" "+this.preParts[s+2]+" "+this.preParts[s+3]),s+=4,$("#SlotCopy0").val(this.preParts[s].substr(this.preParts[s].lastIndexOf(".")+1))}else if(-1!=this.preParts[0].indexOf("setblock")){loadForm("setblock"),$("#Block").val(this.preParts[1]+" "+this.preParts[2]+" "+this.preParts[3]);o=extractMinecraftID113(this.preParts[4]);if(!$("#block option[value='"+o+"']").length)throw new MCSException(o+" is not a block id");$("#block").val(o),$("#block").trigger("change"),this.parseBlockState113(this.preParts[4],"BS0"),0<$("#blockHandle option[value='"+this.preParts[5]+"']").length&&$("#blockHandle").val(this.preParts[5]),this.loadBlockDataFromNBT($("#block").val())}else if(-1!=this.preParts[0].indexOf("loot")){loadForm("loot");s=2;if("replace"==this.preParts[1]&&(this.preParts[1]=this.preParts[1]+" "+this.preParts[2],this.preParts.splice(2,1)),$("#targetType").val(this.preParts[1]),$("#targetType").trigger("change"),"spawn"==this.preParts[1]||"insert"==this.preParts[1]||"replace block"==this.preParts[1])$("#Loot").val(this.preParts[s]+" "+this.preParts[s+1]+" "+this.preParts[s+2]),s+=3;else if("give"==this.preParts[1]||"replace entity"==this.preParts[1]){for(n=this.preParts[s];-1!=n.indexOf("[")&&-1==n.indexOf("]")&&s<this.preParts.length;)n+=" "+this.preParts[s],s++;loadTargetSelectorsFromCommandGeneric(n,"entity0"),s++}if("replace entity"!=this.preParts[1]&&"replace block"!=this.preParts[1]||($("#slot").val(this.preParts[s]),s++),$("#sourceType").val(this.preParts[s]),$("#sourceType").trigger("change"),"loot"==this.preParts[s]||"fish"==this.preParts[s]){if(s++,$("#LootTable").val(this.preParts[s]),"fish"==this.preParts[s-1]){$("#Fishing").val(this.preParts[s+1]+" "+this.preParts[s+2]+" "+this.preParts[s+3]);i={},r=extractMinecraftID113(this.preParts[s+=4]);if(i.Count={type:"raw",val:1},i.tag={type:"compound",val:this.root},!$("#FishingTool0 option[value='"+r+"']").length)throw new MCSException(r+" is not a valid item id");$("#FishingTool0").val(r),$("#FishingTool0").trigger("change"),loadItemNBTIntoSlot(i,r,"FishingTool0",this)}}else if("mine"==this.preParts[s]){$("#Mining").val(this.preParts[s+1]+" "+this.preParts[s+2]+" "+this.preParts[s+3]);i={},r=extractMinecraftID113(this.preParts[s+=4]);if(i.Count={type:"raw",val:1},i.tag={type:"compound",val:this.root},!$("#MiningTool0 option[value='"+r+"']").length)throw new MCSException(r+" is not a valid item id");$("#MiningTool0").val(r),$("#MiningTool0").trigger("change"),loadItemNBTIntoSlot(i,r,"MiningTool0",this)}else if("kill"==this.preParts[s]){for(n=this.preParts[++s];-1!=n.indexOf("[")&&-1==n.indexOf("]")&&s<this.preParts.length;)n+=" "+this.preParts[s],s++;loadTargetSelectorsFromCommandGeneric(n,"kill0")}}else if(-1!=this.preParts[0].indexOf("bossbar"))if(loadForm("bossbar"),$("#action").val(this.preParts[1]),$("#ID0").val(this.preParts[2]),"set"==this.preParts[1]){if($("#action").trigger("change"),$("#set").val(this.preParts[3]),"name"==this.preParts[3])importTellrawJSON("bossbarPane",JSON.parse(this.nbt));else if("players"==this.preParts[3]){$("#set").trigger("change");for(n=this.preParts[4],s=5;-1!=n.indexOf("[")&&-1==n.indexOf("]")&&s<this.preParts.length;)n+=" "+this.preParts[s],s++;loadTargetSelectorsFromCommand113(n)}}else"add"==this.preParts[1]&&importTellrawJSON("bossbarPane",JSON.parse(this.nbt));else if(-1!=this.preParts[0].indexOf("scoreboard"))loadForm("scoreboard"),$("#add_modify").val(this.preParts[2]),$("#add_modify").trigger("change"),$("#objective").val(this.preParts[3]),"add"==this.preParts[2]&&$("#Criteria0").val(this.preParts[4]),importTellrawJSON("scoreboardPane",JSON.parse(this.nbt));else if(-1!=this.preParts[0].indexOf("team"))loadForm("team"),$("#add_modify").val(this.preParts[1]),$("#add_modify").trigger("change"),$("#team").val(this.preParts[2]),"modify"==this.preParts[1]&&$("#Part0").val(this.preParts[3]),importTellrawJSON("teamPane",JSON.parse(this.nbt));else if(-1!=this.preParts[0].indexOf("tellraw")||-1!=this.preParts[0].indexOf("title")){for(n=this.preParts[1],s=2;-1!=n.indexOf("[")&&-1==n.indexOf("]")&&s<this.preParts.length;)n+=" "+this.preParts[s],s++;-1!=this.preParts[0].indexOf("tellraw")?loadForm("tellraw"):(loadForm("title"),$("#titleType").val(this.preParts[s])),loadTargetSelectorsFromCommand113(n),importTellrawJSON("tellrawPane",JSON.parse(this.nbt))}else if(-1!=this.preParts[0].indexOf("particle")){loadForm("particle"),$("#name").val(this.preParts[1]),$("#name").trigger("change");var p,s=2,d=8;if("dust"==this.preParts[1]||"dust_color_transition"==this.preParts[1]||-1!=this.preParts[1].indexOf("entity_effect"))-1!=this.preParts[1].indexOf("entity_effect")?(p=floatToHex(this.preParts[5])+floatToHex(this.preParts[6])+floatToHex(this.preParts[7]),new jscolor.color(document.getElementById("mobSpell_color"),{}).fromString(p.toUpperCase()),changeParticelXdYdZd($("#mobSpell_color_to").val())):($("#dustSize").val(this.preParts[5]),p=floatToHex(this.preParts[2])+floatToHex(this.preParts[3])+floatToHex(this.preParts[4]),new jscolor.color(document.getElementById("mobSpell_color"),{}).fromString(p.toUpperCase()),"dust_color_transition"==this.preParts[1]?(s=9,d=15,e=floatToHex(this.preParts[6])+floatToHex(this.preParts[7])+floatToHex(this.preParts[8]),new jscolor.color(document.getElementById("mobSpell_color_to"),{}).fromString(e.toUpperCase())):(s=6,d=12));else if("vibration"==this.preParts[1])$("#FromCoords").val(this.preParts[s]+" "+this.preParts[++s]+" "+this.preParts[++s]),$("#ToCoords").val(this.preParts[++s]+" "+this.preParts[++s]+" "+this.preParts[++s]),$("#travelTime0").val(this.preParts[++s]),++s;else if("item"==this.preParts[1])$("#item0").val(extractMinecraftID(this.preParts[2])),s=3;else if("block"==this.preParts[1]||"falling_dust"==this.preParts[1]){o=extractMinecraftID113(this.preParts[2]);if(!$("#block option[value='"+o+"']").length)throw new MCSException(o+" is not a block id");$("#block").val(o),$("#block").trigger("change"),this.parseBlockState113(this.preParts[2],"BS0"),s=3}if($("#Location").val(this.preParts[s]+" "+this.preParts[++s]+" "+this.preParts[++s]),"item"==this.preParts[1]||"falling_dust"==this.preParts[1]||"block"==this.preParts[1]?(s=6,d=9):"dust"==this.preParts[1]?(s=9,d=12):"dust_color_transition"==this.preParts[1]||"vibration"==this.preParts[1]?(s=12,d=15):s=(("entity_effect"==this.preParts[1]||"ambient_entity_effect"==this.preParts[1])&&(d=8),5),-1==this.preParts[1].indexOf("entity_effect")&&($("#xd").val(this.preParts[s]),$("#yd").val(this.preParts[++s]),$("#zd").val(this.preParts[++s])),$("#speed").val(this.preParts[d]),9<this.preParts.length&&($("#count").val(this.preParts[++d]),10<this.preParts.length&&"force"==this.preParts[++d]&&$("#mode").val("force"),this.preParts.length-1>d)){for(n=this.preParts[++d];-1!=n.indexOf("[")&&-1==n.indexOf("]")&&d<this.preParts.length;)n+=" "+this.preParts[d],d++;showHide("TSPane","TSPaneSH"),loadTargetSelectorsFromCommand113(n)}}else if(-1!=this.preParts[0].indexOf("playsound")){loadForm("playsound"),$("#sound").val(this.preParts[1]),$("#source").val(this.preParts[2]);for(n=this.preParts[3],s=4;-1!=n.indexOf("[")&&-1==n.indexOf("]")&&s<this.preParts.length;)n+=" "+this.preParts[s],s++;loadTargetSelectorsFromCommand113(n);try{$("#Position").val(this.preParts[s]+" "+this.preParts[s+1]+" "+this.preParts[s+2]),$("#volume").val(this.preParts[s+3]),$("#pitch").val(this.preParts[s+4]),$("#minvolume").val(this.preParts[s+5])}catch(e){}}else{if(-1==this.preParts[0].indexOf("fill"))throw new MCSException("MCStacker can't import '"+this.preParts[0]+"' commands .");loadForm("fill"),$("#Corner").val(this.preParts[1]+" "+this.preParts[2]+" "+this.preParts[3]),$("#Opposite").val(this.preParts[4]+" "+this.preParts[5]+" "+this.preParts[6]);o=extractMinecraftID113(this.preParts[7]);if(!$("#block option[value='"+o+"']").length)throw new MCSException(o+" is not a block id");if($("#block").val(o),$("#block").trigger("change"),this.parseBlockState113(this.preParts[7],"BS0"),0<$("#blockHandle option[value='"+this.preParts[8]+"']").length&&($("#blockHandle").val(this.preParts[8]),"destroy"==this.preParts[8])&&$("#blockHandle").trigger("change"),9<this.preParts.length){if(o=extractMinecraftID113(this.preParts[9]),!$("#replaceblock option[value='"+o+"']").length)throw new MCSException(o+" is not a valid block id.");$("#replaceblock").val(o),$("#replaceblock").trigger("change"),this.parseBlockState113(this.preParts[9],"ReplaceBS0")}this.loadBlockDataFromNBT($("#block").val())}null!=t&&(createExecuteForm(),$("#exeString").val(t+" run")),$("#disableOutput").prop("checked",!1),generateCommand()}parseBlockState113(e,t){for(var a="",o=0;o<e.length;o++){if("{"==e.charAt(o))return;if("["==e.charAt(o)){a=(a=e.substr(o+1)).substr(0,a.indexOf("]"));break}}if(a.length)for(var n=a.split(","),o=0;o<n.length;o++){var s=n[o].split("=");$("#"+s[0]+t).val(s[1])}}loadBlockDataFromNBT(e){var t;if(-1!=e.indexOf("_banner"))null!=this.root.Patterns&&(t=compoundToNBTString(this.root),$("#BlockEntityTag0").val("Patterns:"+extractSegment("[","]",t.indexOf("Patterns")+9,t))),this.loadBlockDataCommand(this.root,e);else if("player_head"!=e&&"player_wall_head"!=e||null==this.root.Owner)if("campfire"==e||"soul_campfire"==e){if(this.loadBlockDataCommand(this.root,e),null!=this.root.CookingTimes)for(var a=0;a<4&&a<this.root.CookingTimes.val.length;a++)$("#"+a+"CookingTime0").val(this.root.CookingTimes.val[a].trim());if(null!=this.root.CookingTotalTimes)for(a=0;a<4&&a<this.root.CookingTotalTimes.val.length;a++)$("#"+a+"CookingTotalTime0").val(this.root.CookingTotalTimes.val[a].trim())}else"furnace"==e?null!=this.root.RecipesUsed&&loadRecipedUsedFromNBT("RecipesUsed0",this.root.RecipesUsed.val):"jukebox"==e?(null!=this.root.RecordItem&&(showHide("RecordItem0Pane","RecordItem0SH"),setupItemSlotForNBT("RecordItem0",this.root.RecordItem.val,this)),null!=this.root.Record&&$("#Record0").val(this.root.Record.val)):"lectern"==e?(null!=this.root.Book&&(showHide("Book0Pane","Book0SH"),setupItemSlotForNBT("Book0",this.root.Book.val,this)),null!=this.root.Page&&$("#Page0").val(this.root.Page.val)):"spawner"==e?(null!=this.root.SpawnData&&loadSpawnPotentialFromNBT(this,"SpawnData",[this.root.SpawnData.val],0),null!=this.root.SpawnPotentials&&loadSpawnPotentialFromNBT(this,"SpawnPotentials",this.root.SpawnPotentials.val,0),this.loadBlockDataCommand(this.root,e)):"beehive"==e||"bee_nest"==e?loadBeeHiveNestFromNBT(this,this.root,0):(-1!=e.indexOf("sign")&&loadSignFromNBT("blockSpec0SignPane",this.root),this.loadBlockDataCommand(this.root,e));else $("#SkullOwner0").val("Owner:"+compoundToNBTString(this.root.Owner.val))}loadPosition(e,t,a){a&&1<t.length?$("#"+e).val(t.substr(1)):a||$("#"+e).val(t)}padding(){return"<span style='padding-left:"+50*this.level+"px'></span>"}loadBlockDataCommand(e,t){for(var a in e){var o=e[a];"raw"==o.type||"string"==o.type?block.loadValue(this,a,o.val):"compound"==o.type?this.loadBlockDataCommand(o.val,t):"arrayOfVals"!=o.type&&"arrayOfStrings"!=o.type&&"arrayOfCompounds"!=o.type||block.loadValue(this,a,o.val)}}loadSummonCommand(e,t){for(var a in e){var o=e[a];if("raw"==o.type||"string"==o.type)entityDescriptors["e"+t].loadValue(this,a,o.val,t);else if("compound"==o.type)"Item"==a?"potion"==entityDescriptors["e"+t].entityType?entityDescriptors["e"+t].loadPotionNBT(o.val):(showHide("Item"+t+"Pane","Item"+t+"SH"),setupItemSlotForNBT("Item"+t,o.val,this)):"Trident"==a?(showHide("Trident"+t+"Pane","Trident"+t+"SH"),setupItemSlotForNBT("Trident"+t,o.val,this)):"SelectedItem"==a?setupItemSlotForNBT("SelectedItem"+t,o.val,this):"Pose"==a?entityDescriptors["e"+t].loadPoseNBT(o.val):"Offers"==a?entityDescriptors["e"+t].loadVillagerTradesNBT(o.val,this):"VillagerData"==a?loadVillagerData(o.val,t):"Leash"==a?entityDescriptors["e"+t].loadLeashNBT(o.val):"SaddleItem"==a?entityDescriptors["e"+t].loadSaddleItemNBT(o.val):"ArmorItem"==a?(showHide("ArmorItem"+t+"Pane","ArmorItem"+t+"SH"),null!=o.val.id&&-1!=o.val.id.val.indexOf("minecraft:")?setupItemSlotForNBT("ArmorItem"+t,o.val,this):$("#ArmorItem"+t).val("none")):"DecorItem"==a?entityDescriptors["e"+t].loadDecorItemNBT(o.val):"Potion"==a?entityDescriptors["e"+t].loadPotionNBT(o.val):"BeamTarget"==a?entityDescriptors["e"+t].loadBeamTargetNBT(o.val):"data"==a?entityDescriptors["e"+t].loadMarkerData(o.val):"PatrolTarget"==a?entityDescriptors["e"+t].loadPatrolTargetNBT(o.val):"WanderTarget"==a?entityDescriptors["e"+t].loadWanderTargetNBT(o.val):"FlowerPos"==a||"HivePos"==a?entityDescriptors["e"+t].loadFlowerOrHovePost(o.val,a):"Owner"==a||"owner"==a?entityDescriptors["e"+t].loadOwnerNBT(o.val):"Target"==a?entityDescriptors["e"+t].loadTargetNBT(o.val):"Brain"==a?loadMemories(o.val,t):"FireworksItem"==a?null!=o.val.tag&&null!=o.val.tag.val.Fireworks&&loadFireworksItemNBT("Explosion"+t+"Pane",o.val.tag.val.Fireworks.val):"BlockState"==a||"carriedBlockState"==a||"DisplayState"==a?entityDescriptors["e"+t].loadBlockStateFallingBlock(o.val):"TileEntityData"==a?entityDescriptors["e"+t].loadFallingBlockEntityData(o.val,this):"Properties"==a?entityDescriptors["e"+t].loadFallingBlockBSProperties(o.val):"abilities"==a?entityDescriptors["e"+t].loadAbilities(this,o.val):"SpawnData"==a?entityDescriptors["e"+t].loadValue(this,a,[o.val],t):this.loadSummonCommand(o.val,t);else if("arrayOfVals"==o.type||"arrayOfStrings"==o.type)entityDescriptors["e"+t].loadValue(this,a,o.val,t);else if("arrayOfArrays"==o.type){if("Trusted"==a)for(let e=0;e<o.val.length;e++)addFoxTrusts("Trusts",t),loadUUIDArrayNBT("Trusts"+t+"_"+e,o.val[e])}else"arrayOfCompounds"==o.type&&("Gossips"==a?loadGossips(o.val,t):"Inventory"==a?"player"==entityDescriptors["e"+t].entityType?entityDescriptors["e"+t].loadPlayerInventory(this,o.val,t):"piglin"==entityDescriptors["e"+t].entityType?entityDescriptors["e"+t].loadPiglinInventory(this,o.val,t):loadInventory(o.val,t,this):entityDescriptors["e"+t].loadValue(this,a,o.val,t))}}traverseObjectToNBT(e,t){for(var a in e){t+=",";var o=e[a];if("raw"==o.type)t+=a+":"+o.val;else if("string"==o.type)t+=a+":'"+o.val+"'";else if("compound"==o.type)t+=a+":{"+this.traverseObjectToNBT(o.val,"")+"}";else if("arrayOfStrings"==o.type){t+=a+":[";let e="";for(var n=0;n<o.val.length;n++)e+=',"'+o.val[n]+'"';t+=e.substr(1)+"]"}else if("arrayOfVals"==o.type){this.isArrayOfInts(o.val)?t+=a+":[I;":t+=a+":[";let e="";for(n=0;n<o.val.length;n++)e+=","+o.val[n];t+=e.substr(1)+"]"}else if("arrayOfCompounds"==o.type){let e="";for(n=0;n<o.val.length;n++)e+=",{"+this.traverseObjectToNBT(o.val[n],"")+"}";t+=a+":["+e.substr(1)+"]"}else if("arrayOfArrays"==o.type){let e="";for(n=0;n<o.val.length;n++)e+=",[I;"+o.val[n]+"]";t+=a+":["+e.substr(1)+"]"}}return t.substr(1)}isArrayOfInts(t){for(let e=0;e<t.length;e++)if(!Number.isInteger(parseInt(t[e],10)))return!1;return!0}traverseObject(e,t){for(var a in this.level++,$("#"+t).append("{"),e){var o=e[a];if("raw"==o.type)$("#"+t).append("<br>"+this.padding()+"<span class='nbtKey'>"+a+"</span>:<span class='nbtVal'>"+o.val+"</span>");else if("string"==o.type)$("#"+t).append("<br>"+this.padding()+"<span class='nbtKey'>"+a+"</span>:<span class='nbtVal'>"+o.val+"</span>");else if("compound"==o.type)$("#"+t).append("<br>"+this.padding()+"<span class='nbtKey'>"+a+"</span>"),this.traverseObject(o.val,t);else if("arrayOfVals"==o.type||"arrayOfStrings"==o.type){$("#"+t).append("<br>"+this.padding()+"<span class='nbtKey'>"+a+"</span>:["),this.level++;for(var n=0;n<o.val.length;n++)$("#"+t).append("<br>"+this.padding()+"<span class='nbtVal'>"+o.val[n]+"</span>");this.level--,$("#"+t).append("<br>"+this.padding()+"]")}else if("arrayOfCompounds"==o.type){$("#"+t).append("<br>"+this.padding()+"<span class='nbtKey'>"+a+"</span>:["),this.level++;for(n=0;n<o.val.length;n++)this.traverseObject(o.val[n],t);this.level--,$("#"+t).append("<br>"+this.padding()+"]")}}this.level--,$("#"+t).append("<br>"+this.padding()+"}")}parseCompound(e){var t,a,o=0,n={};if(null==e)return{};do{if(o++,o=this.skipSpaces(o,e),'"'==e.charAt(o)?(o++,a=this.getStringToNextSymbol('"',e,o),o++):a=this.getStringToNextSymbol(":}",e,o),o+=a.length,a.length){var s,i=a.trim();if(o++,o=this.skipSpaces(o,e),"{"==e.charAt(o))o+=(s=extractSegment("{","}",o,e)).length,t=this.parseCompound(s),this.getStringToNextSymbol(",",e,o),n[i]={type:"compound",val:t};else if("["==e.charAt(o))if(t=[],o+=(a=replaceAll("}, {","},{",a=extractSegment("[","]",o,e))).length,"{"==a.charAt(1)){for(var r,l=1;l+=(r=extractSegment("{","}",l,a)).length,t.push(this.parseCompound(r)),","==a.charAt(l)&&l++,"{"==a.charAt(l););n[i]={type:"arrayOfCompounds",val:t}}else if('"'==a.charAt(1)){for(var l=1,c=[];"]"!=a.charAt(l);)","==a.charAt(l)&&l++,l+=(t=this.getStringToNextSymbolInsideString(",}",a,l)).length,c.push(t.substr(1,t.length-2));n[i]={type:"arrayOfStrings",val:c}}else if("'"==a.charAt(1)){(s=(s=replaceAll("', '","','",s=extractSegment("[","]",l=1,a))).split("','"))[0]=s[0].substr(1),s[s.length-1]=replaceAll("']","",s[s.length-1]);for(var p=0;p<s.length;p++)s[p]=s[p].replace(/"/g,'\\"').replace(/\\'/g,"'");n[i]={type:"arrayOfStrings",val:s}}else if("["==a.charAt(1)){var d,l=1,m=[];do{l+=(d=extractSegment("[","]",l,a)).length;let e=d.substr(1,d.length-2).trim();"I"==e.charAt(0)&&";"==e.charAt(1)&&(e=e.substr(2)),m.push(e.split(",")),","==a.charAt(l)&&l++}while("["==a.charAt(l));n[i]={type:"arrayOfArrays",val:m}}else"I"==(a=a.substr(1,a.length-2).trim()).charAt(0)&&";"==a.charAt(1)&&(a=n.hasOwnProperty("AttributeName")&&settings.randmizeUUIDs?convertHexUUIDToCSV(getRandomUUIDv4()):a.substr(2)),n[i]={type:"arrayOfVals",val:a.split(",")};else'"'==e.charAt(o)?(t=this.getStringToNextSymbolInsideString(",}",e,o),n[i]={type:"string",val:t.substr(1,t.length-2)},o+=t.length):"'"==e.charAt(o)?(t=this.getStringToNextSymbolInsideString_SingleQuoteSurounds(",}",e,o),n[i]={type:"string",val:t.substr(1,t.length-2)},o+=t.length):(o+=(t=this.getStringToNextSymbol(",}",e,o)).length,n[i]={type:"raw",val:t})}}while("}"!=e.charAt(o)&&o<e.length);return n}skipSpaces(e,t){for(;e<t.length&&" "==t.charAt(e);)e++;return e}getStringToNextSymbolInsideString(e,t,a){for(var o=!0,n="";a<t.length&&o;)n+=t.charAt(a),'"'==t.charAt(++a)&&"\\"!=t.charAt(a-1)&&(o=!1,n+=t.charAt(a));return this.getStringToNextSymbol(e,t,a),n}getStringToNextSymbolInsideString_SingleQuoteSurounds(e,t,a){for(var o=!0,n="";a<t.length&&o;)n+=t.charAt(a),"'"==t.charAt(++a)&&"\\"!=t.charAt(a-1)&&(o=!1,n+=t.charAt(a));return this.getStringToNextSymbol(e,t,a),n}getStringToNextSymbol(e,t,a){for(;","==t.charAt(a)||"{"==t.charAt(a);)a++;for(var o="";a<t.length&&-1==e.indexOf(t.charAt(a));)o+=t.charAt(a),a++;return o}}function extractSegment(e,t,a,o){var n=1,s=e;for(a+=1;0!=n&&a<o.length;a++)o.charAt(a)==e?n++:o.charAt(a)==t&&n--,s+=o.charAt(a);return s}class Entity{constructor(e,t){this.stackPos=e,this.entityType=t,this.passengersAllowed=!0,this.entityNBT={MotionX:{type:"text",format:"special",tip:"entity.Motion"},MotionY:{type:"text",format:"special",tip:"entity.Motion"},MotionZ:{type:"text",format:"special",tip:"entity.Motion"},Yaw:{type:"text",format:"special",tip:"entity"},Pitch:{type:"text",format:"special",tip:"entity"},Fire:{type:"ticks",tip:"entity"},HasVisualFire:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Air:{type:"ticks",tip:"axolotl"==t?"axolotl":"entity"},OnGround:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},NoGravity:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Silent:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Invulnerable:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Glowing:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},UUID:{type:"UUIDArray",format:"intArray",align:"R",tip:"entity"},CustomNameVisible:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},CustomName:{type:"customNameJSON",format:"special",tip:"entity"},Team:{type:"text",format:"string",tip:"mob"},Tags:{type:"text",format:"special",tip:"entity",fwClass:"bigTF"}}}addSpawnPotentialFields(){this.spNBT={PosX:{type:"text",label:"Pos X",format:"special",tip:"entity.Pos"},PosY:{type:"text",label:"Pos Y",format:"special"},PosZ:{type:"text",label:"Pos Z",format:"special"},Weight:{type:"text",format:"special",tip:"entity"}},Object.assign(this.entityNBT,this.spNBT)}getEntityNBT(){var e,t="";for(e in this.entityNBT)t+=getNBTforKey(e,this.entityNBT[e],this.stackPos);return t=(t=(t=(t+=getMotion(this.stackPos,"Motion")+getRotation(this.stackPos))+getTargetingTags(this.stackPos))+getPassengersNBT(this.stackPos))+getCustomNameAndColor("#CustomName",this.stackPos)}loadBlockStateFallingBlock(e){if(null!=e.Name&&($("#block"+this.stackPos).val(extractMinecraftID(e.Name.val)),$("#block"+this.stackPos).trigger("change")),null!=e.Properties)for(var t in e.Properties.val)$("#"+t+"BS"+this.stackPos).val(e.Properties.val[t].val)}generateForm(){for(var e in"entitydata"!=currentCommand&&"data merge entity"!=currentCommand&&this.passengersAllowed&&(this.entityNBT.Passengers={type:"passenger",format:"special",tip:"entity",cssClass:"dummy",align:"B"}),this.entityNBT)createComponent("entityPane"+this.stackPos,e,this.entityNBT[e],this.stackPos)}loadOwnerNBT(e){"evoker_fangs"==this.entityType||"llama_spit"==this.entityType?convertLeastMostToArray("Owner"+this.stackPos,parseInt(e.OwnerUUIDLeast.val),parseInt(e.OwnerUUIDMost.val)):null!=e.L&&null!=e.M&&convertLeastMostToArray("Owner"+this.stackPos,parseInt(e.L.val),parseInt(e.M.val))}loadTargetNBT(e){null!=e.L&&null!=e.M&&convertLeastMostToArray("Target"+this.stackPos,parseInt(e.L.val),parseInt(e.M.val))}loadValue(e,t,a,o){if(null==this.entityNBT[t])if("HandItems"==t||"ArmorItems"==t)for(var n="HandItems"==t?["Holding","Offhand"]:["Boot","Leg","Body","Head"],s=0;s<a.length;s++)setupItemSlotForNBT(n[s]+o,a[s],e);else if("HandDropChances"==t||"ArmorDropChances"==t)for(n="HandDropChances"==t?["Holding","Offhand"]:["Boot","Leg","Body","Head"],s=0;s<a.length;s++)cachedNBT.dropChance[n[s]+o]=parseFloat(a[s]),null!=cachedNBT.dropChance[n[s]+o]&&""!=cachedNBT.dropChance[n[s]+o]?$("#"+n[s]+o+"dropChancePart").html("Drop Chance="+cachedNBT.dropChance[n[s]+o]):$("#"+n[s]+o+"dropChancePart").html(""),$("#"+n[s]+o+"DropChance").val(parseFloat(a[s]));else if("Items"==t)for(s=0;s<a.length;s++)setupItemSlotForNBT(replaceAll("b","",a[s].Slot.val)+"Slot"+o,a[s],e);else if("Motion"==t||"power"==t||"Pos"==t)$("#"+t+"X"+o).val(parseFloat(a[0])),$("#"+t+"Y"+o).val(parseFloat(a[1])),$("#"+t+"Z"+o).val(parseFloat(a[2]));else if("Rotation"==t)$("#Yaw"+o).val(parseFloat(a[0])),$("#Pitch"+o).val(parseFloat(a[1]));else if("DisabledSlots"==t)this.loadDisabledSlotsNBT(a);else if("Attributes"==t)for(s=0;s<a.length;s++){var i=(i=a[s].Name.val).substr(i.indexOf(".")+1);-1!=mobAttributes116.indexOf(i)?$("#"+i+o).val(parseFloat(a[s].Base.val)):-1!=mobAttributes.indexOf(i)&&$("#"+mobAttributes116[mobAttributes.indexOf(i)]+o).val(parseFloat(a[s].Base.val))}else"SpawnData"==t||"SpawnPotentials"==t?loadSpawnPotentialFromNBT(e,t,a,o):"OwnerUUID"==t?convertHexUUIDToArray("Owner"+o,a):"UUIDMost"==t?convertMostToArray("UUID"+o,a):"UUIDLeast"==t?convertLeastToArray("UUID"+o,a):"OwnerUUIDMost"==t?convertMostToArray("Owner"+o,a):"OwnerUUIDLeast"==t?convertLeastToArray("Owner"+o,a):"ConversionPlayerMost"==t?convertMostToArray("ConversionPlayer"+o,a):"ConversionPlayerLeast"==t?convertLeastToArray("ConversionPlayer"+o,a):"LoveCauseMost"==t?convertMostToArray("LoveCause"+o,a):"LoveCauseLeast"==t&&convertLeastToArray("LoveCause"+o,a);else if($("#"+t+o).length)if("text"==this.entityNBT[t].type||"choice"==this.entityNBT[t].type||"makeSelect"==this.entityNBT[t].type||"makeSelectWithIndexAndValues"==this.entityNBT[t].type||"makeSelectWithIndexes"==this.entityNBT[t].type){if("string"==this.entityNBT[t].format)"Potion"==t?$("#"+t+o).val(extractMinecraftID(a)):$("#"+t+o).val(a.replace(/\\"/g,'"').replace(/\\\\\\"/g,'\\"').replace(/\\'/g,"'"));else if("b"==this.entityNBT[t].format||"short"==this.entityNBT[t].format||"long"==this.entityNBT[t].format||"int"==this.entityNBT[t].format){var r=parseInt(a);"text"!=this.entityNBT[t].type&&!$("#"+t+o+" option[value='"+r+"']").length||$("#"+t+o).val(r)}else if("f"==this.entityNBT[t].format||"d"==this.entityNBT[t].format)$("#"+t+o).val(parseFloat(a));else if("special"==this.entityNBT[t].format)if("Tags"==t){for(var l="",s=0;s<a.length;s++)l+=","+a[s];$("#Tags"+o).val(l.substr(1))}else"Variant"==t?this.loadVariantNBT(a):"Dimension"==t?$("#Dimension"+o).val(a):"Motive"==t?$("#Motive"+o).val(extractMinecraftID(a)):"Particle"==t?this.loadParticleAndOptions(a):"SoundEvent"==t&&$("#SoundEvent"+o).val(a)}else"ticks"==this.entityNBT[t].type&&$("#"+t+o).val(a);else if("CustomName"==t){var c;deferOutput=deferJSONOutput=!0;try{c=JSON.parse(JSON.parse('"'+a+'"'))}catch(e){c=JSON.parse(JSON.parse('"'+a.replace(/"/g,'\\"').replace(/\\'/g,"'")+'"'))}importTellrawJSON("CustomName"+o,c),showHide("CustomName"+o+"EntityName","CustomName"+o+"EntityNameSH"),deferOutput=deferJSONOutput=!1}else if("Passengers"==t)for(s=0;s<a.length;s++){addPassenger("Passengers"+o+"Pane");var p=a[s],d=extractMinecraftID(p.id.val);$("#entity"+entityIndex).val(d),$("#entity"+entityIndex).trigger("change"),e.loadSummonCommand(p,entityIndex)}else"ActiveEffects"==t||"Effects"==t||"CustomPotionEffects"==t?loadCustomEffectsNBT(t+o,a):"Color"==t&&"colorChooser"==this.entityNBT[t].type?loadColorIntNBT(t+o,a):"AngryAt"==t?(Array.isArray(a)?loadUUIDArrayNBT:convertHexUUIDToArray)(t+o,a):"UUIDArray"==this.entityNBT[t].type&&loadUUIDArrayNBT(t+o,a)}}function loadUUIDArrayNBT(t,a){for(let e=0;e<4;e++)$("#"+t+e).val(a[e])}function loadCustomEffectsNBT(e,t){showHide(e+"Pane",e+"SH");for(var a=0;a<t.length;a++){var o=parseInt(t[a].Id.val);null!=t[a].Amplifier&&$("#"+e+"Amp_"+o).val(parseInt(t[a].Amplifier.val)),null!=t[a].Duration&&$("#"+e+"Ticks_"+o).val(parseInt(t[a].Duration.val)),null!=t[a].ShowParticles&&$("#"+e+"ShowParticles_"+o).val(t[a].ShowParticles.val)}}function loadStewEffectsNBT(e,t){showHide(e+"Pane",e+"SH");for(var a=0;a<t.length;a++){var o=parseInt(t[a].EffectId.val);null!=t[a].EffectDuration&&$("#"+e+"Ticks_"+o).val(parseInt(t[a].EffectDuration.val))}}class Mob extends Entity{constructor(e,t,a){super(e,t),this.mobNBT={FallDistance:{type:"text",format:"f",tip:"mob"},PortalCooldown:{type:"ticks",tip:"mob"},HurtTime:{type:"ticks",tip:"mob",align:"R"},DeathTime:{type:"ticks",tip:"mob",align:"R"},DeathLootTable:{type:"text",format:"string",tip:"mob",align:"R"},LeftHanded:{type:"choice",values:unsetTrueFalse,format:"b",tip:"mob",align:"R"},Leashed:{type:"choice",values:unsetTrueFalse,format:"b",tip:"mob",align:"R"},Leash:{label:"Leashed To",type:"UUIDArray",format:"special",align:"R",tip:"mob"},LeashedToPostX:{type:"text",format:"special",tip:"mob",align:"R"},LeashedToPostY:{type:"text",format:"special",tip:"mob",align:"R"},LeashedToPostZ:{type:"text",format:"special",tip:"mob",align:"R"},FallFlying:{type:"choice",values:unsetTrueFalse,format:"b",tip:"mob",align:"R"},ActiveEffects:{type:"statusEffects",format:"special",tip:"mob",align:"R"},PersistenceRequired:{type:"choice",values:unsetTrueFalse,format:"b",tip:"mob",align:"R"},NoAI:{type:"choice",values:unsetTrueFalse,format:"b",tip:"mob",align:"R"},CanPickUpLoot:{type:"choice",values:unsetTrueFalse,format:"b",tip:"mob",align:"R"},Holding:{type:"itemselect",format:"special",doDropChance:!0,hide:!0,tip:"mob",align:"R"},Offhand:{type:"itemselect",format:"special",doDropChance:!0,hide:!0,tip:"mob",align:"R"},Head:{type:"itemselect",format:"special",doDropChance:!0,hide:!0,tip:"mob",align:"R"},Body:{type:"itemselect",format:"special",doDropChance:!0,hide:!0,tip:"mob",align:"R"},Leg:{type:"itemselect",format:"special",doDropChance:!0,hide:!0,tip:"mob",align:"R"},Boot:{type:"itemselect",format:"special",doDropChance:!0,hide:!0,tip:"mob",align:"R"},AbsorptionAmount:{type:"text",format:"f",tip:"mob",align:"R"},Health:{type:"text",format:"f",tip:"mob",align:"R"},SleepingX:{type:"text",format:"int",tip:"mob.sleeping",align:"R"},SleepingY:{type:"text",format:"int",tip:"mob.sleeping",align:"R"},SleepingZ:{type:"text",format:"int",tip:"mob.sleeping",align:"R"}};for(var o=0;o<8;o++)this.mobNBT[mobAttributes116[o]]={type:"text",format:"special",tip:"mob."+mobAttributes116[o],align:"R"};"zombie"==this.entityType||"husk"==this.entityType||"drowned"==this.entityType?this.mobNBT.spawn_reinforcements={type:"text",format:"special",tip:"mob.spawn_reinforcements",align:"R"}:-1!=$.inArray(this.entityType,["horse","zombie_horse","skeleton_horse","donkey","mule"])?this.mobNBT.jump_strength={type:"text",format:"special",tip:"mob.jump_strength",align:"R"}:"parrot"==this.entityType&&(this.mobNBT.flying_speed={type:"text",format:"special",tip:"mob.flying_speed",align:"R"}),null!=a&&Object.assign(this.mobNBT,a)}loadLeashNBT(e){null!=e.UUIDLeast&&null!=e.UUIDMost?convertLeastMostToArray("Leash"+this.stackPos,parseInt(e.UUIDLeast.val),parseInt(e.UUIDMost.val)):null!=e.X&&null!=e.Y&&null!=e.Z&&($("#LeashedToPostX"+this.stackPos).val(parseInt(e.X.val)),$("#LeashedToPostY"+this.stackPos).val(parseInt(e.Y.val)),$("#LeashedToPostZ"+this.stackPos).val(parseInt(e.Z.val)))}getEntitySpecificCommand(e){return this.getMobNBT()}getMobNBT(){return super.getEntityNBT()+getHandAndArmorItmes(this.stackPos)+getStatusEffectsNBT("ActiveEffects","ActiveEffects"+this.stackPos)+this.getMobAttributes()+this.getLeashedTo()}generateForm(){Object.assign(this.entityNBT,this.mobNBT),super.generateForm()}getLeashedTo(){return $("#Leash"+this.stackPos+0).val()&&$("#Leash"+this.stackPos+1).val()&&$("#Leash"+this.stackPos+2).val()&&$("#Leash"+this.stackPos+3).val()?",Leash:{UUID:[I;"+$("#Leash"+this.stackPos+0).val()+","+$("#Leash"+this.stackPos+1).val()+","+$("#Leash"+this.stackPos+2).val()+","+$("#Leash"+this.stackPos+3).val()+"]}":$("#LeashedToPostX"+this.stackPos).val().length&&$("#LeashedToPostY"+this.stackPos).val().length&&$("#LeashedToPostZ"+this.stackPos).val().length?",Leash:{X:"+$("#LeashedToPostX"+this.stackPos).val()+",Y:"+$("#LeashedToPostY"+this.stackPos).val()+",Z:"+$("#LeashedToPostZ"+this.stackPos).val()+"}":""}getMobAttributes(){for(var e="",t=0;t<8;t++)0<$("#"+mobAttributes116[t]+this.stackPos).val().length&&(e+="{Name:generic."+mobAttributes116[t]+",Base:"+$("#"+mobAttributes116[t]+this.stackPos).val()+"},");return"zombie"!=this.entityType&&"husk"!=this.entityType&&"drowned"!=this.entityType||!$("#spawn_reinforcements"+this.stackPos).val().length?-1!=$.inArray(this.entityType,["horse","zombie_horse","skeleton_horse","donkey","mule"])&&$("#jump_strength"+this.stackPos).val().length?e+="{Name:horse.jump_strength,Base:"+$("#jump_strength"+this.stackPos).val()+"},":"parrot"==this.entityType&&$("#flying_speed"+this.stackPos).val().length&&(e+="{Name:generic.flying_speed,Base:"+$("#flying_speed"+this.stackPos).val()+"},"):e+="{Name:zombie.spawn_reinforcements,Base:"+$("#spawn_reinforcements"+this.stackPos).val()+"},",e.length?",Attributes:["+e.substring(0,e.length-1)+"]":e}}class SimpleEntity extends Entity{constructor(e,t,a){super(e,t),this.entityNBT={MotionX:{type:"text",format:"special",tip:"entity.Motion"},MotionY:{type:"text",format:"special",tip:"entity.Motion"},MotionZ:{type:"text",format:"special",tip:"entity.Motion"},Yaw:{type:"text",format:"special",tip:"entity"},Pitch:{type:"text",format:"special",tip:"entity"},NoGravity:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Silent:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Fire:{type:"ticks",tip:"entity"},HasVisualFire:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Glowing:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},UUID:{type:"UUIDArray",format:"intArray",align:"R",tip:"entity"},CustomName:{type:"customNameJSON",format:"special",tip:"entity"},CustomNameVisible:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Team:{type:"text",format:"string",tip:"mob"},Tags:{type:"text",format:"special",tip:"entity",fwClass:"bigTF"}},null!=a&&Object.assign(this.entityNBT,a)}getEntityNBT(){var e,t="";for(e in this.entityNBT)t+=getNBTforKey(e,this.entityNBT[e],this.stackPos);return t=(t=(t=(t+=getMotion(this.stackPos,"Motion")+getRotation(this.stackPos))+getTargetingTags(this.stackPos))+getPassengersNBT(this.stackPos))+getCustomNameAndColor("#CustomName",this.stackPos)}getEntitySpecificCommand(e){return this.getEntityNBT()}generateForm(){super.generateForm()}}class falling_block extends SimpleEntity{constructor(e,t){super(e,t),delete this.entityNBT.CustomName,delete this.entityNBT.CustomNameVisible,Object.assign(this.entityNBT,{Time:{type:"ticks",value:"1",tip:t,align:"R"},DropItem:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},HurtEntities:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},FallHurtMax:{type:"text",format:"int",tip:t,align:"R"},FallDistance:{type:"text",format:"f",tip:"mob",align:"R"},FallHurtAmount:{type:"text",format:"f",tip:t,align:"R"}})}generateForm(){var e,t="<br><span class='fLabel200'>Block</span>";for(e in t+="<select id='block"+this.stackPos+"' onchange='javascript:fallingBlockChange("+this.stackPos+");'>",itemsAndBlocks)"i"!=itemsAndBlocks[e].c&&(t+="<option value='"+e+"'>"+itemsAndBlocks[e].d+"</option>");t+="</select><input type='text' id='block_filter"+this.stackPos+"' placeholder='Filter' class='medTF' onkeyup=\"updateFallingBlockOptions('block',"+this.stackPos+")\"><span id='blockSpec"+this.stackPos+"'></span>",super.generateForm(),$("#entityPane"+this.stackPos+"R").append(t)}getEntitySpecificCommand(e){var t="";if(-1!=$("#block"+e).val()){if(t=',BlockState:{Name:"minecraft:'+$("#block"+e).val()+'"',$("#block"+e).val()in blockStates){var a,o="";for(a in blockStates[$("#block"+e).val()])"unset"!=$("#"+a+"BS"+e).val()&&(o+=","+a+':"'+$("#"+a+"BS"+e).val()+'"');0!=o.length&&(t+=",Properties:{"+o.substr(1)+"}")}t+="}";var n=blocks[e].getBlockNBT(e);n.length&&(t+=",TileEntityData:"+n)}for(a in this.entityNBT)t+=getNBTforKey(a,this.entityNBT[a],e);return t=(t=(t+=getMotion(e,"Motion"))+getTargetingTags(e))+getPassengersNBT(e)}loadFallingBlockEntityData(e,t){if(-1!=blocks[this.stackPos].bType.indexOf("_banner"))$("#BlockEntityTag"+this.stackPos).val(compoundToNBTString(e));else if(-1!=blocks[this.stackPos].bType.indexOf("command_block")){if(null!=e.CommandStats){var a,o=e.CommandStats.val;for(a in o)$("#"+a+this.stackPos).val(o[a].val)}}else"end_gateway"==blocks[this.stackPos].bType?null!=e.ExitPortal&&($("#X"+this.stackPos).val(e.ExitPortal.val.X.val),$("#Y"+this.stackPos).val(e.ExitPortal.val.Y.val),$("#Z"+this.stackPos).val(e.ExitPortal.val.Z.val)):-1!=blocks[this.stackPos].bType.indexOf("spawner")?(null!=e.SpawnData&&loadSpawnPotentialFromNBT(t,"SpawnData",[e.SpawnData.val],this.stackPos),null!=e.SpawnPotentials&&loadSpawnPotentialFromNBT(t,"SpawnPotentials",e.SpawnPotentials.val,this.stackPos)):"player_head"!=blocks[this.stackPos].bType&&"player_wall_head"!=blocks[this.stackPos].bType||$("#SkullOwner"+this.stackPos).val(compoundToNBTString(e));for(var n in e)blocks[this.stackPos].loadValue(t,n,e[n].val,this.stackPos)}}class marker extends Entity{constructor(e,t){super(e,t),this.passengersAllowed=!1,Object.assign(this.entityNBT,{data:{type:"text",format:"special",fwClass:"verybigTF",tip:t,align:"R"}})}getEntitySpecificCommand(e){return super.getEntityNBT()+this.getMarkerDataNBT()}loadMarkerData(e){$("#data"+this.stackPos).val(compoundToNBTString(e))}getMarkerDataNBT(){return $("#data"+this.stackPos).val().length?",data:"+$("#data"+this.stackPos).val():""}}class lightning_bolt extends Entity{constructor(e,t){super(e,t),this.passengersAllowed=!1,this.entityNBT={Tags:{type:"text",format:"special",tip:"entity",fwClass:"bigTF"}}}getEntitySpecificCommand(e){return getTargetingTags(this.stackPos)}}class fishing_bobber extends Entity{constructor(e,t){super(e,t),this.passengersAllowed=!1,this.entityNBT={OnGround:{type:"choice",values:unsetTrueFalse,format:"b",tip:t}}}getEntitySpecificCommand(e){return-1!=$("#OnGround"+e).val()?",OnGround:"+$("#OnGround"+e).val()+"b":""}}class pillager extends Mob{constructor(e,t,a){super(e,t,a),this.myNBT={PatrolLeader:{type:"choice",values:unsetTrueFalse,format:"b",tip:"pillager.PatrolLeader",align:"R"},Patrolling:{type:"choice",values:unsetTrueFalse,format:"b",tip:"pillager.Patrolling",align:"R"},HasRaidGoal:{type:"choice",values:unsetTrueFalse,format:"b",tip:"pillager.HasRaidGoal",align:"R"},CanJoinRaid:{type:"choice",values:unsetTrueFalse,format:"b",tip:"pillager.CanJoinRaid",align:"R"},PatrolTargetX:{type:"text",format:"special",tip:"pillager.PatrolTarget",align:"R"},PatrolTargetY:{type:"text",format:"special",align:"R"},PatrolTargetZ:{type:"text",format:"special",align:"R"},Wave:{type:"text",format:"int",tip:"pillager.Wave",align:"R"},RaidId:{type:"text",format:"int",tip:"pillager.RaidId",align:"R"}},null!=this.specificNBT&&Object.assign(this.myNBT,this.specificNBT)}getEntitySpecificCommand(e){return super.getEntityNBT()+getTargetCompound(this.stackPos,"PatrolTarget")+getHandAndArmorItmes(this.stackPos)+getStatusEffectsNBT("ActiveEffects","ActiveEffects"+this.stackPos)+this.getMobAttributes()+this.getLeashedTo()}loadPatrolTargetNBT(e){$("#PatrolTargetX"+this.stackPos).val(parseInt(e.X.val)),$("#PatrolTargetY"+this.stackPos).val(parseInt(e.Y.val)),$("#PatrolTargetZ"+this.stackPos).val(parseInt(e.Z.val))}generateForm(){Object.assign(this.mobNBT,this.myNBT),super.generateForm()}}class ender_crystal extends Entity{constructor(e,t){super(e,t),this.myNBT={ShowBottom:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},BeamTargetX:{type:"text",format:"special",tip:"ender_crystal.BeamTarget",align:"R"},BeamTargetY:{type:"text",format:"special",tip:"ender_crystal.BeamTarget",align:"R"},BeamTargetZ:{type:"text",format:"special",tip:"ender_crystal.BeamTarget",align:"R"}}}getEntitySpecificCommand(e){return super.getEntityNBT()+getTargetCompound(this.stackPos,"BeamTarget")}loadBeamTargetNBT(e){$("#BeamTargetX"+this.stackPos).val(parseInt(e.X.val)),$("#BeamTargetY"+this.stackPos).val(parseInt(e.Y.val)),$("#BeamTargetZ"+this.stackPos).val(parseInt(e.Z.val))}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}class evoker_fangs extends Entity{constructor(e,t){super(e,t),this.myNBT={Warmup:{type:"ticks",tip:t,align:"R"},Owner:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:t}}}getEntitySpecificCommand(e){return super.getEntityNBT()}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}class llama_spit extends SimpleEntity{constructor(e,t){super(e,t),this.myNBT={Owner:{type:"UUIDArray",format:"intArray",playerLookup:!0,align:"R",tip:t}}}getEntitySpecificCommand(e){return super.getEntityNBT()}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}class item extends SimpleEntity{constructor(e,t){super(e,t),this.myNBT={Item:{type:"itemselect",format:"special",hide:!1,tip:t,align:"R",forceConstruct:!0},Age:{type:"ticks",tip:t,align:"R"},Health:{type:"text",format:"short",tip:t,align:"R"},PickupDelay:{type:"ticks",tip:t,align:"R"},Thrower:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:t},Owner:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:t}}}getEntitySpecificCommand(e){return super.getEntityNBT()+",Item:"+getItemNBT("Item"+e)}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}class painting extends SimpleEntity{getEntitySpecificCommand(e){return super.getEntityNBT()+',Motive:"minecraft:'+$("#Motive"+e).val()+'"'}}class item_frame extends SimpleEntity{constructor(e,t){super(e,t),this.myNBT={Item:{type:"itemselect",format:"special",hide:!1,tip:"item",align:"R",forceConstruct:!0},Facing:{type:"choice",values:[[-1,"unset"],["0","Down"],["1","Up"],["2","North"],["3","South"],["4","West"],["5","East"]],format:"b",tip:"item_frame",align:"R"},ItemRotation:{type:"choice",values:[[-1,"unset"],["1","45&deg;"],["2","90&deg;"],["3","135&deg;"],["4","180&deg;"],["5","225&deg;"],["6","270&deg;"],["7","315&deg;"]],format:"b",tip:"item_frame",align:"R"},Invulnerable:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity",align:"R"},Invisible:{type:"choice",values:unsetTrueFalse,format:"b",tip:"item_frame",align:"R"},Fixed:{type:"choice",values:unsetTrueFalse,format:"b",tip:"item_frame",align:"R"}}}getEntitySpecificCommand(e){return super.getEntityNBT()+",Item:"+getItemNBT("Item"+e)}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}class shulker_bullet extends SimpleEntity{constructor(e,t){super(e,t),this.myNBT={Owner:{type:"UUIDArray",format:"intArray",align:"R",tip:"shlkrblt116"},Target:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:"shlkrblt116"},TXD:{type:"text",format:"d",tip:"shulker_bullet.offset",align:"R"},TYD:{type:"text",format:"d",align:"R"},TZD:{type:"text",format:"d",align:"R"},Steps:{type:"text",format:"int",tip:t,align:"R"}}}getEntitySpecificCommand(e){return super.getEntityNBT()}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}class Player extends Entity{constructor(e,t){super(e,t),this.stackPos=e,this.entityType=t,this.entityNBT={FallFlying:{type:"choice",values:unsetTrueFalse,format:"b",tip:"mob"},AbsorptionAmount:{type:"text",format:"f",tip:"mob"},Health:{type:"text",format:"f",tip:"mob"},FallDistance:{type:"text",format:"f",tip:"mob"},PortalCooldown:{type:"ticks",tip:"mob"},DataVersion:{type:"text",format:"int",tip:t},Dimension:{type:"choice",values:[[-2,"unset"],[-1,"The Nether"],[0,"The Overworld"],[1,"The End"]],format:"special",tip:t},Score:{type:"text",format:"int",tip:t},SelectedItemSlot:{type:"text",format:"int",tip:t},SelectedItem:{type:"itemselect",format:"special",hide:!0,tip:t},Inventory:{type:"multiitem",hide:!0,slotNumbers:!0,wildcardSlots:!0,tip:t},SpawnX:{type:"text",format:"int",tip:"player.spawn"},SpawnY:{type:"text",format:"int"},SpawnZ:{type:"text",format:"int"},SpawnForced:{type:"choice",values:unsetTrueFalse,format:"b",tip:t},Sleeping:{type:"choice",values:unsetTrueFalse,format:"b",tip:t},foodLevel:{type:"text",format:"int",tip:t,align:"R"},XpLevel:{type:"text",format:"int",tip:t,align:"R"},XpP:{type:"text",format:"f",tip:t,align:"R"},XpTotal:{type:"text",format:"int",tip:t,align:"R"},walkSpeed:{type:"text",format:"special",tip:t,align:"R"},flySpeed:{type:"text",format:"special",tip:t,align:"R"},mayfly:{type:"choice",values:unsetTrueFalse,format:"special",tip:t,align:"R"},flying:{type:"choice",values:unsetTrueFalse,format:"special",tip:t,align:"R"},invulnerable:{type:"choice",values:unsetTrueFalse,format:"special",tip:t,align:"R"},mayBuild:{type:"choice",values:unsetTrueFalse,format:"special",tip:t,align:"R"},instaBuild:{type:"choice",values:unsetTrueFalse,format:"special",tip:t,align:"R"},seenCredits:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"}}}loadAbilities(e,t){for(var a in t)-1!=t[a].val.indexOf("b")?$("#"+a+this.stackPos).val(parseInt(t[a].val)):$("#"+a+this.stackPos).val(parseFloat(t[a].val))}loadPlayerInventory(t,a,e){var o="Inventory"+e+"MultiItem";showHide(o+"Pane",o+"PaneSH");for(let e=0;e<a.length;e++)null!=a[e].id?(addMultiItem(o+"Pane",!0),showHide(o+"Pane_"+e+"Pane",o+"Pane_"+e+"PaneSH"),setupItemSlotForNBT(o+"Pane_"+e,a[e],t),null!=a[e].Slot&&$("#"+o+"Pane_"+e+"Slot").val(parseInt(a[e].Slot.val))):null!=a[e].Slot&&(addWildcardSlot(o+"Pane"),$("#"+o+"Pane_"+e).val(parseInt(a[e].Slot.val)))}getAbilities(e){var t="";return $("#walkSpeed"+e).val().length&&(t+=",walkSpeed:"+$("#walkSpeed"+e).val()+"f"),$("#flySpeed"+e).val().length&&(t+=",flySpeed:"+$("#flySpeed"+e).val()+"f"),-1!=$("#mayfly"+e).val()&&(t+=",mayfly:"+$("#mayfly"+e).val()+"b"),-1!=$("#flying"+e).val()&&(t+=",flying:"+$("#flying"+e).val()+"b"),-1!=$("#invulnerable"+e).val()&&(t+=",invulnerable:"+$("#invulnerable"+e).val()+"b"),-1!=$("#mayBuild"+e).val()&&(t+=",mayBuild:"+$("#mayBuild"+e).val()+"b"),-1!=$("#instaBuild"+e).val()&&(t+=",instaBuild:"+$("#instaBuild"+e).val()+"b"),t.length?",abilities:{"+t.substr(1)+"}":t}getEntitySpecificCommand(e){var t="",a=getItemNBT("SelectedItem"+e);"{}"!=a&&(t+=",SelectedItem:"+a),-2!=$("#Dimension"+e).val()&&(t+=",Dimension:"+$("#Dimension"+e).val());let o="";return $("#Inventory"+e+"MultiItemPane  > .itemSelectControl").each(function(e){var t=this.id.substr(0,this.id.lastIndexOf("Pane"));"-1"!=$("#"+t).val()&&(o+=","+getItemNBT(t,"CountOptional"))}),$("#Inventory"+e+"MultiItemPane  > .wildcardSlot").each(function(e){var t=this.id.substr(0,this.id.lastIndexOf("Panel"));$("#"+t).val().length&&(o+=",{Slot:"+$("#"+t).val()+"b}")}),o.length&&(t+=",Inventory:["+o.substr(1)+"]"),(t+=this.getAbilities(e))+this.getEntityNBT()}getEntityNBT(){var e,t="";for(e in this.entityNBT)t+=getNBTforKey(e,this.entityNBT[e],this.stackPos);return t}generateForm(){for(var e in this.entityNBT)createComponent("entityPane"+this.stackPos,e,this.entityNBT[e],this.stackPos)}}var booksJson,quillsJson,tellrawJson,signJson,jsonColors=["unset","Hex Code","reset","white","black","dark_blue","dark_green","dark_aqua","dark_red","dark_purple","gold","gray","dark_gray","blue","green","aqua","red","light_purple","yellow"];class Book{constructor(){this.formats=["bold","italic","underlined","strikethrough","obfuscated"],this.books=[],this.context="book",this.htmlColorMap={reset:"#000000",unset:"#000000",black:"#000000",dark_blue:"#0000aa",dark_green:"#00aa00",dark_aqua:"#00aaaa",dark_red:"#aa0000",dark_purple:"#aa00aa",gold:"#ffaa00",gray:"#aaaaaa",dark_gray:"#555555",blue:"#5555ff",green:"#55ff55",aqua:"#55ffff",red:"#ff5555",light_purple:"#ff55ff",yellow:"#ffff55",white:"#ffffff"}}cuttoJSONClipboard(e,t){let a,o;o=this.books[e].cSection<this.books[e].cSectionLast?(a=this.books[e].cSection,this.books[e].cSectionLast):(a=this.books[e].cSectionLast,this.books[e].cSection),(a==o&&1<this.sectionsLength(e)||0!=a||o<this.sectionsLength(e)-1)&&(clipboard[3]=JSON.stringify(this.books[e].pages[this.books[e].cPage].splice(a,o-a+1)),this.books[e].cSectionLast=0,this.books[e].cSection=0,displaySectionValues(e,this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data,t),$("#nbtType").val(3),$("#clipBoard-ta").val(clipboard[3]),copyToClipboard(clipboard[3]))}copytoJSONClipboard(e){let t,a;a=this.books[e].cSection<this.books[e].cSectionLast?(t=this.books[e].cSection,this.books[e].cSectionLast):(t=this.books[e].cSectionLast,this.books[e].cSection),clipboard[3]=JSON.stringify(this.books[e].pages[this.books[e].cPage].slice(t,a+1)),$("#nbtType").val(3),$("#clipBoard-ta").val(clipboard[3]),copyToClipboard(clipboard[3])}pastetoJSONClipboard(t,e){if(clipboard[3].length){var a=JSON.parse(clipboard[3]);for(let e=0;e<a.length;e++)this.books[t].cSection++,this.books[t].pages[this.books[t].cPage].splice(this.books[t].cSection,0,a[e]);displaySectionValues(t,this.books[t].pages[this.books[t].cPage][this.books[t].cSection].data,e)}}makeNewBook(e){this.books[e]={pages:[],cPage:0,cSection:0,cSectionLast:0,cHoverEvent:0},this.books[e].pages.push([]),this.books[e].pages[0].push(new Section)}getLineSection(e,t,a){a=null==a?this.books[e].cSection:a;return this.books[e].pages[t][a].data}flipSection(e,t){t+this.books[e].cSection>=this.sectionsLength(e)?this.books[e].cSection=0:t+this.books[e].cSection<0?this.books[e].cSection=this.sectionsLength(e)-1:this.books[e].cSection+=t,this.books[e].cHoverEvent=0,displaySectionValues(e,this.getSection(e),this.context)}flipPage(e,t){t+this.books[e].cPage>=this.books[e].pages.length?this.books[e].cPage=0:t+this.books[e].cPage<0?this.books[e].cPage=this.books[e].pages.length-1:this.books[e].cPage+=t,this.books[e].cSection=0,this.books[e].cHoverEvent=0,displaySectionValues(e,this.getSection(e),this.context)}getSection(e,t){t=null==t?this.books[e].cSection:t;return this.books[e].pages[this.books[e].cPage][t].data}sectionsLength(e){return this.books[e].pages[this.books[e].cPage].length}hoverSectionsLength(e){try{if(null!=this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data.hoverEvent.contents)return this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data.hoverEvent.contents.length}catch(e){}return 0}updateSection(e,t){this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data=t}getJsonForBook(e){for(var t="",a=0;a<this.books[e].pages.length;a++){var o=[this.books[e].pages[a][0].data],n=this.getFirstFormats(o[0]);if(this.removeUnrequiredFormatting(n,o[0]),1<this.books[e].pages[a].length){for(var s=1;s<this.books[e].pages[a].length;s++)""!=this.books[e].pages[a][s].data.text&&(o.push(this.books[e].pages[a][s].data),this.removeUnrequiredFormatting(n,o[o.length-1]));t+=","+jsonConvert(JSON.stringify(removeUnsetFromJSON(JSON.stringify(o))))}else t+=","+jsonConvert(JSON.stringify(removeUnsetFromJSON(JSON.stringify(o[0]))))}return t.length?1==this.books[e].pages.length&&1==this.books[e].pages[0].length&&null!=this.books[e].pages[0][0].data.text&&""==this.books[e].pages[0][0].data.text?"":",pages:["+t.substr(1)+"]":t}removeUnrequiredFormatting(e,t){for(var a=0;a<this.formats.length;a++)this.formats[a]in e||t[this.formats[a]]||delete t[this.formats[a]]}getFirstFormats(e){for(var t={},a=0;a<this.formats.length;a++)e[this.formats[a]]&&(t[this.formats[a]]=!0);return t}swapSection(e,t){var a,t=t+this.books[e].cSection>=this.sectionsLength(e)?0:t+this.books[e].cSection<0?this.sectionsLength(e)-1:this.books[e].cSection+t;t!=this.books[e].cSection&&(a=this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data,this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data=this.books[e].pages[this.books[e].cPage][t].data,this.books[e].pages[this.books[e].cPage][t].data=a,this.books[e].cSection=t),displaySectionValues(e,this.getSection(e),this.context)}swapPage(e,t){var a,t=t+this.books[e].cPage>=this.books[e].pages.length?0:t+this.books[e].cPage<0?this.books[e].pages.length-1:this.books[e].cPage+t;t!=this.books[e].cPage&&(a=this.books[e].pages[this.books[e].cPage],this.books[e].pages[this.books[e].cPage]=this.books[e].pages[t],this.books[e].pages[t]=a,this.books[e].cPage=t),this.books[e].cSection=0,displaySectionValues(e,this.getSection(e),this.context)}flipPage(e,t){t+this.books[e].cPage>=this.books[e].pages.length?this.books[e].cPage=0:t+this.books[e].cPage<0?this.books[e].cPage=this.books[e].pages.length-1:this.books[e].cPage+=t,this.books[e].cSection=0,displaySectionValues(e,this.getSection(e),this.context)}addPage(e){this.books[e].pages.push([]),this.books[e].cPage=this.books[e].pages.length-1,this.books[e].pages[this.books[e].cPage].push(new Section),this.books[e].cSection=0,displaySectionValues(e,this.getSection(e),this.context)}deletePage(e){return this.books[e].pages.splice(this.books[e].cPage,1),this.books[e].cPage>=this.books[e].pages.length&&(this.books[e].cPage=this.books[e].pages.length-1),this.books[e].cSection=0,this.getSection(e)}deleteSection(e){return this.books[e].pages[this.books[e].cPage].splice(this.books[e].cSection,1),this.books[e].cSection>=this.sectionsLength(e)&&(this.books[e].cSection=this.sectionsLength(e)-1),this.getSection(e)}flipHoverSection(e,t){t+this.books[e].cHoverEvent>=this.hoverSectionsLength(e)?this.books[e].cHoverEvent=0:t+this.books[e].cHoverEvent<0?this.books[e].cHoverEvent=this.hoverSectionsLength(e)-1:this.books[e].cHoverEvent+=t,displaySectionValues(e,this.getSection(e),this.context)}swapHoverSection(e,t){let a;(a=t+this.books[e].cHoverEvent>=this.hoverSectionsLength(e)?0:t+this.books[e].cHoverEvent<0?this.hoverSectionsLength(e)-1:this.books[e].cHoverEvent+t)!=this.books[e].cHoverEvent&&(t=this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data.hoverEvent.contents[this.books[e].cHoverEvent],this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data.hoverEvent.contents[this.books[e].cHoverEvent]=this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data.hoverEvent.contents[a],this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data.hoverEvent.contents[a]=t,this.books[e].cHoverEvent=a),displaySectionValues(e,this.getSection(e),this.context)}deleteHoverSection(e){this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data.hoverEvent.contents.splice(this.books[e].cHoverEvent,1),this.books[e].cHoverEvent>=this.hoverSectionsLength(e)&&(this.books[e].cHoverEvent=this.hoverSectionsLength(e)-1,this.books[e].cHoverEvent<0)&&(this.books[e].cHoverEvent=0),displaySectionValues(e,this.getSection(e),this.context)}addHoverSection(e){var t;Array.isArray(this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data.hoverEvent.contents)?this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data.hoverEvent.contents.push({text:""}):(t=this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data.hoverEvent.contents,this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data.hoverEvent.contents=[{text:t}]),this.books[e].cHoverEvent++,$("#"+e+"hoverColor_colsettings").hide(),displaySectionValues(e,this.getSection(e),this.context)}addSection(e){this.books[e].pages[this.books[e].cPage].push(new Section),this.books[e].cSection=this.sectionsLength(e)-1,displaySectionValues(e,this.getSection(e),this.context)}addSectionFromObject(e,t){this.books[e].pages[this.books[e].cPage].push(t),this.books[e].cSection=this.sectionsLength(e)-1,displaySectionValues(e,this.getSection(e),this.context)}}class Section{constructor(e){this.data=null==e?{text:"",font:"",color:"unset",bold:"unset",italic:"unset",underlined:"unset",strikethrough:"unset",obfuscated:"unset"}:e}}class WritableBook{constructor(){this.books=[]}makeNewBook(e){this.books[e]={pages:[],cPage:0},this.books[e].pages.push("")}addPage(e){this.books[e].pages.push(""),this.books[e].cPage=this.books[e].pages.length-1,displayWriteablePage(e)}flipPage(e,t){t+this.books[e].cPage>=this.books[e].pages.length?this.books[e].cPage=0:t+this.books[e].cPage<0?this.books[e].cPage=this.books[e].pages.length-1:this.books[e].cPage+=t,displayWriteablePage(e)}deletePage(e){this.books[e].pages.splice(this.books[e].cPage,1),this.books[e].cPage>=this.books[e].pages.length&&(this.books[e].cPage=this.books[e].pages.length-1),displayWriteablePage(e)}swapPage(e,t){var a,t=t+this.books[e].cPage>=this.books[e].pages.length?0:t+this.books[e].cPage<0?this.books[e].pages.length-1:this.books[e].cPage+t;t!=this.books[e].cPage&&(a=this.books[e].pages[this.books[e].cPage],this.books[e].pages[this.books[e].cPage]=this.books[e].pages[t],this.books[e].pages[t]=a,this.books[e].cPage=t),displayWriteablePage(e)}updatePage(e,t){this.books[e].pages[this.books[e].cPage]=t}}function deletePage(e){1==booksJson.books[e].pages.length?alertify.alert("MCStacker requires books to have at least one page. So it aint gonna let you delete this page."):displaySectionValues(e,booksJson.deletePage(e),this.context)}function deleteLoreLine(e){1==tellrawJson.books[e].pages.length?alertify.alert("MCStacker requires Lore to have at least one line. So you can't delete this line."):displaySectionValues(e,tellrawJson.deletePage(e),"lore")}function deleteWritablePage(e){1==quillsJson.books[e].pages.length?alertify.alert("MCStacker requires writable books to have at least one page. So it aint gonna let you delete this page."):(quillsJson.deletePage(e),displayWriteablePage(e))}function deleteSection(e){1==booksJson.sectionsLength(e)?alertify.alert("MCStacker requires pages to have at least one section. So it aint gonna let you delete this section."):displaySectionValues(e,booksJson.deleteSection(e),booksJson.context)}function deleteHoverSection(e,t){("book"==t?booksJson:tellrawJson).deleteHoverSection(e)}function deleteTellrawSection(e){1==tellrawJson.sectionsLength(e)?alertify.alert("MCStacker requires Json elements to have at least one section. So it aint gonna let you delete this section."):displaySectionValues(e,tellrawJson.deleteSection(e),tellrawJson.context)}function clearSectionUI(e){$("#"+e+"bookText_choice").val("text"),$("#"+e+"bookText_txt").val(""),$("#"+e+"objective").val(""),$("#"+e+"separator").val(""),$("#"+e+"font").val(""),$("#"+e+"color").val("unset"),$("#"+e+"boldunset").prop("checked",!0),$("#"+e+"italicunset").prop("checked",!0),$("#"+e+"underlinedunset").prop("checked",!0),$("#"+e+"strikethroughunset").prop("checked",!0),$("#"+e+"obfuscatedunset").prop("checked",!0),$("#"+e+"hoverEvent_txt").val(""),$("#"+e+"clickEvent_txt").val("")}function bookPreview(e){$("#"+e+"Preview").html("");for(var t=booksJson.books[e].cPage,a=booksJson.getSection(e,0),o=0;o<booksJson.sectionsLength(e);o++){var n=booksJson.getSection(e,o);$("#"+e+"Preview").append(sectionJSONPreview(e,o,t,n,a,booksJson))}}function displayWriteablePage(e){$("#"+e+"bookText").val(quillsJson.books[e].pages[quillsJson.books[e].cPage]),$("#"+e+"pageNo").html("Page "+(quillsJson.books[e].cPage+1)+" of "+quillsJson.books[e].pages.length),generateCommand()}function getFormatUIValueFromData(e){return null==e?"unset":e}function displaySectionValues(t,a,o){clearSectionUI(t);var n,e="";if("text"in a?($("#"+t+"bookText_choice").val("text"),e=a.text):"translate"in a?($("#"+t+"bookText_choice").val("translate"),e=a.translate):"keybind"in a?($("#"+t+"bookText_choice").val("keybind"),e=a.keybind):"score"in a?($("#"+t+"bookText_choice").val("score"),$("#"+t+"bookText_choice").trigger("change"),e=a.score.name,$("#"+t+"objective").val(a.score.objective)):"selector"in a?($("#"+t+"bookText_choice").val("selector"),e=a.selector,$("#"+t+"bookText_choice").trigger("change"),$("#"+t+"separator").val(replaceAll("\n","\\n",a.separator))):"nbt"in a&&($("#"+t+"bookText_choice").val("nbt"),$("#"+t+"bookText_choice").trigger("change"),e=a.nbt,"entity"in a?($("#"+t+"targetType").val("entity"),$("#"+t+"targetType").trigger("change"),$("#"+t+"nbtEntityTarget").val(a.entity)):"storage"in a?($("#"+t+"targetType").val("storage"),$("#"+t+"targetType").trigger("change"),$("#"+t+"nbtStorageTarget").val(a.storage)):"block"in a&&($("#"+t+"targetType").val("block"),$("#"+t+"targetType").trigger("change"),$("#"+t+"BlockNBT").val(a.block)),"interpret"in a)&&$("#"+t+"interpret").val(a.interpret?1:0),"font"in a&&$("#"+t+"font").val(a.font),e=replaceAll("\n","\\n",e),$("#"+t+"bookText_txt").val(e),"color"in a?"#"==a.color.charAt(0)?($("#"+t+"color").val("Hex Code"),$("#"+t+"_color").val(a.color.substr(1)),new jscolor.color(document.getElementById(t+"_color"),{}).fromString(a.color.substr(1)),$("#"+t+"_colsettings").show()):($("#"+t+"color").val(a.color),$("#"+t+"_colsettings").hide()):($("#"+t+"color").val("unset"),$("#"+t+"_colsettings").hide()),$("#"+t+"bold"+getFormatUIValueFromData(a.bold)).prop("checked",!0),$("#"+t+"italic"+getFormatUIValueFromData(a.italic)).prop("checked",!0),$("#"+t+"underlined"+getFormatUIValueFromData(a.underlined)).prop("checked",!0),$("#"+t+"strikethrough"+getFormatUIValueFromData(a.strikethrough)).prop("checked",!0),$("#"+t+"obfuscated"+getFormatUIValueFromData(a.obfuscated)).prop("checked",!0),"hoverEvent"in a){$("#"+t+"hoverEvent_choice").val(a.hoverEvent.action);try{if(Array.isArray(a.hoverEvent.contents)){let e;(e="book"==o?booksJson:tellrawJson).books[t].cHoverEvent>=a.hoverEvent.contents.length&&(e.books[t].cHoverEvent=0),$("#"+t+"hoverEvent_txt").val(replaceAll("\n","\\n",a.hoverEvent.contents[e.books[t].cHoverEvent].text)),$("#"+t+"hoverfont").val(a.hoverEvent.contents[e.books[t].cHoverEvent].font),"color"in a.hoverEvent.contents[e.books[t].cHoverEvent]?"#"==(n=a.hoverEvent.contents[e.books[t].cHoverEvent].color).charAt(0)?($("#"+t+"hoverColor").val("Hex Code"),$("#"+t+"hover_color").val(n.substr(1)),new jscolor.color(document.getElementById(t+"hover_color"),{}).fromString(n.substr(1)),$("#"+t+"hoverColor_colsettings").show()):($("#"+t+"hoverColor").val(n),$("#"+t+"hoverColor_colsettings").hide()):$("#"+t+"hoverColor").val("unset"),$("#"+t+"hoverbold"+getFormatUIValueFromData(a.hoverEvent.contents[e.books[t].cHoverEvent].bold)).prop("checked",!0),$("#"+t+"hoveritalic"+getFormatUIValueFromData(a.hoverEvent.contents[e.books[t].cHoverEvent].italic)).prop("checked",!0),$("#"+t+"hoverunderlined"+getFormatUIValueFromData(a.hoverEvent.contents[e.books[t].cHoverEvent].underlined)).prop("checked",!0),$("#"+t+"hoverstrikethrough"+getFormatUIValueFromData(a.hoverEvent.contents[e.books[t].cHoverEvent].strikethrough)).prop("checked",!0),$("#"+t+"hoverobfuscated"+getFormatUIValueFromData(a.hoverEvent.contents[e.books[t].cHoverEvent].obfuscated)).prop("checked",!0)}else null!=a.hoverEvent.contents?($("#"+t+"hoverEvent_txt").val(replaceAll("\n","\\n",a.hoverEvent.contents)),a.hoverEvent.contents=[a.hoverEvent.contents]):$("#"+t+"hoverEvent_txt").val("")}catch(e){$("#"+t+"hoverEvent_txt").val("")}}else $("#"+t+"hoverEvent_txt").val("");"clickEvent"in a?($("#"+t+"clickEvent_choice").val(a.clickEvent.action),"boolean"==typeof a.clickEvent.value?$("#"+t+"clickEvent_txt").val(a.clickEvent.value):$("#"+t+"clickEvent_txt").val(replaceAll("\n","\\n",a.clickEvent.value))):$("#"+t+"clickEvent_txt").val(""),("book"==o?($("#"+t+"sectionNo").html("Section "+(booksJson.books[t].cSection+1)+" of "+booksJson.sectionsLength(t)),$("#"+t+"pageNo").html("Page "+(booksJson.books[t].cPage+1)+" of "+booksJson.books[t].pages.length),bookPreview):"tellraw"==o||"lore"==o?($("#"+t+"sectionNo").html("Section "+(tellrawJson.books[t].cSection+1)+" of "+tellrawJson.sectionsLength(t)),$("#"+t+"pageNo").html("Line "+(tellrawJson.books[t].cPage+1)+" of "+tellrawJson.books[t].pages.length),tellrawPreview):($("#"+t+"sectionNo").html("Section "+(signJson.books[t].cSection+1)+" of "+signJson.sectionsLength(t)),$("#"+t+"pageNo").html("Line "+(signJson.books[t].cPage+1)+" of "+signJson.books[t].pages.length),$("#"+t+"clickEvent_txt").prop("disabled",0!=signJson.books[t].cSection),$("#"+t+"clickEvent_choice").prop("disabled",0!=signJson.books[t].cSection),signPreview))(t),$("#"+t+"bookText_txt").trigger("keyup"),("book"==o?bookUpdate:"sign"==o?signUpdate:tellrawUpdate)(t)}function bookUpdate(e){var t,a={},o=replaceAll("\\n","\n",$("#"+e+"bookText_txt").val());"score"==$("#"+e+"bookText_choice").val()?a.score={name:o,objective:$("#"+e+"objective").val()}:"selector"==$("#"+e+"bookText_choice").val()?(a.selector=o,a.separator=replaceAll("\\n","\n",$("#"+e+"separator").val())):"nbt"==$("#"+e+"bookText_choice").val()?(a.nbt=o,"entity"==$("#"+e+"targetType").val()?a.entity=$("#"+e+"nbtEntityTarget").val():"storage"==$("#"+e+"targetType").val()?a.storage=$("#"+e+"nbtStorageTarget").val():(t=getCoordsString(e+"BlockNBT"),a.block=t[0]+" "+t[1]+" "+t[2]),1==$("#"+e+"interpret").val()?a.interpret=!0:0==$("#"+e+"interpret").val()&&(a.interpret=!1)):a[$("#"+e+"bookText_choice").val()]=o,a.font=$("#"+e+"font").val(),"Hex Code"==$("#"+e+"color").val()?a.color="#"+$("#"+e+"_color").val():a.color=$("#"+e+"color").val(),a.bold=$("input[name='"+e+"bold']:checked").val(),a.italic=$("input[name='"+e+"italic']:checked").val(),a.underlined=$("input[name='"+e+"underlined']:checked").val(),a.strikethrough=$("input[name='"+e+"strikethrough']:checked").val(),a.obfuscated=$("input[name='"+e+"obfuscated']:checked").val(),"hoverEvent"in booksJson.books[e].pages[booksJson.books[e].cPage][booksJson.books[e].cSection].data&&(a.hoverEvent=booksJson.books[e].pages[booksJson.books[e].cPage][booksJson.books[e].cSection].data.hoverEvent),"show_text"==$("#"+e+"hoverEvent_choice").val()?"hoverEvent"in a?(a.hoverEvent.action="show_text",a.hoverEvent.contents[booksJson.books[e].cHoverEvent]={text:replaceAll("\\n","\n",$("#"+e+"hoverEvent_txt").val())},a.hoverEvent.contents[booksJson.books[e].cHoverEvent].font=$("#"+e+"hoverfont").val(),"Hex Code"==$("#"+e+"hoverColor").val()?a.hoverEvent.contents[booksJson.books[e].cHoverEvent].color="#"+$("#"+e+"hover_color").val():a.hoverEvent.contents[booksJson.books[e].cHoverEvent].color=$("#"+e+"hoverColor").val(),a.hoverEvent.contents[booksJson.books[e].cHoverEvent].bold=$("input[name='"+e+"hoverbold']:checked").val(),a.hoverEvent.contents[booksJson.books[e].cHoverEvent].italic=$("input[name='"+e+"hoveritalic']:checked").val(),a.hoverEvent.contents[booksJson.books[e].cHoverEvent].underlined=$("input[name='"+e+"hoverunderlined']:checked").val(),a.hoverEvent.contents[booksJson.books[e].cHoverEvent].strikethrough=$("input[name='"+e+"hoverstrikethrough']:checked").val(),a.hoverEvent.contents[booksJson.books[e].cHoverEvent].obfuscated=$("input[name='"+e+"hoverobfuscated']:checked").val()):(booksJson.books[e].cHoverEvent=0,a.hoverEvent={action:"show_text",contents:[{text:replaceAll("\\n","\n",$("#"+e+"hoverEvent_txt").val())}]}):a.hoverEvent={action:$("#"+e+"hoverEvent_choice").val(),contents:replaceAll("\\n","\n",$("#"+e+"hoverEvent_txt").val())},showHideHoverEventFormatting(e,booksJson),$("#"+e+"clickEvent_txt").val().length&&(a.clickEvent={action:$("#"+e+"clickEvent_choice").val(),value:$("#"+e+"clickEvent_txt").val()}),booksJson.updateSection(e,a),deferJSONOutput||(bookPreview(e),hoverEventPreview(e,booksJson),generateCommand())}function getWrittenBookNBT(e){var t="",t=(t+=',title:"'+$("#"+e+"title").val()+'"')+(',author:"'+$("#"+e+"author").val()+'"');return-1!=$("#"+e+"generation").val()&&(t+=",generation:"+$("#"+e+"generation").val()),-1!=$("#"+e+"resolved").val()&&(t+=",resolved:"+$("#"+e+"resolved").val()+"b"),t+=booksJson.getJsonForBook(e)}function loadWritableBookFromNBT(e,t){for(var a=0;a<t.length;a++)0!=a&&quillsJson.addPage(e),quillsJson.updatePage(e,replaceAll('\\"','"',t[a]));quillsJson.flipPage(e,1)}function loadSignFromNBT(e,t){for(var a,o=0;o<4;o++){if(null!=t["Text"+(o+1)]){try{a=JSON.parse(JSON.parse('"'+t["Text"+(o+1)].val+'"'.replace(/\\[1]/g,"")))}catch(e){a=JSON.parse(JSON.parse('"'+t["Text"+(o+1)].val.replace(/"/g,'\\"').replace(/\\'/g,"'")+'"'))}if(null!=a.extra){var n=a.extra;delete a.extra,signJson.updateSection(e,a);for(var s=0;s<n.length;s++)signJson.addSectionFromObject(e,new Section(n[s]))}else{if(Array.isArray(a))for(var i=0;i<a.length;i++)signJson.addSectionFromObject(e,new Section(a[i]));else signJson.addSectionFromObject(e,new Section(a));signJson.flipSection(e,1),signJson.deleteSection(e)}}else signJson.updateSection(e,JSON.parse('{"text":"","color":"black"}'));signJson.flipPage(e,1)}}function createWrittenBookForm(e,t){null==booksJson&&(booksJson=new Book),$("#"+e+"ItemPane").append("<div id='"+e+"BookPane'></div>");var a,o={title:{type:"text",id:(e+="BookPane")+"title",format:"string",cssClass:"fLabel100",tip:"written_book"},author:{type:"text",id:e+"author",format:"string",cssClass:"fLabel100",tip:"written_book"},generation:{type:"choice",id:e+"generation",cssClass:"fLabel100",values:[[-1,"unset"],["0","Original"],["1","Copy of Original"],["2","Copy of Copy"],["3","Tattered"]],format:"int",tip:"written_book"},resolved:{type:"choice",id:e+"resolved",cssClass:"fLabel100",values:unsetTrueFalse,format:"b",tip:"written_book"},Pages:{type:"panel",cssClass:"fLabel100",panelID:e+"Pages",format:"special",tip:"written_book"}};for(a in o)createComponent(e,a,o[a],t);$("#"+e+"Pages").html("<span class='pagePreviewFrame'><span><br><a href=\"javascript:booksJson.flipPage('"+e+"',-1)\" class='greenPlus' title='Go to previous page'>&#8678;</a><span id='"+e+"pageNo'></span><a href=\"javascript:booksJson.flipPage('"+e+"',1)\" class='greenPlus' title='Go to next page'>&#8680;</a><a href=\"javascript:booksJson.addPage('"+e+"')\" class='greenPlus'  title='Add a new page'>+</a><a href=\"javascript:deletePage('"+e+"')\" class='redX' title='Delete this page'>X</a><a href=\"javascript:booksJson.swapPage('"+e+"', -1)\" class='anchorButton' title='Swap with previous page'>&#8630</a><a href=\"javascript:booksJson.swapPage('"+e+"',1)\" class='anchorButton' title='Swap with next page'>&#8631</a></span><br><span id='"+e+"Preview' class='pagePreview roundedDiv'></span>"+addJSONCopyPasteButtons(e,"book")+"</span><span id='"+e+"Setup' class='pageSetup'><br><span class='fLabel100'></span><span><a href=\"javascript:booksJson.flipSection('"+e+"',-1)\" class='greenPlus'  title='Go to previous section'>&#8678;</a><span id='"+e+"sectionNo'></span><a href=\"javascript:booksJson.flipSection('"+e+"',1)\" class='greenPlus' title='Go to next section'>&#8680;</a><a href=\"javascript:booksJson.addSection('"+e+"')\" class='greenPlus' title='Add a new section'>+</a><a href=\"javascript:deleteSection('"+e+"')\" class='redX' title='Delete this section'>X</a><a href=\"javascript:booksJson.swapSection('"+e+"', -1)\" class='anchorButton' title='Swap with previous section'>&#8630</a><a href=\"javascript:booksJson.swapSection('"+e+"',1)\" class='anchorButton' title='Swap with next section'>&#8631</a></span></span>"),$("#"+e+"Setup").append("<br><span class='fLabel100'>component type</span><select id='"+e+"bookText_choice'><option value='text'>text</option><option value='translate'>translate</option><option value='keybind'>keybind</option><option value='score'>score</option><option value='selector'>selector</option><option value='nbt'>nbt</option></select>"),$("#"+e+"Setup").append("<br><span class='fLabel100'>value</span><input type='text' id='"+e+"bookText_txt' class='bookUpdate bigTF'>"+makeTip("json.value")),$("#"+e+"Setup").append("<br><span id='"+e+"extraComponents'></span>"),createComponent(e+"Setup","color",{type:"makeSelect",id:e+"color",values:jsonColors,format:"special",cssClass:"fLabel100",tip:"written_book",eventClass:"jsonHexColorUpdate"},t),$("#"+e+"Setup").append("<span id='"+e+"_colsettings'><input id='"+e+"_color' value='FF0000' class='medTF' onchange='bookUpdate(\""+e+"\")'></span>"),new jscolor.color(document.getElementById(e+"_color"),{}).fromString("FF0000"),$("#"+e+"_colsettings").hide(),$(".jsonHexColorUpdate").on("change",function(){jsonHexColorUpdate(e,booksJson.context)}),createComponent(e+"Setup","font",{type:"text",id:e+"font",cssClass:"fLabel100",format:"string",tip:"written_book",eventClass:"bookUpdate"},t),createComponent(e+"Setup","jsonFormats",{label:" ",type:"jsonFormats",id:e,cssClass:"fLabel100",format:"special",eventClass:"bookUpdate"},t),createComponent(e+"Setup","clickEvent",{type:"choicetext",id:e+"clickEvent",values:["run_command","copy_to_clipboard","suggest_command","open_url","change_page"],format:"special",fwClass:"bigTF",cssClass:"fLabel100",tip:"written_book",eventClass:"bookUpdate"},t),createComponent(e+"Setup","hoverEvent",{type:"choicetext",id:e+"hoverEvent",values:["show_text","show_item","show_entity"],format:"special",cssClass:"fLabel100",fwClass:"bigTF",tip:"written_book",eventClass:"bookUpdate"},t),createComponent(e+"Setup","hoverEventFormat",{type:"panel",panelID:e+"hoverEventFormat",cssClass:"fLabel100",fwClass:"bigTF",eventClass:"bookUpdate"},t),makeHoverEventUI(e,"booksJson","bookUpdate"),$("#"+e+"bookText_choice").bind("change",function(){"score"==$("#"+e+"bookText_choice").val()?($("#"+e+"extraComponents").html("<span class='fLabel100'>objective</span><input type='text' id='"+e+"objective' class='bigTF bookUpdate'>"),$(".bookUpdate").on("change keyup",function(){bookUpdate(e)})):"selector"==$("#"+e+"bookText_choice").val()?($("#"+e+"extraComponents").html("<span class='fLabel100'>separator</span><input type='text' id='"+e+"separator' class='bigTF bookUpdate'>"+makeTip("json.separator")),$(".bookUpdate").on("change keyup",function(){bookUpdate(e)})):"nbt"==$("#"+e+"bookText_choice").val()?($("#"+e+"extraComponents").html("<span class='fLabel100'>target type</span><select id='"+e+"targetType'><option value='entity'>entity</option><option value='block'>block</option><option value='storage'>storage</option></select><br><span id='"+e+"nbtTarget'></span>"),changeNBTTargetTypeBook(e,t),bindTargetTypeChangeBook(e,t)):$("#"+e+"extraComponents").html(""),$("#"+e+"bookText_txt").trigger("keyup")}),booksJson.makeNewBook(e),$(".bookUpdate").on("change keyup",function(){bookUpdate(e)}),displaySectionValues(e,booksJson.getSection(e),booksJson.context)}function bindTargetTypeChangeBook(e,t){$("#"+e+"targetType").bind("change",function(){changeNBTTargetTypeBook(e,t)})}function changeNBTTargetTypeBook(e,t){"entity"==$("#"+e+"targetType").val()?$("#"+e+"nbtTarget").html("<span class='fLabel100'>entity </span><input type='text' id='"+e+"nbtEntityTarget' class='bookUpdate bigTF'>"):"storage"==$("#"+e+"targetType").val()?$("#"+e+"nbtTarget").html("<span class='fLabel100'>storage </span><input type='text' id='"+e+"nbtStorageTarget' class='bookUpdate bigTF'>"):($("#"+e+"nbtTarget").html(makeCoords(e+"BlockNBT","Block",!0,!0)),$("#"+e+"nbtTarget span").removeClass("fLabel200").addClass("fLabel100"),$("#"+e+"BlockNBT").addClass("bookUpdate")),createComponent(e+"nbtTarget","interpret",{id:e+"interpret",type:"choice",values:unsetTrueFalse,cssClass:"fLabel100",eventClass:"bookUpdate"},t),$(".bookUpdate").on("change keyup",function(){bookUpdate(e)}),bookUpdate(e)}function loadWrittenBookFromNBT(e,t){if(null!=t.title&&$("#"+e+"title").val(t.title.val),null!=t.author&&$("#"+e+"author").val(t.author.val),null!=t.generation&&$("#"+e+"generation").val(parseInt(t.generation.val)),null!=t.resolved&&$("#"+e+"resolved").val(parseInt(t.resolved.val)),null!=t.pages){for(var a=t.pages.val,o=0;o<a.length;o++){0!=o&&booksJson.addPage(e);var n=JSON.parse(JSON.parse('"'+a[o]+'"'.replace(/\\[1]/g,"")));if(null!=n.extra){var s=n.extra;delete n.extra,booksJson.updateSection(e,n);for(var i=0;i<s.length;i++)booksJson.addSectionFromObject(e,new Section(s[i]))}else{if(Array.isArray(n))for(var r=0;r<n.length;r++)booksJson.addSectionFromObject(e,new Section(n[r]));else booksJson.addSectionFromObject(e,new Section(n));booksJson.flipSection(e,1),booksJson.deleteSection(e)}}booksJson.flipPage(e,1)}}function getWritableBookNBT(e){return",pages:"+JSON.stringify(quillsJson.books[e].pages)}function createWritableBookForm(e,t){null==quillsJson&&(quillsJson=new WritableBook),$("#"+e+"ItemPane").append("<div id='"+e+"BookPane'></div>"),createComponent(e+="BookPane","Pages",{type:"panel",cssClass:"fLabel100",panelID:e+"Pages",format:"special",tip:"written_book"},t),$("#"+e+"Pages").html("<span class='writableBookFrame'><span><a href=\"javascript:quillsJson.flipPage('"+e+"',-1)\" class='greenPlus' title='Go to previous page'>&#8678;</a><span id='"+e+"pageNo'></span><a href=\"javascript:quillsJson.flipPage('"+e+"',1)\" class='greenPlus' title='Go to next page'>&#8680;</a><a href=\"javascript:quillsJson.addPage('"+e+"')\" class='greenPlus'  title='Add a new page'>+</a><a href=\"javascript:deleteWritablePage('"+e+"')\" class='redX' title='Delete this page'>X</a><a href=\"javascript:quillsJson.swapPage('"+e+"', -1)\" class='anchorButton' title='Swap with previous page'>&#8630</a><a href=\"javascript:quillsJson.swapPage('"+e+"',1)\" class='anchorButton' title='Swap with next page'>&#8631</a></span>\t\t   <br><span class='roundedDiv'><textarea class='writable_book' id='"+e+"bookText'></textarea></span></span>"),quillsJson.makeNewBook(e),$("#"+e+"bookText").on("keyup",function(){writableBookUpdate(e)}),$("#"+e+"pageNo").html("Page "+(quillsJson.books[e].cPage+1)+" of "+quillsJson.books[e].pages.length)}function writableBookUpdate(e){quillsJson.updatePage(e,$("#"+e+"bookText").val()),generateCommand()}function createTellrawForm(e,t,a,o,n){a=a||"ItemPane",null==tellrawJson&&(tellrawJson=new TellRawJson),createComponent(null!=n?e+=n:e+(a=a||"ItemPane"),"Pages",{type:"panel",cssClass:"fLabel100",panelID:e+"Pages",format:"special",tip:"written_book"},t);a="Lore"==n?"<span class='fLabel100'></span><span><a href=\"javascript:tellrawJson.flipPage('"+e+"',-1)\" class='greenPlus' title='Go to previous page'>&#8678;</a><span id='"+e+"pageNo' class='pageAndSection'></span><a href=\"javascript:tellrawJson.flipPage('"+e+"',1)\" class='greenPlus' title='Go to next page'>&#8680;</a><a href=\"javascript:tellrawJson.addPage('"+e+"')\" class='greenPlus'  title='Add a new page'>+</a><a href=\"javascript:deleteLoreLine('"+e+"')\" class='redX' title='Delete this page'>X</a><a href=\"javascript:tellrawJson.swapPage('"+e+"', -1)\" class='anchorButton' title='Swap with previous page'>&#8630</a><a href=\"javascript:tellrawJson.swapPage('"+e+"',1)\" class='anchorButton' title='Swap with next page'>&#8631</a></span><br>":"";$("#"+e+"Pages").html("<span id='"+e+"Setup' class='pageSetup'><br>"+a+"<span class='fLabel100'></span><span><a href=\"javascript:tellrawJson.flipSection('"+e+"',-1)\" class='greenPlus'  title='Go to previous section'>&#8678;</a><span id='"+e+"sectionNo' class='pageAndSection'></span><a href=\"javascript:tellrawJson.flipSection('"+e+"',1)\" class='greenPlus' title='Go to next section'>&#8680;</a><a href=\"javascript:tellrawJson.addSection('"+e+"')\" class='greenPlus' title='Add a new section'>+</a><a href=\"javascript:deleteTellrawSection('"+e+"')\" class='redX' title='Delete this section'>X</a><a href=\"javascript:tellrawJson.swapSection('"+e+"', -1)\" class='anchorButton' title='Swap with previous section'>&#8630</a><a href=\"javascript:tellrawJson.swapSection('"+e+"',1)\" class='anchorButton' title='Swap with next section'>&#8631</a></span></span><br><span class='pagePreviewFrame'><span id='"+e+"Preview' class='tellrawPreview roundedDiv'></span>"+addJSONCopyPasteButtons(e,"tellraw")+"</span>"),$("#"+e+"Setup").append("<br><span class='fLabel100'>component type</span><select id='"+e+"bookText_choice'><option value='text'>text</option></select>"),null!=o?$("#"+e+"bookText_choice").append("<option value='translate'>translate</option><option value='keybind'>keybind</option>"):$("#"+e+"bookText_choice").append("<option value='translate'>translate</option><option value='keybind'>keybind</option><option value='score'>score</option><option value='selector'>selector</option><option value='nbt'>nbt</option>"),$("#"+e+"Setup").append("<br><span class='fLabel100'>value</span><input type='text' id='"+e+"bookText_txt' class='tellrawUpdate bigTF'>"+makeTip("json.value")),$("#"+e+"Setup").append("<br><span id='"+e+"extraComponents'></span>"),createComponent(e+"Setup","color",{type:"makeSelect",id:e+"color",values:jsonColors,format:"special",cssClass:"fLabel100",tip:"written_book",eventClass:"jsonHexColorUpdate"},t),$("#"+e+"Setup").append("<span id='"+e+"_colsettings'><input id='"+e+"_color' value='FF0000' class='medTF' onchange='tellrawUpdate(\""+e+"\")'></span>"),new jscolor.color(document.getElementById(e+"_color"),{}).fromString("FF0000"),$("#"+e+"_colsettings").hide(),$(".jsonHexColorUpdate").on("change",function(){jsonHexColorUpdate(e,tellrawJson.context)}),createComponent(e+"Setup","font",{type:"text",id:e+"font",cssClass:"fLabel100",format:"string",tip:"written_book",eventClass:"tellrawUpdate"},t),createComponent(e+"Setup","jsonFormats",{label:" ",type:"jsonFormats",id:e,cssClass:"fLabel100",format:"special",eventClass:"tellrawUpdate"},t),"tellraw"==currentCommand&&(createComponent(e+"Setup","clickEvent",{type:"choicetext",id:e+"clickEvent",values:["run_command","copy_to_clipboard","suggest_command","open_url"],format:"special",fwClass:"bigTF",cssClass:"fLabel100",tip:"written_book",eventClass:"tellrawUpdate"},t),createComponent(e+"Setup","hoverEvent",{type:"choicetext",id:e+"hoverEvent",values:["show_text","show_item","show_entity"],format:"special",cssClass:"fLabel100",fwClass:"bigTF",tip:"written_book",eventClass:"tellrawUpdate"},t),createComponent(e+"Setup","hoverEventFormat",{type:"panel",panelID:e+"hoverEventFormat",cssClass:"fLabel100",fwClass:"bigTF",eventClass:"tellrawUpdate"},t),makeHoverEventUI(e,"tellrawJson","tellrawUpdate")),$("#"+e+"bookText_choice").bind("change",function(){"score"==$("#"+e+"bookText_choice").val()?($("#"+e+"extraComponents").html("<span class='fLabel100'>objective</span><input type='text' id='"+e+"objective' class='bigTF tellrawUpdate'>"),$(".tellrawUpdate").on("change keyup",function(){tellrawUpdate(e)})):"selector"==$("#"+e+"bookText_choice").val()?($("#"+e+"extraComponents").html("<span class='fLabel100'>separator</span><input type='text' id='"+e+"separator' class='bigTF tellrawUpdate'>"+makeTip("json.separator")),$(".tellrawUpdate").on("change keyup",function(){tellrawUpdate(e)})):"nbt"==$("#"+e+"bookText_choice").val()?($("#"+e+"extraComponents").html("<span class='fLabel100'>target type</span><select id='"+e+"targetType'><option value='entity'>entity</option><option value='block'>block</option><option value='storage'>storage</option></select><br><span id='"+e+"nbtTarget'></span>"),changeNBTTargetType(e,t),bindTargetTypeChange(e,t)):$("#"+e+"extraComponents").html(""),$("#"+e+"bookText_txt").trigger("keyup")}),tellrawJson.makeNewTellraw(e),$(".tellrawUpdate").on("change keyup",function(){tellrawUpdate(e)}),displaySectionValues(e,tellrawJson.getSection(e),tellrawJson.context)}function bindTargetTypeChange(e,t){$("#"+e+"targetType").bind("change",function(){changeNBTTargetType(e,t)})}function changeNBTTargetType(e,t){"entity"==$("#"+e+"targetType").val()?$("#"+e+"nbtTarget").html("<span class='fLabel100'>entity </span><input type='text' id='"+e+"nbtEntityTarget' class='tellrawUpdate bigTF'>"):"storage"==$("#"+e+"targetType").val()?$("#"+e+"nbtTarget").html("<span class='fLabel100'>storage </span><input type='text' id='"+e+"nbtStorageTarget' class='tellrawUpdate bigTF'>"):($("#"+e+"nbtTarget").html(makeCoords(e+"BlockNBT","Block",!0,!0)),$("#"+e+"nbtTarget span").removeClass("fLabel200").addClass("fLabel100"),$("#"+e+"BlockNBT").addClass("tellrawUpdate")),createComponent(e+"nbtTarget","interpret",{id:e+"interpret",type:"choice",values:unsetTrueFalse,cssClass:"fLabel100",eventClass:"tellrawUpdate"},t),$(".tellrawUpdate").on("change keyup",function(){tellrawUpdate(e)}),tellrawUpdate(e)}class TellRawJson extends Book{constructor(){super(),this.context="tellraw"}sectionsLengthForLine(e,t){return this.books[e].pages[t].length}makeNewTellraw(e){this.books[e]={pages:[],cPage:0,cSection:0,cSectionLast:0,cHoverEvent:0},this.books[e].pages.push([]),this.books[e].pages[0].push(new Section),this.books[e].pages[0][0].data.color="unset"}getJsonForTellrawExtraStyle(e){var t=$.extend({},this.books[e].pages[0][0].data),a=this.getFirstFormats(t);if(this.removeUnrequiredFormatting(a,t),1<this.books[e].pages[0].length){t.extra=[];for(var o=1;o<this.books[e].pages[0].length;o++)t.extra.push($.extend({},this.books[e].pages[0][o].data)),this.removeUnrequiredFormatting(a,t.extra[o-1])}return JSON.stringify(t)}getJsonForTellraw(e){try{if(""==this.books[e].pages[0][0].data.text)return"";var t=[this.books[e].pages[0][0].data],a=this.getFirstFormats(t[0]);if(this.removeUnrequiredFormatting(a,t[0]),1<this.books[e].pages[0].length){for(var o=1;o<this.books[e].pages[0].length;o++)""!=this.books[e].pages[0][o].data.text&&(t.push(this.books[e].pages[0][o].data),this.removeUnrequiredFormatting(a,t[t.length-1]));return removeUnsetFromJSON(JSON.stringify(t))}return removeUnsetFromJSON(JSON.stringify(t[0]))}catch(e){return""}}getJsonForLore(e){try{for(var t="",a=0;a<this.books[e].pages.length;a++){var o=[this.books[e].pages[a][0].data],n=this.getFirstFormats(o[0]);if(this.removeUnrequiredFormatting(n,o[0]),1<this.books[e].pages[a].length){o.extra=[];for(var s=1;s<this.books[e].pages[a].length;s++)""!=this.books[e].pages[a][s].data.text&&(o.push(this.books[e].pages[a][s].data),this.removeUnrequiredFormatting(n,o[o.length-1]));t+=","+jsonConvert(JSON.stringify(removeUnsetFromJSON(JSON.stringify(o))))}else""!=this.books[e].pages[a][0].data.text&&(t+=","+jsonConvert(JSON.stringify(removeUnsetFromJSON(JSON.stringify(o[0])))))}return t}catch(e){return""}}getJsonForLootTableItemName(e){try{if(!this.books[e].pages[0][0].data.text&&!this.books[e].pages[0][0].data.translate&&!this.books[e].pages[0][0].data.keybind)return[];var t=[removeUnsetFromObject(this.books[e].pages[0][0].data)],a=this.getFirstFormats(t[0]);if(this.removeUnrequiredFormatting(a,t[0]),0<this.books[e].pages[0].length){for(var o=1;o<this.books[e].pages[0].length;o++)""==this.books[e].pages[0][o].data.text&&""==this.books[e].pages[0][o].data.translate&&""==this.books[e].pages[0][o].data.keybind||(t.push(removeUnsetFromObject(this.books[e].pages[0][o].data)),this.removeUnrequiredFormatting(a,t[t.length-1]));return t}return removeUnsetFromObject(t[0])}catch(e){return[]}}getJsonLoreForLootTables(e){try{for(var t=[],a=0;a<this.books[e].pages.length;a++){var o=[removeUnsetFromObject(this.books[e].pages[a][0].data)],n=this.getFirstFormats(o[0]);if(this.removeUnrequiredFormatting(n,o[0]),1<this.books[e].pages[a].length){o.extra=[];for(var s=1;s<this.books[e].pages[a].length;s++)""!=this.books[e].pages[a][s].data.text&&""!=this.books[e].pages[a][s].data.translate&&""!=this.books[e].pages[a][s].data.keybind&&(o.push(removeUnsetFromObject(this.books[e].pages[a][s].data)),this.removeUnrequiredFormatting(n,o[o.length-1]));t.push(o)}else""!=this.books[e].pages[a][0].data.text&&""!=this.books[e].pages[a][0].data.translate&&""!=this.books[e].pages[a][0].data.keybind&&t.push(removeUnsetFromObject(o[0]));jQuery.isEmptyObject(t[t.length-1])&&t.splice(t.length-1,1)}return t}catch(e){return[]}}}function loadLoreFromNBT(t,e,a){for(var o=e,n=0;n<o.length;n++){0!=n&&tellrawJson.addPage(t);let e;if(null!=(e=a?o[n]:JSON.parse(JSON.parse('"'+o[n]+'"'.replace(/\\[1]/g,"")))).extra){var s=e.extra;delete e.extra,tellrawJson.updateSection(t,e);for(var i=0;i<s.length;i++)tellrawJson.addSectionFromObject(t,new Section(s[i]))}else{if(Array.isArray(e))for(var r=0;r<e.length;r++)tellrawJson.addSectionFromObject(t,new Section(e[r]));else tellrawJson.addSectionFromObject(t,new Section(e));tellrawJson.flipSection(t,1),tellrawJson.deleteSection(t)}}tellrawJson.flipPage(t,1)}function tellrawUpdate(e){var t,a={},o=replaceAll("\\n","\n",$("#"+e+"bookText_txt").val());"score"==$("#"+e+"bookText_choice").val()?a.score={name:o,objective:$("#"+e+"objective").val()}:"selector"==$("#"+e+"bookText_choice").val()?(a[$("#"+e+"bookText_choice").val()]=o,a.separator=replaceAll("\\n","\n",$("#"+e+"separator").val())):"nbt"==$("#"+e+"bookText_choice").val()?(a.nbt=o,"entity"==$("#"+e+"targetType").val()?a.entity=$("#"+e+"nbtEntityTarget").val():"storage"==$("#"+e+"targetType").val()?a.storage=$("#"+e+"nbtStorageTarget").val():(t=getCoordsString(e+"BlockNBT"),a.block=t[0]+" "+t[1]+" "+t[2]),1==$("#"+e+"interpret").val()?a.interpret=!0:0==$("#"+e+"interpret").val()&&(a.interpret=!1)):a[$("#"+e+"bookText_choice").val()]=o,a.font=$("#"+e+"font").val(),"Hex Code"==$("#"+e+"color").val()?a.color="#"+$("#"+e+"_color").val():a.color=$("#"+e+"color").val(),a.bold=$("input[name='"+e+"bold']:checked").val(),a.italic=$("input[name='"+e+"italic']:checked").val(),a.underlined=$("input[name='"+e+"underlined']:checked").val(),a.strikethrough=$("input[name='"+e+"strikethrough']:checked").val(),a.obfuscated=$("input[name='"+e+"obfuscated']:checked").val(),"hoverEvent"in tellrawJson.books[e].pages[tellrawJson.books[e].cPage][tellrawJson.books[e].cSection].data&&(a.hoverEvent=tellrawJson.books[e].pages[tellrawJson.books[e].cPage][tellrawJson.books[e].cSection].data.hoverEvent),"tellraw"==currentCommand&&("show_text"==$("#"+e+"hoverEvent_choice").val()?"hoverEvent"in a?(a.hoverEvent.action="show_text",a.hoverEvent.contents[tellrawJson.books[e].cHoverEvent]={text:replaceAll("\\n","\n",$("#"+e+"hoverEvent_txt").val())},a.hoverEvent.contents[tellrawJson.books[e].cHoverEvent].font=$("#"+e+"hoverfont").val(),"Hex Code"==$("#"+e+"hoverColor").val()?a.hoverEvent.contents[tellrawJson.books[e].cHoverEvent].color="#"+$("#"+e+"hover_color").val():a.hoverEvent.contents[tellrawJson.books[e].cHoverEvent].color=$("#"+e+"hoverColor").val(),a.hoverEvent.contents[tellrawJson.books[e].cHoverEvent].bold=$("input[name='"+e+"hoverbold']:checked").val(),a.hoverEvent.contents[tellrawJson.books[e].cHoverEvent].italic=$("input[name='"+e+"hoveritalic']:checked").val(),a.hoverEvent.contents[tellrawJson.books[e].cHoverEvent].underlined=$("input[name='"+e+"hoverunderlined']:checked").val(),a.hoverEvent.contents[tellrawJson.books[e].cHoverEvent].strikethrough=$("input[name='"+e+"hoverstrikethrough']:checked").val(),a.hoverEvent.contents[tellrawJson.books[e].cHoverEvent].obfuscated=$("input[name='"+e+"hoverobfuscated']:checked").val()):(tellrawJson.books[e].cHoverEvent=0,a.hoverEvent={action:"show_text",contents:[{text:replaceAll("\\n","\n",$("#"+e+"hoverEvent_txt").val())}]}):a.hoverEvent={action:$("#"+e+"hoverEvent_choice").val(),contents:replaceAll("\\n","\n",$("#"+e+"hoverEvent_txt").val())}),showHideHoverEventFormatting(e,tellrawJson),"tellraw"==currentCommand&&$("#"+e+"clickEvent_txt").val().length&&(a.clickEvent={action:$("#"+e+"clickEvent_choice").val(),value:$("#"+e+"clickEvent_txt").val()}),tellrawJson.updateSection(e,a),deferJSONOutput||(tellrawPreview(e),hoverEventPreview(e,tellrawJson),generateCommand())}function sectionJSONPreview(e,t,a,o,n,s){function i(e,t){return"true"==e||1==e||(null==e||"unset"==e)&&("true"==t||1==t)}let r,l;l=s.books[e].cSection<s.books[e].cSectionLast?(r=s.books[e].cSection,s.books[e].cSectionLast):(r=s.books[e].cSectionLast,s.books[e].cSection);var c,p="<span onClick=\"loadJSONPartFromPreview('"+e+"',"+t+","+a+",'"+s.context+"')\" style='cursor: pointer;",t=(i(o.bold,n.bold)&&(p+="font-weight:bold;"),i(o.italic,n.italic)&&(p+="font-style:italic;"),i(o.strikethrough,n.strikethrough)&&(p+="text-decoration:line-through;"),t==s.books[e].cSection&&a==s.books[e].cPage&&(p+="border:solid 1px red;"),t>=r&&t<=l&&a==s.books[e].cPage&&(p+="background-color:#ddd;"),null==o.color||"unset"==o.color?p+="color:"+s.htmlColorMap[n.color]+";'":"#"==o.color.charAt(0)?p+="color:"+o.color+";'":p+="color:"+s.htmlColorMap[o.color]+";'","");"clickEvent"in o&&(t+="clickEvent: action="+o.clickEvent.action+", value="+o.clickEvent.value),t.length&&(p+=" title='"+t+"'"),p+=">",i(o.underlined,n.underlined)&&(p+="<u>");try{c=replaceAll("\n","<br>",c=o.text||o.translate||o.keybind||o.selector||o.nbt||o.score.name||"")}catch(e){c=""}return i(o.obfuscated,n.obfuscated)?p+=function(e){for(var t="",a=0;a<e.length;a++)t+="\n"==e.charAt(a)?"\n":"*";return t}(c):p+=c,i(o.underlined,n.underlined)&&(p+="</u>"),p+="</span>"}function loadJSONPartFromPreview(e,t,a,o){"book"==o?(booksJson.books[e].cPage=a,booksJson.books[e].cSectionLast=booksJson.books[e].cSection,booksJson.books[e].cSection=t,booksJson.books[e].cHoverEvent=0,displaySectionValues(e,booksJson.getSection(e),o)):"tellraw"==o?(tellrawJson.books[e].cPage=a,tellrawJson.books[e].cSectionLast=tellrawJson.books[e].cSection,tellrawJson.books[e].cSection=t,tellrawJson.books[e].cHoverEvent=0,displaySectionValues(e,tellrawJson.getSection(e),o)):"sign"==o&&(signJson.books[e].cPage=a,signJson.books[e].cSectionLast=signJson.books[e].cSection,signJson.books[e].cSection=t,displaySectionValues(e,signJson.getSection(e),o))}function addJSONCopyPasteButtons(e,t){return"<br><a class='redX' href=\"javascript:cutJSONSections('"+e+"','"+t+"')\">Cut</a><a class='redX' href=\"javascript:copyJSONSections('"+e+"','"+t+"')\">Copy</a><a class='redX' href=\"javascript:pasteJSONSections('"+e+"','"+t+"')\">Paste</a>"+makeTip("json.CutCopyPaste")}function cutJSONSections(e,t){"book"==t?booksJson.cuttoJSONClipboard(e,t):"tellraw"==t?tellrawJson.cuttoJSONClipboard(e,t):"sign"==t&&signJson.cuttoJSONClipboard(e,t)}function copyJSONSections(e,t){"book"==t?booksJson.copytoJSONClipboard(e):"tellraw"==t?tellrawJson.copytoJSONClipboard(e):"sign"==t&&signJson.copytoJSONClipboard(e)}function pasteJSONSections(e,t){"book"==t?booksJson.pastetoJSONClipboard(e,t):"tellraw"==t?tellrawJson.pastetoJSONClipboard(e,t):"sign"==t&&signJson.pastetoJSONClipboard(e,t)}function makeHoverEventUI(e,t,a){let o="booksJson"==t?"book":"tellraw";$("#"+e+"hoverEventFormat").html('Hover Text Formatting<br><span><a href="javascript:'+t+".flipHoverSection('"+e+"',-1)\" class='greenPlus'  title='Go to previous section'>&#8678;</a><span id='"+e+"hoverSectionNo'></span><a href=\"javascript:"+t+".flipHoverSection('"+e+"',1)\" class='greenPlus' title='Go to next section'>&#8680;</a><a href=\"javascript:"+t+".addHoverSection('"+e+"')\" class='greenPlus' title='Add a new section'>+</a><a href=\"javascript:deleteHoverSection('"+e+"','"+o+"')\" class='redX' title='Delete this section'>X</a><a href=\"javascript:"+t+".swapHoverSection('"+e+"', -1)\" class='anchorButton' title='Swap with previous section'>&#8630</a><a href=\"javascript:"+t+".swapHoverSection('"+e+"',1)\" class='anchorButton' title='Swap with next section'>&#8631</a></span><br><span id='"+e+"HoverEventPreview' class='hoverPreview'>"),$("#"+e+"hoverEventFormat").addClass("roundedDiv"),createComponent(e+"hoverEventFormat","color",{type:"makeSelect",id:e+"hoverColor",values:jsonColors,format:"special",cssClass:"fLabel100",tip:"written_book",eventClass:"jsonHoverHexColorUpdate"},0),$("#"+e+"hoverEventFormat").append("<span id='"+e+"hoverColor_colsettings'><input id='"+e+"hover_color' value='FF0000' class='medTF' onchange='"+o+'Update("'+e+"\")'></span>"),new jscolor.color(document.getElementById(e+"hover_color"),{}).fromString("FF0000"),$("#"+e+"hoverColor_colsettings").hide(),$(".jsonHoverHexColorUpdate").on("change",function(){"Hex Code"==$("#"+e+"hoverColor").val()?$("#"+e+"hoverColor_colsettings").show():$("#"+e+"hoverColor_colsettings").hide(),("book"==o?bookUpdate:"sign"==o?signUpdate:tellrawUpdate)(e)}),createComponent(e+"hoverEventFormat","font",{type:"text",id:e+"hoverfont",cssClass:"fLabel100",format:"string",tip:"written_book",eventClass:a},0),createComponent(e+"hoverEventFormat","jsonFormats",{label:" ",type:"jsonFormats",id:e+"hover",cssClass:"fLabel100",format:"special",eventClass:a},0)}function showHideHoverEventFormatting(e,t){$("#"+e+"hoverEvent_txt")&&("show_text"==$("#"+e+"hoverEvent_choice").val()?$("#"+e+"hoverEventFormat").show():$("#"+e+"hoverEventFormat").hide())}function tellrawPreview(e){$("#"+e+"Preview").html("");for(var t=0;t<tellrawJson.books[e].pages.length;t++){for(var a=tellrawJson.getLineSection(e,t,0),o=0;o<tellrawJson.sectionsLengthForLine(e,t);o++){var n=tellrawJson.getLineSection(e,t,o);$("#"+e+"Preview").append(sectionJSONPreview(e,o,t,n,a,tellrawJson))}$("#"+e+"Preview").append("<br>")}}function hoverEventPreview(t,a){$("#"+t+"hoverSectionNo").html(a.books[t].cHoverEvent+1+" of "+a.hoverSectionsLength(t)),$("#"+t+"HoverEventPreview").html("");var o=a.getLineSection(t,a.books[t].cPage,a.books[t].cSection);if("hoverEvent"in o&&"contents"in o.hoverEvent)for(let e=0;e<o.hoverEvent.contents.length;e++)$("#"+t+"HoverEventPreview").append(hoverEventJSONPreview(t,e,o.hoverEvent.contents[e],o.hoverEvent.contents[0],a))}function loadJSONHoverPartFromPreview(e,t,a){"book"==a?(booksJson.books[e].cHoverEvent=t,displaySectionValues(e,booksJson.getSection(e),a)):"tellraw"==a&&(tellrawJson.books[e].cHoverEvent=t,displaySectionValues(e,tellrawJson.getSection(e),a))}function hoverEventJSONPreview(e,t,a,o,n){function s(e,t){return"true"==e||1==e||(null==e||"unset"==e)&&("true"==t||1==t)}var i,r="<span onClick=\"loadJSONHoverPartFromPreview('"+e+"',"+t+",'"+n.context+"')\" style='cursor: pointer;";s(a.bold,o.bold)&&(r+="font-weight:bold;"),s(a.italic,o.italic)&&(r+="font-style:italic;"),s(a.strikethrough,o.strikethrough)&&(r+="text-decoration:line-through;"),t==n.books[e].cHoverEvent&&(r+="border:solid 1px red;"),null==a.color||"unset"==a.color?r+="color:"+n.htmlColorMap.white+";'":"#"==a.color.charAt(0)?r+="color:"+a.color+";'":r+="color:"+n.htmlColorMap[a.color]+";'",r+=">",s(a.underlined,o.underlined)&&(r+="<u>");try{i=replaceAll("\n","<br>",i=a.text||a.translate||a.keybind||a.selector||a.nbt||a.score.name||"")}catch(e){i=""}return s(a.obfuscated,o.obfuscated)?r+=function(e){for(var t="",a=0;a<e.length;a++)t+="\n"==e.charAt(a)?"\n":"*";return t}(i):r+=i,s(a.underlined,o.underlined)&&(r+="</u>"),r+="</span>"}class Block{constructor(e,t){this.blockNBT=t||{},this.bType=e}getBlockNBT(e){e=e||0;var t,a="";for(t in this.blockNBT)a+=getNBTforKey(t,this.blockNBT[t],e);return"CustomName"in this.blockNBT&&(a+=getCustomNameAndColor("#CustomName",e)),a.length?"{"+a.substr(1)+"}":a}generateForm(e){for(var t in e=e||0,this.blockNBT)createComponent("blockSpec"+e,t,this.blockNBT[t],e)}generateFormForFalling(e){for(var t in this.blockNBT)createComponent("blockSpec"+e,t,this.blockNBT[t],e)}loadValue(e,t,a,o){var n,s=o||0;if($("#"+t+s).length&&null!=this.blockNBT[t])if("text"==this.blockNBT[t].type||"choice"==this.blockNBT[t].type||"makeSelect"==this.blockNBT[t].type||"makeSelectWithIndexAndValues"==this.blockNBT[t].type||"makeSelectWithIndexes"==this.blockNBT[t].type){if("string"==this.blockNBT[t].format)"Potion"==t?$("#"+t+s).val(extractMinecraftID(a)):$("#"+t+s).val(a.replace(/\\"/g,'"').replace(/\\\\\\"/g,'\\"').replace(/\\'/g,"'"));else if("b"==this.blockNBT[t].format||"short"==this.blockNBT[t].format||"long"==this.blockNBT[t].format||"int"==this.blockNBT[t].format)$("#"+t+s).val(parseInt(a));else if("f"==this.blockNBT[t].format||"d"==this.blockNBT[t].format)$("#"+t+s).val(parseFloat(a));else if("special"==this.blockNBT[t].format)if("Tags"==t){for(var i="",r=0;r<a.length;r++)i+=","+a[r];$("#Tags"+s).val(i.substr(1))}else"CustomName"==t&&(o=JSON.parse(JSON.parse('"'+a+'"'))).text&&$("#CustomName0").val(o.text)}else"ticks"==this.blockNBT[t].type?$("#"+t+s).val(a):"RecordItem"==t&&(showHide(t+s+"Pane",t+s+"SH"),setupItemSlotForNBT(t+s,a,e));else if("Items"==t)for(r=0;r<a.length;r++)setupItemSlotForNBT(replaceAll("b","",a[r].Slot.val)+"Slot"+s,a[r],e);else if("CustomName"==t){try{n=JSON.parse(JSON.parse('"'+a+'"'))}catch(e){n=JSON.parse(JSON.parse('"'+a.replace(/"/g,'\\"').replace(/\\'/g,"'")+'"'))}importTellrawJSON("CustomName"+s,n),showHide("CustomName"+s+"EntityName","CustomName"+s+"EntityNameSH")}else null!=this.blockNBT[t]&&"UUIDArray"==this.blockNBT[t].type&&loadUUIDArrayNBT(t+s,a)}}class Banner extends Block{getBlockNBT(e){e=e||0;var t=$("#BlockEntityTag"+e).val();return t.length&&(t=","+(t=-1!=t.indexOf("BlockEntityTag:")?(t=(t=t.substr(t.indexOf("BlockEntityTag:{"))).replace("BlockEntityTag:{","")).replace("}}",""):t)),(t+=getCustomNameAndColor("#CustomName",e)).length?"{"+t.substr(1)+"}":t}}class Beacon extends Block{constructor(e){var t=statusEffects.slice();t.splice(0,1,[0,"None"]),super(e,{Lock:{type:"text",format:"string",tip:"block.Lock"},Levels:{type:"text",format:"int",tip:e},Primary:{type:"choice",values:t,format:"int",tip:e},Secondary:{type:"choice",values:t,format:"int",tip:e}})}}class BlockWithSlots extends Block{constructor(e,t,a){var o={CustomName:{type:"customNameJSON",format:"special",tip:"block.CustomName"},Lock:{type:"text",format:"string",tip:"block.Lock"}};Object.assign(o,t);for(var n=0;n<a;n++)o[n+"Slot"]={type:"itemselect",format:"special",hide:!0,label:"Slot "+n};super(e,o),this.slots=a}getBlockNBT(e){e=e||0;var t,a="";for(t in this.blockNBT)a+=getNBTforKey(t,this.blockNBT[t],e);for(var o="",n=0;n<this.slots;n++){var s=getItemNBT(n+"Slot"+e);"{}"!=s&&(o+=",{Slot:"+n+"b,"+s.substr(1))}return o.length&&(a+=",Items:["+o.substr(1)+"]"),"furnace"==this.bType&&(a+=getRecipesUsed("RecipesUsed"+e)),(a+=getCustomNameAndColor("#CustomName",e)).length?"{"+a.substr(1)+"}":a}}class BeeHiveNest extends Block{constructor(e){initBeeHiveNestNBT(),super(e,beeHiveNestNBT)}setFlowerCoords(e,t,a){}getBlockNBT(e){var t=getFlowerCoords("FlowerPos",e=e||0);return(t+=getBeesForHiveNBT(e)).length?"{"+t.substr(1)+"}":t}}class campfire extends BlockWithSlots{constructor(e,t,a){for(var o={},n=0;n<a;n++)o[n+"Slot"]={type:"itemselect",format:"special",hide:!0,label:"Slot "+n},o[n+"CookingTime"]={type:"ticks",format:"special",tip:"campfire.CookingTime",label:"CookingTime "+n},o[n+"CookingTotalTime"]={type:"ticks",format:"special",tip:"campfire.CookingTotalTime",label:"CookingTotalTime "+n};super(e,o),delete this.blockNBT.CustomName,delete this.blockNBT.Lock,this.slots=a}getBlockNBT(e){e=e||0;var t,a="";for(t in this.blockNBT)a+=getNBTforKey(t,this.blockNBT[t],e);for(var o="",n="",s="",i=0;i<this.slots;i++){var r=getItemNBT(i+"Slot"+e);"{}"!=r&&(s+=",{Slot:"+i+"b,"+r.substr(1))}for(i=0;i<this.slots;i++)$("#"+i+"CookingTime"+e).val().length?o+=","+$("#"+i+"CookingTime"+e).val():o+=",0",$("#"+i+"CookingTotalTime"+e).val().length?n+=","+$("#"+i+"CookingTotalTime"+e).val():n+=",0";return",0,0,0,0"!=o&&(a+=",CookingTimes:[I;"+o.substr(1)+"]"),",0,0,0,0"!=n&&(a+=",CookingTotalTimes:[I;"+n.substr(1)+"]"),s.length&&(a+=",Items:["+s.substr(1)+"]"),a.length?"{"+a.substr(1)+"}":a}}class BrewingStand extends Block{constructor(e){for(var t={CustomName:{type:"customNameJSON",format:"special",tip:"block.CustomName"},Lock:{type:"text",format:"string",tip:"block.Lock"},BrewTime:{type:"ticks",tip:e},Fuel:{type:"text",format:"b",tip:e}},a=0;a<5;a++)t[a+"Slot"]={type:"itemselect",format:"special",hide:!0,label:"Slot "+a};super(e,t),this.slots=5}}function getCommandStatsFormNBT(){return{SuccessCountName:{type:"text",format:"string",tip:"commandStats"},SuccessCountObjective:{type:"text",format:"string",tip:"commandStats"},AffectedBlocksName:{type:"text",format:"string",tip:"commandStats"},AffectedBlocksObjective:{type:"text",format:"string",tip:"commandStats"},AffectedEntitiesName:{type:"text",format:"string",tip:"commandStats"},AffectedEntitiesObjective:{type:"text",format:"string",tip:"commandStats"},AffectedItemsName:{type:"text",format:"string",tip:"commandStats"},AffectedItemsObjective:{type:"text",format:"string",tip:"commandStats"},QueryResultName:{type:"text",format:"string",tip:"commandStats"},QueryResultObjective:{type:"text",format:"string",tip:"commandStats"}}}function getCommandBlockFieldsFormNBT(){return{CustomName:{type:"customNameJSON",format:"special",tip:"block.CustomName"},Command:{type:"text",format:"string",tip:"command_block"},SuccessCount:{type:"text",format:"int",tip:"command_block"},TrackOutput:{type:"choice",values:unsetTrueFalse,format:"b",tip:"command_block"},powered:{type:"choice",values:unsetTrueFalse,format:"b",tip:"command_block"},auto:{type:"choice",values:unsetTrueFalse,format:"b",tip:"command_block"},conditionMet:{type:"choice",values:unsetTrueFalse,format:"b",tip:"command_block"},UpdateLastExecution:{type:"choice",values:unsetTrueFalse,format:"b",tip:"command_block"},LastExecution:{type:"text",format:"long",tip:"command_block"}}}class CommandBlock extends Block{constructor(e){super(e,{}),this.cbNBT=getCommandBlockFieldsFormNBT(),this.csNBT=getCommandStatsFormNBT(),Object.assign(this.blockNBT,this.cbNBT),Object.assign(this.blockNBT,this.csNBT)}getBlockNBT(e){e=e||0;var t="";for(a in this.cbNBT)t+=getNBTforKey(a,this.cbNBT[a],e);var a,o="";for(a in this.csNBT)o+=getNBTforKey(a,this.csNBT[a],e);return o.length&&(t+=",CommandStats:{"+o.substr(1)+"}"),(t+=getCustomNameAndColor("#CustomName",e)).length?"{"+t.substr(1)+"}":t}}class EndGateway extends Block{getBlockNBT(e){var t="",a=getNBTforKey("Age",this.blockNBT.Age,e=e||0),a=(a.length&&(t+=a),(a=getNBTforKey("ExactTeleport",this.blockNBT.ExactTeleport,e)).length&&(t+=a),getNBTforKey("X",this.blockNBT.X,e)),o=getNBTforKey("Y",this.blockNBT.Y,e),e=getNBTforKey("Z",this.blockNBT.Z,e);return 0!=a.length&&0!=o.length&&0!=e.length&&(t+=",ExitPortal:{"+a.substr(1)+o+e+"}"),t.length?"{"+t.substr(1)+"}":t}}class FlowerPot extends Block{getBlockNBT(e){e=e||0;var t="",e=$("#Item"+e).val();return-1!=e&&(t='{Item:"minecraft:',-1==e.indexOf(":")?t+=e+'"}':t+=e.split(":")[0]+'",Data:'+e.split(":")[1]+"}"),t}}class JukeBox extends Block{getBlockNBT(e){var t="",a=getItemNBT("RecordItem"+(e=e||0));return"{}"!=a&&(t+=",RecordItem:"+a),(t+=getNBTforKey("Record",this.blockNBT.Record,e)).length?"{"+t.substr(1)+"}":t}}class Lectern extends Block{getBlockNBT(e){var t="",a=getItemNBT("Book"+(e=e||0));return"{}"!=a&&(t+=",Book:"+a),(t+=getNBTforKey("Page",this.blockNBT.Page,e)).length?"{"+t.substr(1)+"}":t}}class MobSpawner extends Block{constructor(e){super(e),initMobSpawnerNBT(),this.blockNBT=mobSpawnerNBT}getBlockNBT(e){e=e||0;var t,a="";for(t in this.blockNBT)a+=getNBTforKey(t,this.blockNBT[t],e);return(a+=getSpawnPotentailsNBT(e,!1)).length?"{"+a.substr(1)+"}":a}}class HeadBlock extends Block{getBlockNBT(e){e=e||0;var t,a=$("#SkullOwner"+e).val();for(t in a.length&&(a=-1!=a.indexOf("SkullOwner:{Id:")?","+(a=(a=(a=(a=(a=a.substr(a.indexOf("SkullOwner:{Id:"))).replace("SkullOwner:{Id:","Owner:{Id:")).replace("}]}}}}]}","}]}}")).replace("}]}}}","}]}}")).replace(" 1","")):-1!=a.indexOf("Owner:{Id:")?",Owner:"+extractSegment("{","}",a.indexOf("Owner:")+6,a):',Owner:{Name:"'+a+'"}'),this.blockNBT)a+=getNBTforKey(t,this.blockNBT[t],e);return a.length?"{"+a.substr(1)+"}":a}}class Sign extends Block{constructor(e,t){super(e,t),this.csNBT=getCommandStatsFormNBT(),Object.assign(this.blockNBT,t),Object.assign(this.blockNBT,this.csNBT)}getBlockNBT(e){e=e||0;var t,a="",o=("unset"!=$("#Color"+e).val()&&(a+=',Color:"'+$("#Color"+e).val()+'"'),a+=getNBTforKey("GlowingText",this.blockNBT.GlowingText,e),"");for(t in this.csNBT)o+=getNBTforKey(t,this.csNBT[t],e);return o.length&&(a+=",CommandStats:{"+o.substr(1)+"}"),(a+=signJson.getJsonForSign("blockSpec"+e+"SignPane")).length?"{"+a.substr(1)+"}":a}generateForm(e){for(var t in e=e||0,this.blockNBT)createComponent("blockSpec"+e,t,this.blockNBT[t],e);$("#blockSpec"+e).append("<br><span id='blockSpec"+e+"ItemPane'></span>"),createSignForm("blockSpec"+e,e)}generateFormForFalling(e){this.generateForm(e)}}class SignJson extends Book{constructor(){super(),this.context="sign"}sectionsLengthForLine(e,t){return this.books[e].pages[t].length}makeNewSign(e){this.books[e]={pages:[],cPage:0,cSection:0,cSectionLast:0};for(var t=0;t<4;t++)this.books[e].pages.push([]),this.books[e].pages[t].push(new Section)}getJsonForSign(e){for(var t="",a=0,o=0;o<this.books[e].pages.length;o++){var n=[this.books[e].pages[o][0].data],s=this.getFirstFormats(n[0]);if(this.removeUnrequiredFormatting(s,n[0]),1==this.books[e].pages[o].length&&null!=this.books[e].pages[o][0].data.text&&""==this.books[e].pages[o][0].data.text&&a++,1<this.books[e].pages[o].length){n.extra=[];for(var i=1;i<this.books[e].pages[o].length;i++)""!=this.books[e].pages[o][i].data.text&&(n.push(this.books[e].pages[o][i].data),this.removeUnrequiredFormatting(s,n[n.length-1]));""!=this.books[e].pages[o][0].data.text&&(t+=",Text"+(o+1)+":"+jsonConvert(JSON.stringify(removeUnsetFromJSON(JSON.stringify(n)))))}else""!=this.books[e].pages[o][0].data.text&&(t+=",Text"+(o+1)+":"+jsonConvert(JSON.stringify(removeUnsetFromJSON(JSON.stringify(n[0])))))}return 4==a?"":t}}function removeUnsetFromObject(e){for(key in e)"unset"!=e[key]&&""!=e[key]||delete e[key];return e}function removeUnsetFromJSON(e){e=replaceAll(',"color":"unset"',"",e),e=replaceAll(',"font":""',"",e);return e=replaceAll(',"bold":"unset"',"",e),e=replaceAll(',"italic":"unset"',"",e),e=replaceAll(',"underlined":"unset"',"",e),e=replaceAll(',"strikethrough":"unset"',"",e),e=replaceAll(',"obfuscated":"unset"',"",e),e=replaceAll(':"true"',":true",e),e=replaceAll(':"false"',":false",e),e=replaceAll(',"separator":""',"",e),replaceAll(',"hoverEvent":{"action":"show_text","contents":[{"text":""}]}',"",e)}function convert_contents_to_value(e){e=replaceAll('hoverEvent":{"action":"show_text","contents','hoverEvent":{"action":"show_text","value',e),e=replaceAll('hoverEvent":{"action":"show_item","contents','hoverEvent":{"action":"show_item","value',e);return replaceAll('hoverEvent":{"action":"show_entity","contents','hoverEvent":{"action":"show_entity","value',e)}function convert_value_to_contents(e){return null==e?e:(e=replaceAll('hoverEvent":{"action":"show_text","value','hoverEvent":{"action":"show_text","contents',e),e=replaceAll('hoverEvent":{"action":"show_item","value','hoverEvent":{"action":"show_item","contents',e),replaceAll('hoverEvent":{"action":"show_entity","value','hoverEvent":{"action":"show_entity","contents',e))}function createSignForm(e,t){null==signJson&&(signJson=new SignJson),$("#"+e+"ItemPane").append("<div id='"+e+"SignPane'></div>"),createComponent(e+="SignPane","Pages",{type:"panel",cssClass:"fLabel100",panelID:e+"Pages",format:"special",tip:"written_book"},t),$("#"+e+"Pages").append("<span class='pagePreviewFrame'><span><br><a href=\"javascript:signJson.flipPage('"+e+"',-1)\" class='greenPlus' title='Go to previous line'>&#8678;</a><span id='"+e+"pageNo'></span><a href=\"javascript:signJson.flipPage('"+e+"',1)\" class='greenPlus' title='Go to next line'>&#8680;</a><a href=\"javascript:signJson.swapPage('"+e+"', -1)\" class='anchorButton' title='Swap with previous line'>&#8630</a><a href=\"javascript:signJson.swapPage('"+e+"',1)\" class='anchorButton' title='Swap with next line'>&#8631</a></span><br><span id='"+e+"Preview' class='signPreview roundedDiv'></span>"+addJSONCopyPasteButtons(e,"sign")+"</span><span id='"+e+"Setup' class='pageSetup'><br><span class='fLabel100'></span><span><a href=\"javascript:signJson.flipSection('"+e+"',-1)\" class='greenPlus'  title='Go to previous section'>&#8678;</a><span id='"+e+"sectionNo'></span><a href=\"javascript:signJson.flipSection('"+e+"',1)\" class='greenPlus' title='Go to next section'>&#8680;</a><a href=\"javascript:signJson.addSection('"+e+"')\" class='greenPlus' title='Add a new section'>+</a><a href=\"javascript:deleteSignSection('"+e+"')\" class='redX' title='Delete this section'>X</a><a href=\"javascript:signJson.swapSection('"+e+"', -1)\" class='anchorButton' title='Swap with previous section'>&#8630</a><a href=\"javascript:signJson.swapSection('"+e+"',1)\" class='anchorButton' title='Swap with next section'>&#8631</a></span></span>"),$("#"+e+"Setup").append("<br><span class='fLabel100'>component type</span><select id='"+e+"bookText_choice'><option value='text'>text</option><option value='translate'>translate</option><option value='keybind'>keybind</option><option value='score'>score</option><option value='selector'>selector</option><option value='nbt'>nbt</option></select>"),$("#"+e+"Setup").append("<br><span class='fLabel100'>value</span><input type='text' id='"+e+"bookText_txt' class='signUpdate bigTF'>"),$("#"+e+"Setup").append("<br><span id='"+e+"extraComponents'></span>"),createComponent(e+"Setup","color",{type:"makeSelect",id:e+"color",values:jsonColors,format:"special",cssClass:"fLabel100",tip:"written_book",eventClass:"jsonHexColorUpdate"},t),$("#"+e+"Setup").append("<span id='"+e+"_colsettings'><input id='"+e+"_color' value='FF0000' class='medTF' onchange='signUpdate(\""+e+"\")'></span>"),new jscolor.color(document.getElementById(e+"_color"),{}).fromString("FF0000"),$("#"+e+"_colsettings").hide(),$(".jsonHexColorUpdate").on("change",function(){jsonHexColorUpdate(e,signJson.context)}),createComponent(e+"Setup","font",{type:"text",id:e+"font",cssClass:"fLabel100",format:"string",tip:"written_book",eventClass:"signUpdate"},t),createComponent(e+"Setup","jsonFormats",{label:" ",type:"jsonFormats",id:e,cssClass:"fLabel100",format:"special",eventClass:"signUpdate"},t),createComponent(e+"Setup","clickEvent",{type:"choicetext",id:e+"clickEvent",values:["run_command"],format:"special",fwClass:"bigTF",cssClass:"fLabel100",tip:"written_book",eventClass:"signUpdate"},t),$("#"+e+"bookText_choice").bind("change",function(){"score"==$("#"+e+"bookText_choice").val()?($("#"+e+"extraComponents").html("<span class='fLabel100'>objective</span><input type='text' id='"+e+"objective' class='bigTF signUpdate'>"),$(".signUpdate").on("change keyup",function(){signUpdate(e)})):"selector"==$("#"+e+"bookText_choice").val()?($("#"+e+"extraComponents").html("<span class='fLabel100'>separator</span><input type='text' id='"+e+"separator' class='bigTF signUpdate'>"+makeTip("json.separator")),$(".signUpdate").on("change keyup",function(){signUpdate(e)})):"nbt"==$("#"+e+"bookText_choice").val()?($("#"+e+"extraComponents").html("<span class='fLabel100'>target type</span><select id='"+e+"targetType'><option value='entity'>entity</option><option value='block'>block</option><option value='storage'>storage</option></select><br><span id='"+e+"nbtTarget'></span>"),changeNBTTargetTypeSign(e,t),bindTargetTypeChangeSign(e,t)):$("#"+e+"extraComponents").html(""),$("#"+e+"bookText_txt").trigger("keyup")}),signJson.makeNewSign(e),$(".signUpdate").on("change keyup",function(){signUpdate(e)}),displaySectionValues(e,signJson.getSection(e),signJson.context)}function bindTargetTypeChangeSign(e,t){$("#"+e+"targetType").bind("change",function(){changeNBTTargetTypeSign(e,t)})}function changeNBTTargetTypeSign(e,t){"entity"==$("#"+e+"targetType").val()?$("#"+e+"nbtTarget").html("<span class='fLabel100'>entity </span><input type='text' id='"+e+"nbtEntityTarget' class='signUpdate bigTF'>"):"storage"==$("#"+e+"targetType").val()?$("#"+e+"nbtTarget").html("<span class='fLabel100'>storage </span><input type='text' id='"+e+"nbtStorageTarget' class='signUpdate bigTF'>"):($("#"+e+"nbtTarget").html("<span class='fLabel100'>block </span> X<input type='text' id='"+e+"nbtBlockTargetX' class='signUpdate smallTF'>Y<input type='text' id='"+e+"nbtBlockTargetY' class='signUpdate smallTF'>Z<input type='text' id='"+e+"nbtBlockTargetZ' class='tellrawUpdate smallTF'>"),$("#"+e+"nbtTarget").html(makeCoords(e+"BlockNBT","Block",!0,!0)),$("#"+e+"nbtTarget span").removeClass("fLabel200").addClass("fLabel100"),$("#"+e+"BlockNBT").addClass("signUpdate")),createComponent(e+"nbtTarget","interpret",{id:e+"interpret",type:"choice",values:unsetTrueFalse,cssClass:"fLabel100",eventClass:"signUpdate"},t),$(".signUpdate").on("change keyup",function(){signUpdate(e)}),signUpdate(e)}function signUpdate(e){var t,a={},o=replaceAll("\\n","\n",$("#"+e+"bookText_txt").val());"score"==$("#"+e+"bookText_choice").val()?a.score={name:o,objective:$("#"+e+"objective").val()}:"selector"==$("#"+e+"bookText_choice").val()?(a[$("#"+e+"bookText_choice").val()]=o,a.separator=replaceAll("\\n","\n",$("#"+e+"separator").val())):"nbt"==$("#"+e+"bookText_choice").val()?(a.nbt=o,"entity"==$("#"+e+"targetType").val()?a.entity=$("#"+e+"nbtEntityTarget").val():"storage"==$("#"+e+"targetType").val()?a.storage=$("#"+e+"nbtStorageTarget").val():(t=getCoordsString(e+"BlockNBT"),a.block=t[0]+" "+t[1]+" "+t[2]),1==$("#"+e+"interpret").val()?a.interpret=!0:0==$("#"+e+"interpret").val()&&(a.interpret=!1)):a[$("#"+e+"bookText_choice").val()]=o,a.font=$("#"+e+"font").val(),"Hex Code"==$("#"+e+"color").val()?a.color="#"+$("#"+e+"_color").val():a.color=$("#"+e+"color").val(),a.bold=$("input[name='"+e+"bold']:checked").val(),a.italic=$("input[name='"+e+"italic']:checked").val(),a.underlined=$("input[name='"+e+"underlined']:checked").val(),a.strikethrough=$("input[name='"+e+"strikethrough']:checked").val(),a.obfuscated=$("input[name='"+e+"obfuscated']:checked").val(),$("#"+e+"clickEvent_txt").val().length&&(a.clickEvent={action:$("#"+e+"clickEvent_choice").val(),value:$("#"+e+"clickEvent_txt").val()}),signJson.updateSection(e,a),deferJSONOutput||(signPreview(e),generateCommand())}function signPreview(e){$("#"+e+"Preview").html("");for(var t=0;t<4;t++){for(var a=signJson.getLineSection(e,t,0),o=0;o<signJson.sectionsLengthForLine(e,t);o++){var n=signJson.getLineSection(e,t,o);$("#"+e+"Preview").append(sectionJSONPreview(e,o,t,n,a,signJson))}$("#"+e+"Preview").append("<br>")}}function deleteSignSection(e){1==signJson.sectionsLength(e)?alertify.alert("MCStacker requires each line in a sign to have at least one section. So it aint gonna let you delete this section. Just leave it blank."):displaySectionValues(e,signJson.deleteSection(e),signJson.context)}class area_effect_cloud extends Entity{constructor(e,t){super(e,t);var a=particles.slice();a.unshift("unset"),this.entityNBT={MotionX:{type:"text",format:"special",tip:"entity.Motion"},MotionY:{type:"text",format:"special",tip:"entity.Motion"},MotionZ:{type:"text",format:"special",tip:"entity.Motion"},Yaw:{type:"text",format:"special",tip:"entity"},Pitch:{type:"text",format:"special",tip:"entity"},NoGravity:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},UUID:{type:"UUIDArray",format:"intArray",align:"R",tip:"entity"},CustomName:{type:"customNameJSON",format:"special",tip:"entity"},CustomNameVisible:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Team:{type:"text",format:"string",tip:"mob"},Tags:{type:"text",format:"special",tip:"entity",fwClass:"bigTF"},Particle:{type:"makeSelect",values:a,format:"special",tip:"area_effect_cloud",align:"R"},ParticleOptions:{type:"panel",label:"Particle Options",panelID:"aec"+e,tip:t,align:"R"},ReapplicationDelay:{type:"ticks",tip:"area_effect_cloud",align:"R"},Radius:{type:"text",format:"f",tip:"area_effect_cloud",align:"R"},RadiusPerTick:{type:"text",format:"f",tip:"area_effect_cloud",align:"R"},RadiusOnUse:{type:"text",format:"f",tip:"area_effect_cloud",align:"R"},Duration:{type:"ticks",tip:"area_effect_cloud",align:"R"},DurationOnUse:{type:"text",format:"f",tip:"area_effect_cloud",align:"R"},Age:{type:"ticks",tip:"area_effect_cloud",align:"R"},WaitTime:{type:"ticks",tip:"area_effect_cloud",align:"R"},Owner:{type:"UUIDArray",format:"intArray",align:"R",tip:t,playerLookup:!0},Color:{type:"colorChooser",format:"long",tip:"area_effect_cloud",align:"R"},Potion:{type:"makeSelectWithIndexAndValues",values:potions,format:"string",tip:"area_effect_cloud",align:"R"},Effects:{type:"statusEffects",format:"special",tip:"area_effect_cloud",align:"R"}}}loadParticleAndOptions(e){var e=e.split(" ");e[0]=extractMinecraftID(e[0]),$("#Particle"+this.stackPos).val(e[0]),$("#Particle"+this.stackPos).trigger("change"),"item"==e[0]&&2<=e.length?$("#item"+this.stackPos).val(e[1]):"block"==e[0]&&2<=e.length?$("#block"+this.stackPos).val(e[1]):"dust"==e[0]&&5<=e.length&&($("#dustSize"+this.stackPos).val(e[4]),e=floatToHex(e[1])+floatToHex(e[2])+floatToHex(e[3]),new jscolor.color(document.getElementById("aec"+this.stackPos+"Color_color"),{}).fromString(e.toUpperCase()))}getEntitySpecificCommand(e){var t,a,o="";for(a in"unset"!=$("#Particle"+this.stackPos).val()&&(o+=',Particle:"'+$("#Particle"+this.stackPos).val(),"item"==$("#Particle"+this.stackPos).val()?o+=" "+$("#item"+this.stackPos).val():"block"==$("#Particle"+this.stackPos).val()?o+=" "+$("#block"+this.stackPos).val():"dust"==$("#Particle"+this.stackPos).val()&&(t=$("#aec"+this.stackPos+"Color_color").val(),o+=" "+parseFloat(hexToR(t)/255).toFixed(3)+" "+parseFloat(hexToG(t)/255).toFixed(3)+" "+parseFloat(hexToB(t)/255).toFixed(3),$("#dustSize"+this.stackPos).val().length?o+=" "+$("#dustSize"+this.stackPos).val():o+=" 1"),o+='"'),this.entityNBT)o+=getNBTforKey(a,this.entityNBT[a],e);return o=(o+=getMotion(this.stackPos,"Motion")+getRotation(this.stackPos)+getTargetingTags(this.stackPos)+getPassengersNBT(this.stackPos)+getPotion("Potion","Potion"+this.stackPos)+getStatusEffectsNBT("Effects","Effects"+this.stackPos))+getCustomNameAndColor("#CustomName",this.stackPos)}generateForm(){super.generateForm();let o=this.stackPos;$("#Particle"+this.stackPos).bind("change",function(){let e=" ";if("item"==$("#Particle"+o).val()){for(var t in e+="<select id='item"+o+"' onchange='javascript:generateCommand();'>",itemsAndBlocks)"t"!=itemsAndBlocks[t].c&&(e+="<option value='"+t+"'>"+itemsAndBlocks[t].d+"</option>");e+="</select><input type='text' id='item"+o+"_filter' placeholder='Filter' class='medTF' onkeyup=\"updateItemSelectOptions('#item"+o+"')\">",$("#aec"+o).html(e)}else if("block"==$("#Particle"+o).val()){for(var a in e+="<select id='block"+o+"' onchange='javascript:generateCommand();'>",itemsAndBlocks)"i"!=itemsAndBlocks[a].c&&(e+="<option value='"+a+"'>"+itemsAndBlocks[a].d+"</option>");e+="</select><input type='text' id='block"+o+"_filter' placeholder='Filter' class='medTF' onkeyup=\"updateTileSelectOptions('#block"+o+"')\">",$("#aec"+o).html(e)}else"dust"==$("#Particle"+o).val()?($("#aec"+o).html("<input id='aec"+o+"Color_color' value='FF0000' onchange='generateCommand()'></input><br><span class='fLabel200'>Size</span><input id='dustSize"+o+"' type='text' value='1' class='medTF' >"+makeTip("particle113","dustSize")),bindGenCom("dustSize"+o,"keyup"),new jscolor.color(document.getElementById("aec"+o+"Color_color"),{}).fromString("FF0000"),generateCommand()):$("#aec"+o).html(" N/A")})}}class armor_stand extends Entity{constructor(e,t){super(e,t),this.entityNBT={MotionX:{type:"text",format:"special",tip:"entity.Motion"},MotionY:{type:"text",format:"special",tip:"entity.Motion"},MotionZ:{type:"text",format:"special",tip:"entity.Motion"},Yaw:{type:"text",format:"special",tip:"entity"},Pitch:{type:"text",format:"special",tip:"entity"},UUID:{type:"UUIDArray",format:"intArray",align:"R",tip:"entity"},CustomName:{type:"customNameJSON",format:"special",tip:"entity"},CustomNameVisible:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Team:{type:"text",format:"string",tip:"mob"},Tags:{type:"text",format:"special",tip:"entity",fwClass:"bigTF"},NoGravity:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Silent:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Invulnerable:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Fire:{type:"ticks",tip:"entity"},HasVisualFire:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Air:{type:"ticks",tip:"entity"},Glowing:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},ShowArms:{type:"choice",values:unsetTrueFalse,format:"b",tip:"armor_stand",align:"R"},Small:{type:"choice",values:unsetTrueFalse,format:"b",tip:"armor_stand",align:"R"},Marker:{type:"choice",values:unsetTrueFalse,format:"b",tip:"armor_stand",align:"R"},Invisible:{type:"choice",values:unsetTrueFalse,format:"b",tip:"armor_stand",align:"R"},NoBasePlate:{type:"choice",values:unsetTrueFalse,format:"b",tip:"armor_stand",align:"R"},PersistenceRequired:{type:"choice",values:unsetTrueFalse,format:"b",tip:"mob",align:"R"},Health:{type:"text",format:"f",tip:"mob",align:"R"},SleepingX:{type:"text",format:"int",tip:"mob.sleeping",align:"R"},SleepingY:{type:"text",format:"int",tip:"mob.sleeping",align:"R"},SleepingZ:{type:"text",format:"int",tip:"mob.sleeping",align:"R"},Holding:{type:"itemselect",format:"special",hide:!0,tip:"mob",align:"R"},Offhand:{type:"itemselect",format:"special",hide:!0,tip:"mob",align:"R"},Head:{type:"itemselect",format:"special",hide:!0,tip:"mob",align:"R"},Body:{type:"itemselect",format:"special",hide:!0,tip:"mob",align:"R"},Leg:{type:"itemselect",format:"special",hide:!0,tip:"mob",align:"R"},Boot:{type:"itemselect",format:"special",hide:!0,tip:"mob",align:"R"}},this.poseparts=new Array("Body","LeftArm","RightArm","LeftLeg","RightLeg","Head")}getEntitySpecificCommand(e){var t,a="";for(t in this.entityNBT)a+=getNBTforKey(t,this.entityNBT[t],e);return a=(a+=getMotion(this.stackPos,"Motion")+getTargetingTags(this.stackPos)+this.armorStandPose()+this.armorStandDisabledSlotBitField()+getPassengersNBT(this.stackPos)+getRotation(this.stackPos)+getHandAndArmorItmes(this.stackPos))+getCustomNameAndColor("#CustomName",this.stackPos)}loadPoseNBT(e){showHide("Pose"+this.stackPos,"Pose"+this.stackPos+"SH");for(var t=0;t<this.poseparts.length;t++)null!=e[this.poseparts[t]]&&($("#Pose"+this.stackPos+"_"+t+"_x").val(parseFloat(e[this.poseparts[t]].val[0])),$("#Pose"+this.stackPos+"_"+t+"_y").val(parseFloat(e[this.poseparts[t]].val[1])),$("#Pose"+this.stackPos+"_"+t+"_z").val(parseFloat(e[this.poseparts[t]].val[2])))}armorStandPose(){for(var t="",a=new Array("x","y","z"),o=0;o<this.poseparts.length;o++){var n="";let e=!1;for(var s=0;s<a.length;s++)"f"==n.charAt(n.length-1)&&(n+=","),0<$("#Pose"+this.stackPos+"_"+o+"_"+a[s]).val().length?(e=!0,n+=$("#Pose"+this.stackPos+"_"+o+"_"+a[s]).val()+"f"):n+="0f";e&&(t+=","+this.poseparts[o]+":["+n+"]")}return t.length?",Pose:{"+t.substr(1)+"}":t}loadDisabledSlotsNBT(e){showHide("DisabledSlots"+this.stackPos,"DisabledSlots"+this.stackPos+"SH");var t=[],a=1,o=[1,256,65536];t.push(0);for(var n=0;n<3;n++)for(var a=o[n],s=0;s<6;s++)t.push(a),a*=2;for(var n=2,i=5,s=t.length-2;0<=s;s--)t[s+1]<=e&&(e-=t[s+1],$("#DisabledSlot"+this.stackPos+"_"+i+"_"+dsOperation[n]).prop("checked",!0)),--i<0&&(n--,i=5)}armorStandDisabledSlotBitField(){for(var e=0,t=0;t<6;t++)$("#DisabledSlot"+this.stackPos+"_"+t+"_remove").is(":checked")&&(e+=1<<t+0),$("#DisabledSlot"+this.stackPos+"_"+t+"_replace").is(":checked")&&(e+=1<<t+8),$("#DisabledSlot"+this.stackPos+"_"+t+"_place").is(":checked")&&(e+=1<<t+16);return 0!=e?",DisabledSlots:"+e:""}generateForm(){super.generateForm(),$("#entityPane"+this.stackPos+"R").append("<br><span class='fLabel200'>Pose</span>"+mkShowHide("Pose"+this.stackPos,"Pose"+this.stackPos+"SH")+"<div id='Pose"+this.stackPos+"' class='PoseControl roundedDiv'></div>"+makeTip("armor_stand","Pose"));for(var e=new Array("Body","Left Arm","Right Arm","Left Leg","Right Leg","Head"),t=new Array("x","y","z"),a="<table class='aTable'><tr><td></td><td>X&nbsp;Rotation</td><td>Y&nbsp;Rotation</td><td>Z&nbspRotation</td></tr>",o=0;o<e.length;o++){a+="<tr><td>"+e[o]+"</td>";for(var n=0;n<t.length;n++)a+="<td><input type='text' class='smallTF' id='Pose"+this.stackPos+"_"+o+"_"+t[n]+"' title='"+e[o]+" "+t[n].toUpperCase()+" Rotation'></td>";a+="</tr>"}a+="</table>Import Pose<input type='text' id='importPose"+this.stackPos+"' class='bigTF'> "+makeButton("Import","importPose("+this.stackPos+")","Import Generated Pose")+makeTip("armor_stand","ImportPose"),showHide("Pose"+this.stackPos,"Pose"+this.stackPos+"SH"),$("#Pose"+this.stackPos).html(a);for(o=0;o<e.length;o++)for(n=0;n<t.length;n++)bindGenCom("Pose"+this.stackPos+"_"+o+"_"+t[n],"keyup");$("#entityPane"+this.stackPos+"R").append("<br><span class='fLabel200'>Disabled Slots</span>"+mkShowHide("DisabledSlots"+this.stackPos,"DisabledSlots"+this.stackPos+"SH")+"<div id='DisabledSlots"+this.stackPos+"' class='DisabledSlotsControl roundedDiv'></div>"+makeTip("armor_stand","DisabledSlots"));for(var s="<table class='aTable'><tr><td><input type='checkbox' id='DisabledSlotAll"+this.stackPos+"' onClick='allDisabledSlots("+this.stackPos+")'> </td><td width=60 align=left>All</td><td width=60 align=left>Remove</td><td width=60 align=left>Place</td></tr>",o=0;o<disabledSlots.length;o++){s+="<tr><td>"+disabledSlots[o]+"</td>";for(n=0;n<dsOperation.length;n++)s+="<td><input type='checkbox' id='DisabledSlot"+this.stackPos+"_"+o+"_"+dsOperation[n]+"'></td>";s+="</tr>"}s+="</table>",showHide("DisabledSlots"+this.stackPos,"DisabledSlots"+this.stackPos+"SH"),$("#DisabledSlots"+this.stackPos).html(s);for(o=0;o<disabledSlots.length;o++)for(n=0;n<dsOperation.length;n++)bindGenCom("DisabledSlot"+this.stackPos+"_"+o+"_"+dsOperation[n],"change")}}function importPose(e){var t=new Array("Body","LeftArm","RightArm","LeftLeg","RightLeg","Head");let a=$("#importPose"+e).val();a=(a=extractSegment("{","}",a.indexOf("Pose:")+5,a)).substr(1,a.length-2);for(var o=0;o<t.length;o++){var n=a.indexOf(t[o]);-1!=n?(n=(part=(part=extractSegment("[","]",n+t[o].length+1,a)).substr(1,part.length-2)).split(","),$("#Pose"+e+"_"+o+"_x").val(parseFloat(n[0])),$("#Pose"+e+"_"+o+"_y").val(parseFloat(n[1])),$("#Pose"+e+"_"+o+"_z").val(parseFloat(n[2]))):($("#Pose"+e+"_"+o+"_x").val(""),$("#Pose"+e+"_"+o+"_y").val(""),$("#Pose"+e+"_"+o+"_z").val(""))}generateCommand()}function allDisabledSlots(e){$("#disableOutput").prop("checked",!0);for(var t=0;t<disabledSlots.length;t++)for(var a=0;a<dsOperation.length;a++)$("#DisabledSlot"+e+"_"+t+"_"+dsOperation[a]).prop("checked",$("#DisabledSlotAll"+e).is(":checked"));$("#disableOutput").prop("checked",!1),generateCommand()}class BreedableMob extends Mob{constructor(e,t,a){super(e,t),this.breedNBT={InLove:{type:"ticks",tip:"breedable",align:"R"},Age:{type:"ticks",tip:"breedable",align:"R"},ForcedAge:{type:"ticks",tip:"breedable",align:"R"},LoveCause:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:"breedable"}},null!=a&&Object.assign(this.breedNBT,a)}generateForm(){Object.assign(this.mobNBT,this.breedNBT),super.generateForm()}}class tropical_fish extends Mob{constructor(e,t,a){super(e,t),this.myNBT={Variant:{type:"choice",values:[[0,"Random"],[1,"Specified Below"]],format:"special",tip:t,align:"R"},Size:{type:"choice",values:[[0,"Small"],[1,"Big"]],format:"special",align:"R"},Pattern:{type:"makeSelect",values:[0,1,2,3,4,5],format:"special",align:"R"},BaseColor:{type:"choice",values:colours1,format:"special",align:"R"},PatternColor:{type:"choice",values:colours1,format:"special",align:"R"},FromBucket:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"}},null!=a&&Object.assign(this.myNBT,a)}generateForm(){Object.assign(this.mobNBT,this.myNBT),super.generateForm()}getEntitySpecificCommand(e){var t;return 0==$("#Variant"+this.stackPos).val()?super.getMobNBT():(t=parseInt($("#Size"+this.stackPos).val()),t=(t=(t+=256*parseInt($("#Pattern"+this.stackPos).val()))+65536*parseInt($("#BaseColor"+this.stackPos).val()))+16777216*parseInt($("#PatternColor"+this.stackPos).val()),super.getMobNBT()+",Variant:"+t)}loadVariantNBT(e){$("#Variant"+this.stackPos).val(1);var t=Math.floor(e/16777216),e=e%16777216;$("#PatternColor"+this.stackPos).val(t),t=Math.floor(e/65536),e%=65536,$("#BaseColor"+this.stackPos).val(t),t=Math.floor(e/256),e%=256,$("#Pattern"+this.stackPos).val(t),$("#Size"+this.stackPos).val(e)}}class enderman extends Mob{constructor(e,t,a){super(e,t),Object.assign(this.mobNBT,a)}generateForm(){var e,t="<br><span class='fLabel200'>Carry</span>";for(e in t+="<select id='block"+this.stackPos+"' onchange='javascript:fallingBlockChange("+this.stackPos+");'>",itemsAndBlocks)"i"!=itemsAndBlocks[e].c&&(t+="<option value='"+e+"'>"+itemsAndBlocks[e].d+"</option>");t+="</select><input type='text' id='block_filter"+this.stackPos+"' placeholder='Filter' class='medTF' onkeyup=\"updateFallingBlockOptions('block',"+this.stackPos+")\"><span id='blockSpec"+this.stackPos+"'></span>",super.generateForm(),$("#entityPane"+this.stackPos+"R").append(t)}getEntitySpecificCommand(e){var t="";if(-1!=$("#block"+e).val()){if(t=',carriedBlockState:{Name:"minecraft:'+$("#block"+e).val()+'"',$("#block"+e).val()in blockStates){var a,o="";for(a in blockStates[$("#block"+e).val()])"unset"!=$("#"+a+"BS"+e).val()&&(o+=","+a+':"'+$("#"+a+"BS"+e).val()+'"');0!=o.length&&(t+=",Properties:{"+o.substr(1)+"}")}t+="}"}return super.getEntitySpecificCommand()+t}loadCarriedBlock(e){null!=e.Name&&$("#Carry"+this.stackPos).val(extractMinecraftID(e.Name.val))}}class zombie extends Mob{constructor(e,t,a){super(e,t),this.myNBT={IsBaby:{type:"choice",values:unsetTrueFalse,format:"b",tip:"zombie",align:"R"},CanBreakDoors:{type:"choice",values:unsetTrueFalse,format:"b",tip:"zombie",align:"R"}},null!=a&&Object.assign(this.myNBT,a)}generateForm(){Object.assign(this.mobNBT,this.myNBT),super.generateForm()}getEntitySpecificCommand(e){var t="";if("zombie_villager"==this.entityType){for(var a="",o=["meeting_point","home","job_site"],n=0;n<o.length;n++)$("#Memories"+this.stackPos+o[n]+"X").val().length&&$("#Memories"+this.stackPos+o[n]+"Y").val().length&&$("#Memories"+this.stackPos+o[n]+"Z").val().length&&(a+=',"minecraft:'+o[n]+'":{value:{pos:[I;'+$("#Memories"+this.stackPos+o[n]+"X").val()+","+$("#Memories"+this.stackPos+o[n]+"Y").val()+","+$("#Memories"+this.stackPos+o[n]+"Z").val()+'],dimension:"minecraft:'+$("#Memories"+this.stackPos+o[n]+"Dim").val()+'"}}');a.length&&(a=",Brain:{memories:{"+a.substr(1)+"}}");var s="",i=($("#Gossips"+this.stackPos+"Pane > .gossip").each(function(e){var t=this.id,a='Type:"'+$("#"+t+"Type").val()+'"',t=($("#"+t+"Value").val().length&&(a+=",Value:"+$("#"+t+"Value").val()),getUUIDArray(t+"Target"));t.length&&(a+=",Target:"+t),a.length&&(s+=",{"+a+"}")}),s.length&&(s=",Gossips:["+s.substr(1)+"]"),"");$("#Trades"+this.stackPos+"Pane > .trade").each(function(e){var t=this.id,a="",o=(-1!=$("#"+t+"rewardExp").val()&&(a+=",rewardExp:"+$("#"+t+"rewardExp").val()+"b"),$("#"+t+"maxUses").val().length&&(a+=",maxUses:"+$("#"+t+"maxUses").val()),$("#"+t+"uses").val().length&&(a+=",uses:"+$("#"+t+"uses").val()),$("#"+t+"xp").val().length&&(a+=",xp:"+$("#"+t+"xp").val()),$("#"+t+"priceMultiplier").val().length&&(a+=",priceMultiplier:"+$("#"+t+"priceMultiplier").val()+"f"),$("#"+t+"specialPrice").val().length&&(a+=",specialPrice:"+$("#"+t+"specialPrice").val()),$("#"+t+"demand").val().length&&(a+=",demand:"+$("#"+t+"demand").val()),getItemNBT(t+"buy"));"{}"!=o&&(a+=",buy:"+o),"{}"!=(o=getItemNBT(t+"buyB"))&&(a+=",buyB:"+o),"{}"!=(o=getItemNBT(t+"sell"))&&(a+=",sell:"+o),a.length&&(i+=",{"+a.substr(1)+"}")}),$("#NoTrades"+e).is(":checked")?i=",Offers:{}":i.length&&(i=",Offers:{Recipes:["+i.substr(1)+"]}"),t=getVillagerData(e)+i+a+s}else"zombified_piglin"==this.entityType&&(t=getAngryAt(e));return super.getMobNBT()+t}loadVillagerTradesNBT(e,t){if(null!=e.Recipes)for(var a=e.Recipes.val,o=0;o<a.length;o++){var n="Trades"+this.stackPos+"Pane_Trade_"+o,s=a[o];addTrade("Trades"+this.stackPos+"Pane"),addTradeFromNBT(s,n,t)}else $("#NoTrades"+this.stackPos).prop("checked",!0)}}class HorseMob extends BreedableMob{constructor(e,t){if(super(e,t),this.myNBT={Bred:{type:"choice",values:unsetTrueFalse,format:"b",tip:"horse",align:"R"},EatingHaystack:{type:"choice",values:unsetTrueFalse,format:"b",tip:"horse",align:"R"},Tame:{type:"choice",values:unsetTrueFalse,format:"b",tip:"horse",align:"R"},Temper:{type:"text",format:"int",tip:"horse",align:"R"},Owner:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:"mob.Owner"}},"llama"==this.entityType||"trader_llama"==this.entityType?(this.myNBT.Variant={type:"choice",values:[[-1,"unset"],[0,"Creamy"],[1,"White"],[2,"Brown"],[3,"Gray"]],format:"int",tip:"llama",align:"R"},this.myNBT.Strength={type:"choice",values:[[-1,"unset"],[0,"0"],[1,"1"],[2,"2"],[3,"3"],[4,"4"],[5,"5"]],format:"int",tip:"llama",align:"R"},this.myNBT.DecorItem={type:"makeSelect",values:["unset","white_carpet","orange_carpet","magenta_carpet","light_blue_carpet","yellow_carpet","lime_carpet","pink_carpet","gray_carpet","light_gray_carpet","cyan_carpet","purple_carpet","blue_carpet","brown_carpet","green_carpet","red_carpet","black_carpet"],format:"special",hasUnset:!0,tip:"llama",align:"R"}):this.myNBT.SaddleItem={type:"makeSelect",values:["unset","none","saddle"],format:"special",tip:"horse",align:"R"},"horse"==this.entityType)this.myNBT.Variant={type:"choice",values:this.getVariantArray(),format:"int",tip:"horse",align:"R"},this.myNBT.ArmorItem={type:"itemselect",format:"special",tip:"horse",hide:!0,addNoneAfterUnset:!0,align:"R"};else if("mule"==this.entityType||"donkey"==this.entityType||"llama"==this.entityType||"trader_llama"==this.entityType){"trader_llama"==this.entityType&&(this.myNBT.DespawnDelay={type:"ticks",tip:"trader_llama",align:"R"}),this.myNBT.ChestedHorse={type:"choice",values:unsetTrueFalse,format:"b",tip:"chested_horse",align:"R"};for(var a=2;a<=16;a++)this.myNBT[a+"Slot"]={type:"itemselect",format:"special",hide:!0,label:"Slot "+a,align:"R"}}else"skeleton_horse"==this.entityType&&(this.myNBT.SkeletonTrap={type:"choice",values:unsetTrueFalse,format:"b",tip:"skeleton_horse",align:"R"},this.myNBT.SkeletonTrapTime={type:"ticks",tip:"skeleton_horse",align:"R"})}loadSaddleItemNBT(e){null!=e.id&&"minecraft:saddle"==e.id.val?$("#SaddleItem"+this.stackPos).val("saddle"):$("#SaddleItem"+this.stackPos).val("none")}loadDecorItemNBT(e){null!=e.id&&$("#DecorItem"+this.stackPos).val(extractMinecraftID(e.id.val))}getVariantArray(){var e=new Array("White","Creamy","Chestnut","Brown","Black","Gray","Dark Brown"),t=new Array("None","White","White Field","White Dots","Black Dots"),a=[];a.push([-1,"unset"]);for(var o=0;o<e.length;o++)for(var n=0;n<t.length;n++)a.push([o+256*n,e[o]+" / "+t[n]]);return a}getEntitySpecificCommand(e){var t="";if("mule"==this.entityType||"donkey"==this.entityType||"llama"==this.entityType||"trader_llama"==this.entityType){for(var a=2;a<=16;a++){var o=getItemNBT(a+"Slot"+e);"{}"!=o&&(t+=",{Slot:"+a+"b,"+o.substr(1))}t.length&&(t=",Items:["+t.substr(1)+"]")}return"llama"==this.entityType||"trader_llama"==this.entityType?"unset"!=$("#DecorItem"+this.stackPos).val()&&(t+=',DecorItem:{id:"minecraft:'+$("#DecorItem"+this.stackPos).val()+'",Count:1b}'):"unset"!=$("#SaddleItem"+this.stackPos).val()&&("none"==$("#SaddleItem"+this.stackPos).val()?t+=",SaddleItem:{}":t+=',SaddleItem:{id:"minecraft:'+$("#SaddleItem"+this.stackPos).val()+'",Count:1b}'),"horse"==this.entityType&&"-1"!=$("#ArmorItem"+this.stackPos).val()&&("none"==$("#ArmorItem"+this.stackPos).val()?t+=",ArmorItem:{}":t+=",ArmorItem:"+getItemNBT("ArmorItem"+this.stackPos)),super.getMobNBT()+t}generateForm(){Object.assign(this.breedNBT,this.myNBT),super.generateForm()}}class Fox extends BreedableMob{constructor(e,t){super(e,t),this.myNBT={Owner:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:"mob.Owner"},Sitting:{type:"choice",values:unsetTrueFalse,format:"b",tip:"tameable",align:"R"},Sleeping:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},Crouching:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},Type:{type:"choice",values:[[-1,"unset"],["red","Red"],["snow","Snow"]],format:"string",tip:t,align:"R"},Trusted:{type:"panel",label:"Trusted",panelID:"trusted"+e,tip:t,align:"R"}}}generateForm(){Object.assign(this.breedNBT,this.myNBT),super.generateForm(),$("#trusted"+this.stackPos).html("<a href=\"javascript:addFoxTrusts('Trusts',"+this.stackPos+")\" class='greenPlus'>+</a>"+makeTip("fox.Trusted"))}getEntitySpecificCommand(e){var a="";return $("#trusted"+e+" > .foxTrust").each(function(e){var t=this.id,t=getUUIDArray(t);t.length&&(a+=","+t)}),a.length&&(a=",Trusted:["+a.substr(1)+"]"),super.getMobNBT()+a}}function addFoxTrusts(e,t){let a=0;for(;$("#"+e+t+"_"+a).length;)a++;$("#trusted"+t).append("<span id='"+e+t+"_"+a+"' class='foxTrust'><span class='fLabel200'></span></span>"),createComponent(e+t+"_"+a,"Trusts UUID",{id:"Trusts"+t+"_"+a,type:"UUIDArray",format:"intArray",playerLookup:!0,align:"R"},t),$("#"+e+t+"_"+a).append("<a href=\"javascript:removeContainer('"+e+t+"_"+a+"')\" class='redX'>x</a>")}class Bee extends BreedableMob{constructor(e,t){super(e,t),this.myNBT={HivePosX:{type:"text",format:"special",align:"R",tip:t},HivePosY:{type:"text",format:"special",align:"R"},HivePosZ:{type:"text",format:"special",align:"R"},FlowerPosX:{type:"text",format:"special",align:"R",tip:t},FlowerPosY:{type:"text",format:"special",align:"R"},FlowerPosZ:{type:"text",format:"special",align:"R"},HasNectar:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},HasStung:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},TicksSincePollination:{type:"ticks",format:"int",tip:t,align:"R"},CannotEnterHiveTicks:{type:"ticks",format:"int",tip:t,align:"R"},CropsGrownSincePollination:{type:"text",format:"int",tip:t,align:"R"},AngerTime:{type:"ticks",format:"int",tip:t,align:"R"},AngryAt:{type:"UUIDArray",format:"special",align:"R",playerLookup:!0,tip:t}}}loadFlowerOrHovePost(e,t){$("#"+t+"X"+this.stackPos).val(e.X.val),$("#"+t+"Y"+this.stackPos).val(e.Y.val),$("#"+t+"Z"+this.stackPos).val(e.Z.val)}generateForm(){Object.assign(this.breedNBT,this.myNBT),super.generateForm()}getCoords(e){return $("#"+e+"X"+this.stackPos).val().length&&$("#"+e+"Y"+this.stackPos).val().length&&$("#"+e+"Z"+this.stackPos).val().length?","+e+":{X:"+$("#"+e+"X"+this.stackPos).val()+",Y:"+$("#"+e+"Y"+this.stackPos).val()+",Z:"+$("#"+e+"Z"+this.stackPos).val()+"}":""}getEntitySpecificCommand(e){return super.getMobNBT()+getAngryAt(e)+this.getCoords("HivePos")+this.getCoords("FlowerPos")}}class Piglin extends Mob{constructor(e,t,a){super(e,t,a)}getEntitySpecificCommand(e){let t="",a="";return $("#Inventory"+e+"MultiItemPane  > .itemSelectControl").each(function(e){var t=this.id.substr(0,this.id.lastIndexOf("Pane"));"-1"!=$("#"+t).val()&&(a+=","+getItemNBT(t))}),a.length&&(t+=",Inventory:["+a.substr(1)+"]"),t+super.getMobNBT()}loadPiglinInventory(t,a,e){var o="Inventory"+e+"MultiItem";showHide(o+"Pane",o+"PaneSH");for(let e=0;e<a.length;e++)addMultiItem(o+"Pane",!1),showHide(o+"Pane_"+e+"Pane",o+"Pane_"+e+"PaneSH"),setupItemSlotForNBT(o+"Pane_"+e,a[e],t)}}class villager extends BreedableMob{constructor(e,t){super(e,t),this.tradeCounter=0,this.myNBT={profession:{type:"makeSelect",values:["unset","none","armorer","butcher","cartographer","cleric","farmer","fisherman","fletcher","leatherworker","librarian","mason","nitwit","shepherd","toolsmith","weaponsmith"],format:"special",tip:"villager",align:"R"},type:{type:"makeSelect",values:["unset","desert","jungle","plains","savanna","snow","swamp","taiga"],format:"special",tip:"villager",align:"R"},level:{type:"makeSelect",values:["unset",1,2,3,4,5,99],format:"special",tip:"villager",align:"R"},Willing:{type:"choice",values:unsetTrueFalse,format:"b",tip:"villager",align:"R"},LastRestock:{type:"text",format:"int",tip:"villager",align:"R"},Xp:{type:"text",format:"int",tip:"villager",align:"R"},Trades:{type:"villTrade",format:"special",tip:"villager",align:"R"},Memories:{type:"memories",format:"special",tip:"villager.memories",align:"R"},Gossips:{type:"gossips",format:"special",tip:"villager.gossips",align:"R"},NoTrades:{label:"Untradable",type:"cb",format:"special",tip:"villager",align:"R"}};for(var a=0;a<8;a++)this.myNBT[a+"Inv"]={type:"itemselect",format:"special",hide:!0,label:"Inventory "+a,align:"R",tip:"villager.Inventory"};"wandering_trader"==t&&(delete this.myNBT.type,delete this.myNBT.profession,this.myNBT.DespawnDelay={type:"ticks",tip:"wandering_trader",align:"R"},this.myNBT.WanderTargetX={type:"text",format:"special",tip:"wandering_trader.WanderTarget",align:"R"},this.myNBT.WanderTargetY={type:"text",format:"special",align:"R"},this.myNBT.WanderTargetZ={type:"text",format:"special",align:"R"})}loadVillagerTradesNBT(e,t){if(null!=e.Recipes)for(var a=e.Recipes.val,o=0;o<a.length;o++){var n="Trades"+this.stackPos+"Pane_Trade_"+o,s=a[o];addTrade("Trades"+this.stackPos+"Pane"),addTradeFromNBT(s,n,t)}else $("#NoTrades"+this.stackPos).prop("checked",!0)}loadWanderTargetNBT(e){$("#WanderTargetX"+this.stackPos).val(parseInt(e.X.val)),$("#WanderTargetY"+this.stackPos).val(parseInt(e.Y.val)),$("#WanderTargetZ"+this.stackPos).val(parseInt(e.Z.val))}getEntitySpecificCommand(e){for(var t="",a=0;a<8;a++){var o=getItemNBT(a+"Inv"+e);"{}"!=o&&(t+=",{"+o.substr(1))}t.length&&(t=",Inventory:["+t.substr(1)+"]");var n="",s="";if("villager"==this.entityType){for(var i=["meeting_point","home","job_site"],a=0;a<i.length;a++)$("#Memories"+this.stackPos+i[a]+"X").val().length&&$("#Memories"+this.stackPos+i[a]+"Y").val().length&&$("#Memories"+this.stackPos+i[a]+"Z").val().length&&(n+=',"minecraft:'+i[a]+'":{value:{pos:[I;'+$("#Memories"+this.stackPos+i[a]+"X").val()+","+$("#Memories"+this.stackPos+i[a]+"Y").val()+","+$("#Memories"+this.stackPos+i[a]+"Z").val()+'],dimension:"minecraft:'+$("#Memories"+this.stackPos+i[a]+"Dim").val()+'"}}');n.length&&(n=",Brain:{memories:{"+n.substr(1)+"}}"),$("#Gossips"+this.stackPos+"Pane > .gossip").each(function(e){var t=this.id,a='Type:"'+$("#"+t+"Type").val()+'"',t=($("#"+t+"Value").val().length&&(a+=",Value:"+$("#"+t+"Value").val()),getUUIDArray(t+"Target"));t.length&&(a+=",Target:"+t),a.length&&(s+=",{"+a+"}")}),s.length&&(s=",Gossips:["+s.substr(1)+"]")}var r="",l=($("#Trades"+this.stackPos+"Pane > .trade").each(function(e){var t=getTradeNBT(this.id);t.length&&(r+=",{"+t.substr(1)+"}")}),$("#NoTrades"+e).is(":checked")?r=",Offers:{}":r.length&&(r=",Offers:{Recipes:["+r.substr(1)+"]}"),"");return"wandering_trader"==this.entityType&&(l=getTargetCompound(this.stackPos,"WanderTarget")),super.getMobNBT()+l+getVillagerData(e)+r+n+s+t}generateForm(){Object.assign(this.mobNBT,this.myNBT),super.generateForm()}}function getVillagerData(e){let t="";return"unset"!=$("#level"+e).val()&&(t+=",level:"+$("#level"+e).val()),$("#profession"+e).length&&"unset"!=$("#profession"+e).val()&&(t+=',profession:"minecraft:'+$("#profession"+e).val()+'"'),$("#type"+e).length&&"unset"!=$("#type"+e).val()&&(t+=',type:"minecraft:'+$("#type"+e).val()+'"'),0<t.length?",VillagerData:{"+t.substr(1)+"}":t}function loadVillagerData(e,t){null!=e.type&&$("#type"+t).val(extractMinecraftID(e.type.val)),null!=e.profession&&$("#profession"+t).val(extractMinecraftID(e.profession.val)),null!=e.level&&$("#level"+t).val(e.level.val)}class ThrownThings extends SimpleEntity{constructor(e,t){super(e,t),this.myNBT={Owner:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:"projectile.Owner"},Item:{type:"itemselect",label:"Render As",format:"special",forceConstruct:!0,noCount:!0,tip:"projectile",align:"R"}},Object.assign(this.entityNBT,this.myNBT)}generateForm(){super.generateForm()}getEntitySpecificCommand(e){var t="";return"dragon_fireball"!=this.entityType&&"wither_skull"!=this.entityType&&(t="{}"!=(e=getItemNBT("Item"+e))?",Item:"+e:""),this.getEntityNBT()+t}}class small_fireball extends ThrownThings{constructor(e,t){super(e,t),this.myNBT={powerX:{type:"text",format:"special",tip:"projectile.power",align:"R"},powerY:{type:"text",format:"special",tip:"projectile.power",align:"R"},powerZ:{type:"text",format:"special",tip:"projectile.power",align:"R"},life:{type:"ticks",tip:"projectile.life",align:"R"}},"dragon_fireball"!=t&&"wither_skull"!=t||(delete this.entityNBT.Item,delete this.entityNBT.CustomModelData,delete this.entityNBT.EnchantGlint),delete this.entityNBT.MotionX,delete this.entityNBT.MotionY,delete this.entityNBT.MotionZ}getEntityNBT(){var e,t="";for(e in this.entityNBT)t+=getNBTforKey(e,this.entityNBT[e],this.stackPos);return t=(t=(t=(t+=getMotion(this.stackPos,"power"))+getTargetingTags(this.stackPos))+getPassengersNBT(this.stackPos))+getCustomNameAndColor("#CustomName",this.stackPos)}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}class fireball extends small_fireball{constructor(e,t){super(e,t),this.fbNBT={ExplosionPower:{type:"text",format:"b",align:"R"}}}generateForm(){Object.assign(this.entityNBT,this.fbNBT),super.generateForm()}}class eye_of_ender extends ThrownThings{constructor(e,t){super(e,t),delete this.entityNBT.Owner}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}class potion extends SimpleEntity{constructor(e,t){super(e,t),this.myNBT={Owner:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:"projectile.Owner"},Item:{type:"itemselectOnly",label:"Render As",format:"special",forceConstruct:!0,noCount:!0,tip:"potionrender",align:"R"},Potion:{type:"makeSelectWithIndexAndValues",values:potions,format:"special",tip:t,align:"R"},CustomPotionEffects:{type:"statusEffects",format:"special",tip:t,align:"R"},CustomPotionColor:{type:"colorChooser",format:"special",tip:t,align:"R"},CustomModelData:{type:"text",format:"special",class:"medTF",tip:"item",align:"R"},EnchantGlint:{type:"choice",values:[["0","False"],["1","True"]],format:"special",tip:"item",align:"R"}}}getEntitySpecificCommand(e){var t=$("#Item"+e).val();let a="-1"!=t?t:"",o=getPotion("Potion","Potion"+this.stackPos)+getColorInteger("CustomPotionColor"+this.stackPos,"CustomPotionColor")+getStatusEffectsNBT("CustomPotionEffects","CustomPotionEffects"+this.stackPos);return"1"==$("#EnchantGlint"+e).val()&&(o+=",Enchantments:[{}]"),$("#CustomModelData"+e).val().length&&(o+=",CustomModelData:"+$("#CustomModelData"+e).val()),o.length&&(o=",tag:{"+o.substr(1)+"}"),""==a&&o.length?a=',Item:{id:"minecraft:splash_potion",Count:1b'+o+"}":""!=a&&o.length?a="-1"!=t?',Item:{id:"minecraft:'+a+'",Count:1b'+o+"}":"":""==a||o.length||(a="-1"!=t?',Item:{id:"minecraft:'+a+'",Count:1b}':""),this.getEntityNBT()+a}loadPotionNBT(e){null!=e.id&&$("#Item"+this.stackPos).val(extractMinecraftID(e.id.val)),null!=e.tag&&null!=e.tag&&(null!=(e=e.tag.val).Potion&&$("#Potion"+this.stackPos).val(extractMinecraftID(e.Potion.val)),null!=e.CustomPotionColor&&loadColorIntNBT("CustomPotionColor"+this.stackPos,e.CustomPotionColor.val),null!=e.CustomPotionEffects&&loadCustomEffectsNBT("CustomPotionEffects"+this.stackPos,e.CustomPotionEffects.val),null!=e.CustomModelData&&$("#CustomModelData"+this.stackPos).val(e.CustomModelData.val),null!=e.Enchantments)&&$("#EnchantGlint"+this.stackPos).val("1")}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}class arrow extends SimpleEntity{constructor(e,t){super(e,t),this.myNBT={pickup:{type:"choice",values:[[-1,"unset"],["0","can't be picked up by players"],["1","can be picked up by players in survival or creative"],["2","can only be picked up by players in creative"]],format:"b",tip:"arrow",align:"R"},player:{type:"choice",values:unsetTrueFalse,format:"b",tip:"arrow",align:"R"},Owner:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:"projectile.Owner"},life:{type:"ticks",tip:"arrow",align:"R"},damage:{type:"text",format:"d",tip:"arrow",align:"R"},shake:{type:"choice",values:unsetTrueFalse,format:"b",tip:"arrow",align:"R"},inGround:{type:"choice",values:unsetTrueFalse,format:"b",tip:"arrow",align:"R"},crit:{type:"choice",values:unsetTrueFalse,format:"b",tip:"arrow",align:"R"},ShotFromCrossbow:{type:"choice",values:unsetTrueFalse,format:"b",tip:"arrow",align:"R"},PierceLevel:{type:"text",format:"b",tip:"arrow",align:"R"},SoundEvent:{type:"makeSelect",values:["unset"].concat(soundList),format:"special",tip:"arrow",align:"R"}},"arrow"==t?Object.assign(this.myNBT,{Color:{type:"colorChooser",format:"long",tip:"arrow",align:"R"},Potion:{type:"makeSelectWithIndexAndValues",values:potions,format:"string",tip:"arrow",align:"R"},CustomPotionEffects:{type:"statusEffects",format:"special",tip:"arrow",align:"R"}}):"spectral_arrow"==t&&Object.assign(this.myNBT,{Duration:{type:"ticks",tip:"spectral_arrow",align:"R"}})}getEntitySpecificCommand(e){let t="";"arrow"==this.entityType&&(t+=getStatusEffectsNBT("CustomPotionEffects","CustomPotionEffects"+this.stackPos)+getPotion("Potion","Potion"+this.stackPos));var a="unset"==(a=$("#SoundEvent"+this.stackPos).val())?"":',SoundEvent:"'+a+'"';return this.getEntityNBT()+a+t}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}class trident extends SimpleEntity{constructor(e,t){super(e,t),this.myNBT={pickup:{type:"choice",values:[[-1,"unset"],["0","can't be picked up by players"],["1","can be picked up by players in survival or creative"],["2","can only be picked up by players in creative"]],format:"b",tip:t,align:"R"},Owner:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:"projectile.Owner"},player:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},life:{type:"ticks",tip:t,align:"R"},damage:{type:"text",format:"d",tip:t,align:"R"},shake:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},inGround:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},crit:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},Trident:{type:"itemselect",format:"special",hide:!1,tip:"item",align:"R"}}}getEntitySpecificCommand(e){e=getItemNBT("Trident"+e);return"{}"!=e?this.getEntityNBT()+",Trident:"+e:this.getEntityNBT()}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}class firework_rocket extends SimpleEntity{constructor(e,t){super(e,t),this.myNBT={Owner:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:"projectile.Owner"},Life:{type:"ticks",tip:t,align:"R"},LifeTime:{type:"ticks",tip:t,align:"R"},ShotAtAngle:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},Explosion:{type:"fwExplosion",format:"special",tip:t,align:"R"}}}getEntitySpecificCommand(e){var a="";return $("#Explosion"+this.stackPos+"Pane > .explosion").each(function(e){var t=this.id;a+=getExplosionNBT(t)}),a.length?super.getEntityNBT()+",FireworksItem:{id:firework_rocket,Count:1,tag:{Fireworks:{Explosions:["+a.substr(1)+"]}}}":super.getEntityNBT()}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}class Vehicle extends Entity{constructor(e,t,a){super(e,t),this.entityNBT={MotionX:{type:"text",format:"special",tip:"entity.Motion"},MotionY:{type:"text",format:"special",tip:"entity.Motion"},MotionZ:{type:"text",format:"special",tip:"entity.Motion"},Yaw:{type:"text",format:"special",tip:"entity"},Pitch:{type:"text",format:"special",tip:"entity"},NoGravity:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Silent:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Glowing:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Invulnerable:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},UUID:{type:"UUIDArray",format:"intArray",align:"R",tip:"entity"},CustomName:{type:"customNameJSON",format:"special",tip:"entity"},CustomNameVisible:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Team:{type:"text",format:"string",tip:"mob"},Tags:{type:"text",format:"special",tip:"entity",fwClass:"bigTF"}},null!=a&&Object.assign(this.entityNBT,a)}getEntitySpecificCommand(e){return this.getEntityNBT()}generateForm(){super.generateForm()}}class minecart extends Vehicle{constructor(e,t,a){super(e,t),this.minecartNBT={CustomDisplayTile:{type:"choice",values:unsetTrueFalse,format:"b",tip:"minecart",align:"R"},DisplayOffset:{type:"text",format:"short",tip:"minecart",align:"R"}},null!=a&&Object.assign(this.minecartNBT,a),Object.assign(this.entityNBT,this.minecartNBT)}loadDisplayStateMinecart(e){null!=e.Name&&$("#DisplayTile"+this.stackPos).val(extractMinecraftID(e.Name.val))}getEntitySpecificCommand(e){var t="";if(-1!=$("#block"+e).val()){if(t=',DisplayState:{Name:"minecraft:'+$("#block"+e).val()+'"',$("#block"+e).val()in blockStates){var a,o="";for(a in blockStates[$("#block"+e).val()])"unset"!=$("#"+a+"BS"+e).val()&&(o+=","+a+':"'+$("#"+a+"BS"+e).val()+'"');0!=o.length&&(t+=",Properties:{"+o.substr(1)+"}")}t+="}"}return super.getEntitySpecificCommand()+t}generateForm(){var e,t="<br><span class='fLabel200'>DisplayState</span>";for(e in t+="<select id='block"+this.stackPos+"' onchange='javascript:fallingBlockChange("+this.stackPos+");'>",itemsAndBlocks)"i"!=itemsAndBlocks[e].c&&(t+="<option value='"+e+"'>"+itemsAndBlocks[e].d+"</option>");t+="</select><input type='text' id='block_filter"+this.stackPos+"' placeholder='Filter' class='medTF' onkeyup=\"updateFallingBlockOptions('block',"+this.stackPos+")\"><span id='blockSpec"+this.stackPos+"'></span>",$("#entityPane"+this.stackPos+"R").append(t),super.generateForm()}}class chest_minecart extends minecart{constructor(e,t,a){super(e,t),this.slots=a,this.myNBT={LootTable:{type:"text",format:"string",tip:t,align:"R"}};for(var o=0;o<this.slots;o++)this.myNBT[o+"Slot"]={type:"itemselect",format:"special",hide:!0,label:"Slot "+o,align:"R"}}getEntitySpecificCommand(e){for(var t="",a=0;a<this.slots;a++){var o=getItemNBT(a+"Slot"+e);"{}"!=o&&(t+=",{Slot:"+a+"b,"+o.substr(1))}return t.length&&(t=",Items:["+t.substr(1)+"]"),super.getEntitySpecificCommand(e)+t}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}class hopper_minecart extends chest_minecart{constructor(e,t,a){super(e,t,a),this.hopperNBT={Enabled:{type:"choice",values:unsetTrueFalse,format:"b",tip:t},TransferCooldown:{type:"text",format:"int",tip:t}}}generateForm(){Object.assign(this.entityNBT,this.hopperNBT),super.generateForm()}}class spawner_minecart extends minecart{constructor(e,t){for(var a in super(e,t,0),initMobSpawnerNBT(),this.myNBT=mobSpawnerNBT,this.myNBT)this.myNBT[a].align="R"}getEntitySpecificCommand(e){return super.getEntitySpecificCommand(e)+getSpawnPotentailsNBT(this.stackPos)}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}var paintingMotives=["kebab","aztec","alban","aztec2","bomb","plant","wasteland","wanderer","graham","pool","courbet","sunset","sea","creebet","match","bust","stage","void","skull_and_roses","wither","fighters","skeleton","donkey_kong","pointer","pigscene","burning_skull"],dsOperation=new Array("remove","replace","place"),disabledSlots=new Array("Hand","Boot","Leg","Chest","Head","Offhand"),woolDyes=["White","Orange","Magenta","Light Blue","Yellow","Lime","Pink","Gray","Light Gray","Cyan","Purple","Blue","Brown","Green","Red","Black"],particles=["ambient_entity_effect","angry_villager","ash","barrier","block","bubble","bubble_column_up","bubble_pop","campfire_cosy_smoke","campfire_signal_smoke","cloud","composter","crimson_spore","crit","current_down","damage_indicator","dolphin","dragon_breath","dripping_dripstone_lava","dripping_dripstone_water","dripping_honey","dripping_lava","dripping_obsidian_tear","dripping_water","dust","dust_color_transition","effect","elder_guardian","electric_spark","enchant","enchanted_hit","end_rod","entity_effect","explosion","explosion_emitter","falling_dripstone_lava","falling_dripstone_water","falling_dust","falling_honey","falling_lava","falling_nectar","falling_obsidian_tear","falling_spore_blossom","falling_water","firework","fishing","flame","flash","glow","glow_squid_ink","happy_villager","heart","instant_effect","item","item_slime","item_snowball","landing_honey","landing_lava","landing_obsidian_tear","large_smoke","lava","light","mycelium","nautilus","note","poof","portal","rain","reverse_portal","scrape","smoke","sneeze","snowflake","soul","soul_fire_flame","spit","splash","spore_blossom_air","squid_ink","sweep_attack","totem_of_undying","underwater","vibration","warped_spore","wax_off","wax_on","white_ash","witch"],statusEffects=[["-1","unset"],["1","Speed"],["2","Slowness"],["3","Haste"],["4","Mining Fatigue"],["5","Strength"],["6","Instant Health"],["7","Instant Damage"],["8","Jump Boost"],["9","Nausea"],["10","Regeneration"],["11","Resistance"],["12","Fire Resistance"],["13","Water Breathing"],["14","Invisibility"],["15","Blindness"],["16","Night Vision"],["17","Hunger"],["18","Weakness"],["19","Poison"],["20","Wither"],["21","Health Boost"],["22","Absorption"],["23","Saturation"],["24","Glowing"],["25","Levitation"],["26","Luck"],["27","Bad Luck"],["28","Slow Falling"],["29","Conduit Power"],["30","Dolphins Grace"],["31","Bad Omen"],["32","Hero of the Village"]],statuseffects1p13={1:"speed",2:"slowness",3:"haste",4:"mining_fatigue",5:"strength",6:"instant_health",7:"instant_damage",8:"jump_boost",9:"nausea",10:"regeneration",11:"resistance",12:"fire_resistance",13:"water_breathing",14:"invisibility",15:"blindness",16:"night_vision",17:"hunger",18:"weakness",19:"poison",20:"wither",21:"health_boost",22:"absorption",23:"saturation",24:"glowing",25:"levitation",26:"luck",27:"unluck",28:"slow_falling",29:"conduit_power",30:"dolphins_grace",31:"bad_omen",32:"hero_of_the_village"},mobAttributes=["maxHealth","followRange","knockbackResistance","movementSpeed","attackDamage","armor","armorToughness","attackKnockback","jumpStrength","spawnReinforcements","flyingSpeed"],attributeModifiers=["maxHealth","followRange","knockbackResistance","movementSpeed","attackDamage","armor","armorToughness","attackSpeed","luck"],mobAttributes116=["max_health","follow_range","knockback_resistance","movement_speed","attack_damage","armor","armor_toughness","attack_knockback","jump_strength","spawn_reinforcements","flying_speed"],attributeModifiers116=["max_health","follow_range","knockback_resistance","movement_speed","attack_damage","armor","armor_toughness","attack_speed","luck"],flags=["Enchantments","Modifiers","Unbreakable","CanDestroy","CanPlaceOn","HideOthers","Dyed"],bgPalette=["61abaf","247F45","7F653E","FF9999","7AF7FF","95FFBB","FFE9C9","FFC2B6","B3FFFF","48FF8A","FFC97D","FF826A","507C7F","4A7F5D","7F7465","7F615B","25C1CC","3ACC6E","CCA164","CC6855"],potions=new Array(["-1","unset"],["empty","Uncraftable Potion"],["water","Water Potion"],["awkward","Awkward Potion"],["mundane","Mundane Potion"],["thick","Thick Potion"],["swiftness","Swiftness Potion"],["strong_swiftness","Swiftness Strong Potion"],["long_swiftness","Swiftness Long Potion"],["slowness","Slowness Potion"],["long_slowness","Slowness Long Potion"],["strength","Strength Potion"],["strong_strength","Strength Strong Potion"],["long_strength","Strength Long Potion"],["weakness","Weakness Potion"],["long_weakness","Weakness Long Potion"],["healing","Healing Potion"],["strong_healing","Healing Strong Potion"],["harming","Harming Potion"],["strong_harming","Harming Strong Potion"],["leaping","Leaping Potion"],["strong_leaping","Leaping Strong Potion"],["long_leaping","Leaping Long Potion"],["luck","Luck Potion"],["regeneration","Regeneration Potion"],["strong_regeneration","Regeneration Strong Potion"],["long_regeneration","Regeneration Long Potion"],["poison","Poison Potion"],["strong_poison","Poison Strong Potion"],["long_poison","Poison Long Potion"],["fire_resistance","Fire Resistance Potion"],["long_fire_resistance","Fire Resistance Long Potion"],["water_breathing","Water Breathing Potion"],["long_water_breathing","Water Breathing Long Potion"],["night_vision","Night Vision Potion"],["long_night_vision","Night Vision Long Potion"],["invisibility","Invisibility Potion"],["long_invisibility","Invisibility Long Potion"],["turtle_master","Turtle Master Potion"],["strong_turtle_master","Turtle Master Strong Potion"],["long_turtle_master","Turtle Master Long Potion"],["slow_falling","Slow Falling Potion"],["long_slow_falling","Slow Falling Long Potion"]),enchantables=[],knowledgeList=(enchantables[0]=["Protection",["turtle_helmet","leather_helmet","chainmail_helmet","iron_helmet","diamond_helmet","golden_helmet","leather_chestplate","chainmail_chestplate","iron_chestplate","diamond_chestplate","golden_chestplate","leather_leggings","chainmail_leggings","iron_leggings","diamond_leggings","golden_leggings","leather_boots","chainmail_boots","iron_boots","diamond_boots","golden_boots","netherite_helmet","netherite_boots","netherite_chestplate","netherite_leggings"]],enchantables[1]=["Fire Protection",["turtle_helmet","leather_helmet","chainmail_helmet","iron_helmet","diamond_helmet","golden_helmet","leather_chestplate","chainmail_chestplate","iron_chestplate","diamond_chestplate","golden_chestplate","leather_leggings","chainmail_leggings","iron_leggings","diamond_leggings","golden_leggings","leather_boots","chainmail_boots","iron_boots","diamond_boots","golden_boots","netherite_helmet","netherite_boots","netherite_chestplate","netherite_leggings"]],enchantables[2]=["Feather Falling",["leather_boots","chainmail_boots","iron_boots","diamond_boots","golden_boots","netherite_boots"]],enchantables[3]=["Blast Protection",["turtle_helmet","leather_helmet","chainmail_helmet","iron_helmet","diamond_helmet","golden_helmet","leather_chestplate","chainmail_chestplate","iron_chestplate","diamond_chestplate","golden_chestplate","leather_leggings","chainmail_leggings","iron_leggings","diamond_leggings","golden_leggings","leather_boots","chainmail_boots","iron_boots","diamond_boots","golden_boots","netherite_helmet","netherite_boots","netherite_chestplate","netherite_leggings"]],enchantables[4]=["Projectile Protection",["turtle_helmet","leather_helmet","chainmail_helmet","iron_helmet","diamond_helmet","golden_helmet","leather_chestplate","chainmail_chestplate","iron_chestplate","diamond_chestplate","golden_chestplate","leather_leggings","chainmail_leggings","iron_leggings","diamond_leggings","golden_leggings","leather_boots","chainmail_boots","iron_boots","diamond_boots","golden_boots","netherite_helmet","netherite_boots","netherite_chestplate","netherite_leggings"]],enchantables[5]=["Respiration",["turtle_helmet","leather_helmet","chainmail_helmet","iron_helmet","diamond_helmet","golden_helmet","netherite_helmet"]],enchantables[6]=["Aqua Affinity",["turtle_helmet","leather_helmet","chainmail_helmet","iron_helmet","diamond_helmet","golden_helmet","netherite_helmet"]],enchantables[7]=["Thorns",["turtle_helmet","leather_helmet","chainmail_helmet","iron_helmet","diamond_helmet","golden_helmet","leather_chestplate","chainmail_chestplate","iron_chestplate","diamond_chestplate","golden_chestplate","leather_leggings","chainmail_leggings","iron_leggings","diamond_leggings","golden_leggings","leather_boots","chainmail_boots","iron_boots","diamond_boots","golden_boots","netherite_helmet","netherite_boots","netherite_chestplate","netherite_leggings"]],enchantables[8]=["Depth Strider",["leather_boots","chainmail_boots","iron_boots","diamond_boots","golden_boots","netherite_boots"]],enchantables[9]=["Frost Walker",["leather_boots","chainmail_boots","iron_boots","diamond_boots","golden_boots","netherite_boots"]],enchantables[10]=["Binding Curse",["turtle_helmet","leather_helmet","chainmail_helmet","iron_helmet","diamond_helmet","golden_helmet","leather_chestplate","chainmail_chestplate","iron_chestplate","diamond_chestplate","golden_chestplate","leather_leggings","chainmail_leggings","iron_leggings","diamond_leggings","golden_leggings","leather_boots","chainmail_boots","iron_boots","diamond_boots","golden_boots","elytra","netherite_helmet","netherite_boots","netherite_chestplate","netherite_leggings"]],enchantables[16]=["Sharpness",["iron_sword","wooden_sword","stone_sword","diamond_sword","golden_sword","iron_axe","wooden_axe","stone_axe","diamond_axe","golden_axe","netherite_axe","netherite_sword"]],enchantables[17]=["Smite",["iron_sword","wooden_sword","stone_sword","diamond_sword","golden_sword","iron_axe","wooden_axe","stone_axe","diamond_axe","golden_axe","netherite_axe","netherite_sword"]],enchantables[18]=["Bane of Arthropods",["iron_sword","wooden_sword","stone_sword","diamond_sword","golden_sword","iron_axe","wooden_axe","stone_axe","diamond_axe","golden_axe","netherite_axe","netherite_sword"]],enchantables[19]=["Knockback",["iron_sword","wooden_sword","stone_sword","diamond_sword","golden_sword","netherite_sword"]],enchantables[20]=["Fire Aspect",["iron_sword","wooden_sword","stone_sword","diamond_sword","golden_sword","netherite_sword"]],enchantables[21]=["Looting",["iron_sword","wooden_sword","stone_sword","diamond_sword","golden_sword","netherite_sword"]],enchantables[22]=["Sweeping",["iron_sword","wooden_sword","stone_sword","diamond_sword","golden_sword","netherite_sword"]],enchantables[32]=["Efficiency",["iron_pickaxe","wooden_pickaxe","stone_pickaxe","diamond_pickaxe","golden_pickaxe","iron_shovel","wooden_shovel","stone_shovel","diamond_shovel","golden_shovel","iron_axe","wooden_axe","stone_axe","diamond_axe","golden_axe","shears","netherite_pickaxe","netherite_shovel","netherite_axe","wooden_hoe","stone_hoe","iron_hoe","diamond_hoe","golden_hoe","netherite_hoe"]],enchantables[33]=["Silk Touch",["iron_pickaxe","wooden_pickaxe","stone_pickaxe","diamond_pickaxe","golden_pickaxe","iron_shovel","wooden_shovel","stone_shovel","diamond_shovel","golden_shovel","iron_axe","wooden_axe","stone_axe","diamond_axe","golden_axe","netherite_pickaxe","netherite_shovel","netherite_axe","wooden_hoe","stone_hoe","iron_hoe","diamond_hoe","golden_hoe","netherite_hoe"]],enchantables[34]=["Unbreaking",["iron_pickaxe","wooden_pickaxe","stone_pickaxe","diamond_pickaxe","golden_pickaxe","iron_shovel","wooden_shovel","stone_shovel","diamond_shovel","golden_shovel","iron_axe","wooden_axe","stone_axe","diamond_axe","golden_axe","shears","iron_sword","wooden_sword","stone_sword","diamond_sword","golden_sword","leather_helmet","chainmail_helmet","iron_helmet","diamond_helmet","golden_helmet","leather_chestplate","chainmail_chestplate","iron_chestplate","diamond_chestplate","golden_chestplate","leather_leggings","chainmail_leggings","iron_leggings","diamond_leggings","golden_leggings","leather_boots","chainmail_boots","iron_boots","diamond_boots","golden_boots","bow","fishing_rod","carrot_on_a_stick","flint_and_steel","wooden_hoe","stone_hoe","iron_hoe","diamond_hoe","golden_hoe","elytra","shield","trident","turtle_helmet","crossbow","netherite_helmet","netherite_boots","netherite_chestplate","netherite_leggings","netherite_pickaxe","netherite_shovel","netherite_axe","netherite_hoe","netherite_sword","warped_fungus_on_a_stick"]],enchantables[35]=["Fortune",["iron_pickaxe","wooden_pickaxe","stone_pickaxe","diamond_pickaxe","golden_pickaxe","iron_shovel","wooden_shovel","stone_shovel","diamond_shovel","golden_shovel","iron_axe","wooden_axe","stone_axe","diamond_axe","golden_axe","netherite_pickaxe","netherite_shovel","netherite_axe","wooden_hoe","stone_hoe","iron_hoe","diamond_hoe","golden_hoe","netherite_hoe"]],enchantables[48]=["Power",["bow"]],enchantables[49]=["Punch",["bow"]],enchantables[50]=["Flame",["bow"]],enchantables[51]=["Infinity",["bow"]],enchantables[61]=["Luck of the Sea",["fishing_rod"]],enchantables[62]=["Lure",["fishing_rod"]],enchantables[65]=["Loyalty",["trident"]],enchantables[66]=["Impaling",["trident"]],enchantables[67]=["Riptide",["trident"]],enchantables[68]=["Channeling",["trident"]],enchantables[70]=["Mending",["iron_pickaxe","wooden_pickaxe","stone_pickaxe","diamond_pickaxe","golden_pickaxe","iron_shovel","wooden_shovel","stone_shovel","diamond_shovel","golden_shovel","iron_axe","wooden_axe","stone_axe","diamond_axe","golden_axe","shears","iron_sword","wooden_sword","stone_sword","diamond_sword","golden_sword","turtle_helmet","leather_helmet","chainmail_helmet","iron_helmet","diamond_helmet","golden_helmet","leather_chestplate","chainmail_chestplate","iron_chestplate","diamond_chestplate","golden_chestplate","leather_leggings","chainmail_leggings","iron_leggings","diamond_leggings","golden_leggings","leather_boots","chainmail_boots","iron_boots","diamond_boots","golden_boots","bow","fishing_rod","carrot_on_a_stick","flint_and_steel","wooden_hoe","stone_hoe","iron_hoe","diamond_hoe","golden_hoe","shield","elytra","trident","crossbow","netherite_helmet","netherite_boots","netherite_chestplate","netherite_leggings","netherite_pickaxe","netherite_shovel","netherite_axe","netherite_hoe","netherite_sword","warped_fungus_on_a_stick"]],enchantables[71]=["Vanishing Curse",["iron_pickaxe","wooden_pickaxe","stone_pickaxe","diamond_pickaxe","golden_pickaxe","iron_shovel","wooden_shovel","stone_shovel","diamond_shovel","golden_shovel","iron_axe","wooden_axe","stone_axe","diamond_axe","golden_axe","shears","iron_sword","wooden_sword","stone_sword","diamond_sword","golden_sword","turtle_helmet","leather_helmet","chainmail_helmet","iron_helmet","diamond_helmet","golden_helmet","leather_chestplate","chainmail_chestplate","iron_chestplate","diamond_chestplate","golden_chestplate","leather_leggings","chainmail_leggings","iron_leggings","diamond_leggings","golden_leggings","leather_boots","chainmail_boots","iron_boots","diamond_boots","golden_boots","bow","fishing_rod","carrot_on_a_stick","flint_and_steel","wooden_hoe","stone_hoe","iron_hoe","diamond_hoe","golden_hoe","shield","elytra","netherite_helmet","netherite_boots","netherite_chestplate","netherite_leggings","netherite_pickaxe","netherite_shovel","netherite_axe","netherite_hoe","netherite_sword","warped_fungus_on_a_stick","compass"]],enchantables[72]=["Multishot",["crossbow"]],enchantables[73]=["Piercing",["crossbow"]],enchantables[74]=["Quick Charge",["crossbow"]],enchantables[75]=["Soul Speed",["leather_boots","chainmail_boots","iron_boots","diamond_boots","golden_boots","netherite_boots"]],["acacia_boat","acacia_button","acacia_door","acacia_fence","acacia_fence_gate","acacia_planks","acacia_pressure_plate","acacia_sign","acacia_slab","acacia_stairs","acacia_trapdoor","acacia_wood","activator_rail","amethyst_block","andesite","andesite_slab","andesite_slab_from_andesite_stonecutting","andesite_stairs","andesite_stairs_from_andesite_stonecutting","andesite_wall","andesite_wall_from_andesite_stonecutting","anvil","armor_dye","armor_stand","arrow","baked_potato","baked_potato_from_campfire_cooking","baked_potato_from_smoking","banner_duplicate","barrel","beacon","beehive","beetroot_soup","birch_boat","birch_button","birch_door","birch_fence","birch_fence_gate","birch_planks","birch_pressure_plate","birch_sign","birch_slab","birch_stairs","birch_trapdoor","birch_wood","blackstone_slab","blackstone_slab_from_blackstone_stonecutting","blackstone_stairs","blackstone_stairs_from_blackstone_stonecutting","blackstone_wall","blackstone_wall_from_blackstone_stonecutting","black_banner","black_bed","black_bed_from_white_bed","black_candle","black_carpet","black_carpet_from_white_carpet","black_concrete_powder","black_dye","black_dye_from_wither_rose","black_glazed_terracotta","black_stained_glass","black_stained_glass_pane","black_stained_glass_pane_from_glass_pane","black_terracotta","black_wool","blast_furnace","blaze_powder","blue_banner","blue_bed","blue_bed_from_white_bed","blue_candle","blue_carpet","blue_carpet_from_white_carpet","blue_concrete_powder","blue_dye","blue_dye_from_cornflower","blue_glazed_terracotta","blue_ice","blue_stained_glass","blue_stained_glass_pane","blue_stained_glass_pane_from_glass_pane","blue_terracotta","blue_wool","bone_block","bone_meal","bone_meal_from_bone_block","book","bookshelf","book_cloning","bow","bowl","bread","brewing_stand","brick","bricks","brick_slab","brick_slab_from_bricks_stonecutting","brick_stairs","brick_stairs_from_bricks_stonecutting","brick_wall","brick_wall_from_bricks_stonecutting","brown_banner","brown_bed","brown_bed_from_white_bed","brown_candle","brown_carpet","brown_carpet_from_white_carpet","brown_concrete_powder","brown_dye","brown_glazed_terracotta","brown_stained_glass","brown_stained_glass_pane","brown_stained_glass_pane_from_glass_pane","brown_terracotta","brown_wool","bucket","bundle","cake","campfire","candle","carrot_on_a_stick","cartography_table","cauldron","chain","charcoal","chest","chest_minecart","chiseled_deepslate","chiseled_deepslate_from_cobbled_deepslate_stonecutting","chiseled_nether_bricks","chiseled_nether_bricks_from_nether_bricks_stonecutting","chiseled_polished_blackstone","chiseled_polished_blackstone_from_blackstone_stonecutting","chiseled_polished_blackstone_from_polished_blackstone_stonecutting","chiseled_quartz_block","chiseled_quartz_block_from_quartz_block_stonecutting","chiseled_red_sandstone","chiseled_red_sandstone_from_red_sandstone_stonecutting","chiseled_sandstone","chiseled_sandstone_from_sandstone_stonecutting","chiseled_stone_bricks","chiseled_stone_bricks_from_stone_bricks_stonecutting","chiseled_stone_bricks_stone_from_stonecutting","clay","clock","coal","coal_block","coal_from_blasting","coal_from_smelting","coarse_dirt","cobbled_deepslate_slab","cobbled_deepslate_slab_from_cobbled_deepslate_stonecutting","cobbled_deepslate_stairs","cobbled_deepslate_stairs_from_cobbled_deepslate_stonecutting","cobbled_deepslate_wall","cobbled_deepslate_wall_from_cobbled_deepslate_stonecutting","cobblestone_slab","cobblestone_slab_from_cobblestone_stonecutting","cobblestone_stairs","cobblestone_stairs_from_cobblestone_stonecutting","cobblestone_wall","cobblestone_wall_from_cobblestone_stonecutting","comparator","compass","composter","conduit","cooked_beef","cooked_beef_from_campfire_cooking","cooked_beef_from_smoking","cooked_chicken","cooked_chicken_from_campfire_cooking","cooked_chicken_from_smoking","cooked_cod","cooked_cod_from_campfire_cooking","cooked_cod_from_smoking","cooked_mutton","cooked_mutton_from_campfire_cooking","cooked_mutton_from_smoking","cooked_porkchop","cooked_porkchop_from_campfire_cooking","cooked_porkchop_from_smoking","cooked_rabbit","cooked_rabbit_from_campfire_cooking","cooked_rabbit_from_smoking","cooked_salmon","cooked_salmon_from_campfire_cooking","cooked_salmon_from_smoking","cookie","copper_block","copper_ingot","copper_ingot_from_blasting","copper_ingot_from_copper_block","copper_ingot_from_waxed_copper_block","cracked_deepslate_bricks","cracked_deepslate_tiles","cracked_nether_bricks","cracked_polished_blackstone_bricks","cracked_stone_bricks","crafting_table","creeper_banner_pattern","crimson_button","crimson_door","crimson_fence","crimson_fence_gate","crimson_hyphae","crimson_planks","crimson_pressure_plate","crimson_sign","crimson_slab","crimson_stairs","crimson_trapdoor","crossbow","cut_copper","cut_copper_from_copper_block_stonecutting","cut_copper_slab","cut_copper_slab_from_copper_block_stonecutting","cut_copper_slab_from_cut_copper_stonecutting","cut_copper_stairs","cut_copper_stairs_from_copper_block_stonecutting","cut_copper_stairs_from_cut_copper_stonecutting","cut_red_sandstone","cut_red_sandstone_from_red_sandstone_stonecutting","cut_red_sandstone_slab","cut_red_sandstone_slab_from_cut_red_sandstone_stonecutting","cut_red_sandstone_slab_from_red_sandstone_stonecutting","cut_sandstone","cut_sandstone_from_sandstone_stonecutting","cut_sandstone_slab","cut_sandstone_slab_from_cut_sandstone_stonecutting","cut_sandstone_slab_from_sandstone_stonecutting","cyan_banner","cyan_bed","cyan_bed_from_white_bed","cyan_candle","cyan_carpet","cyan_carpet_from_white_carpet","cyan_concrete_powder","cyan_dye","cyan_glazed_terracotta","cyan_stained_glass","cyan_stained_glass_pane","cyan_stained_glass_pane_from_glass_pane","cyan_terracotta","cyan_wool","dark_oak_boat","dark_oak_button","dark_oak_door","dark_oak_fence","dark_oak_fence_gate","dark_oak_planks","dark_oak_pressure_plate","dark_oak_sign","dark_oak_slab","dark_oak_stairs","dark_oak_trapdoor","dark_oak_wood","dark_prismarine","dark_prismarine_slab","dark_prismarine_slab_from_dark_prismarine_stonecutting","dark_prismarine_stairs","dark_prismarine_stairs_from_dark_prismarine_stonecutting","daylight_detector","deepslate","deepslate_bricks","deepslate_bricks_from_cobbled_deepslate_stonecutting","deepslate_bricks_from_polished_deepslate_stonecutting","deepslate_brick_slab","deepslate_brick_slab_from_cobbled_deepslate_stonecutting","deepslate_brick_slab_from_deepslate_bricks_stonecutting","deepslate_brick_slab_from_polished_deepslate_stonecutting","deepslate_brick_stairs","deepslate_brick_stairs_from_cobbled_deepslate_stonecutting","deepslate_brick_stairs_from_deepslate_bricks_stonecutting","deepslate_brick_stairs_from_polished_deepslate_stonecutting","deepslate_brick_wall","deepslate_brick_wall_from_cobbled_deepslate_stonecutting","deepslate_brick_wall_from_deepslate_bricks_stonecutting","deepslate_brick_wall_from_polished_deepslate_stonecutting","deepslate_tiles","deepslate_tiles_from_cobbled_deepslate_stonecutting","deepslate_tiles_from_deepslate_bricks_stonecutting","deepslate_tiles_from_polished_deepslate_stonecutting","deepslate_tile_slab","deepslate_tile_slab_from_cobbled_deepslate_stonecutting","deepslate_tile_slab_from_deepslate_bricks_stonecutting","deepslate_tile_slab_from_deepslate_tiles_stonecutting","deepslate_tile_slab_from_polished_deepslate_stonecutting","deepslate_tile_stairs","deepslate_tile_stairs_from_cobbled_deepslate_stonecutting","deepslate_tile_stairs_from_deepslate_bricks_stonecutting","deepslate_tile_stairs_from_deepslate_tiles_stonecutting","deepslate_tile_stairs_from_polished_deepslate_stonecutting","deepslate_tile_wall","deepslate_tile_wall_from_cobbled_deepslate_stonecutting","deepslate_tile_wall_from_deepslate_bricks_stonecutting","deepslate_tile_wall_from_deepslate_tiles_stonecutting","deepslate_tile_wall_from_polished_deepslate_stonecutting","detector_rail","diamond","diamond_axe","diamond_block","diamond_boots","diamond_chestplate","diamond_from_blasting","diamond_from_smelting","diamond_helmet","diamond_hoe","diamond_leggings","diamond_pickaxe","diamond_shovel","diamond_sword","diorite","diorite_slab","diorite_slab_from_diorite_stonecutting","diorite_stairs","diorite_stairs_from_diorite_stonecutting","diorite_wall","diorite_wall_from_diorite_stonecutting","dispenser","dried_kelp","dried_kelp_block","dried_kelp_from_campfire_cooking","dried_kelp_from_smelting","dried_kelp_from_smoking","dripstone_block","dropper","emerald","emerald_block","emerald_from_blasting","emerald_from_smelting","enchanting_table","ender_chest","ender_eye","end_crystal","end_rod","end_stone_bricks","end_stone_bricks_from_end_stone_stonecutting","end_stone_brick_slab","end_stone_brick_slab_from_end_stone_brick_stonecutting","end_stone_brick_slab_from_end_stone_stonecutting","end_stone_brick_stairs","end_stone_brick_stairs_from_end_stone_brick_stonecutting","end_stone_brick_stairs_from_end_stone_stonecutting","end_stone_brick_wall","end_stone_brick_wall_from_end_stone_brick_stonecutting","end_stone_brick_wall_from_end_stone_stonecutting","exposed_cut_copper","exposed_cut_copper_from_exposed_copper_stonecutting","exposed_cut_copper_slab","exposed_cut_copper_slab_from_exposed_copper_stonecutting","exposed_cut_copper_slab_from_exposed_cut_copper_stonecutting","exposed_cut_copper_stairs","exposed_cut_copper_stairs_from_exposed_copper_stonecutting","exposed_cut_copper_stairs_from_exposed_cut_copper_stonecutting","fermented_spider_eye","firework_rocket","firework_rocket_simple","firework_star","firework_star_fade","fire_charge","fishing_rod","fletching_table","flint_and_steel","flower_banner_pattern","flower_pot","furnace","furnace_minecart","glass","glass_bottle","glass_pane","glistering_melon_slice","glowstone","glow_item_frame","golden_apple","golden_axe","golden_boots","golden_carrot","golden_chestplate","golden_helmet","golden_hoe","golden_leggings","golden_pickaxe","golden_shovel","golden_sword","gold_block","gold_ingot","gold_ingot_from_blasting","gold_ingot_from_gold_block","gold_ingot_from_nuggets","gold_nugget","gold_nugget_from_blasting","gold_nugget_from_smelting","granite","granite_slab","granite_slab_from_granite_stonecutting","granite_stairs","granite_stairs_from_granite_stonecutting","granite_wall","granite_wall_from_granite_stonecutting","gray_banner","gray_bed","gray_bed_from_white_bed","gray_candle","gray_carpet","gray_carpet_from_white_carpet","gray_concrete_powder","gray_dye","gray_glazed_terracotta","gray_stained_glass","gray_stained_glass_pane","gray_stained_glass_pane_from_glass_pane","gray_terracotta","gray_wool","green_banner","green_bed","green_bed_from_white_bed","green_candle","green_carpet","green_carpet_from_white_carpet","green_concrete_powder","green_dye","green_glazed_terracotta","green_stained_glass","green_stained_glass_pane","green_stained_glass_pane_from_glass_pane","green_terracotta","green_wool","grindstone","hay_block","heavy_weighted_pressure_plate","honeycomb_block","honey_block","honey_bottle","hopper","hopper_minecart","iron_axe","iron_bars","iron_block","iron_boots","iron_chestplate","iron_door","iron_helmet","iron_hoe","iron_ingot","iron_ingot_from_blasting","iron_ingot_from_iron_block","iron_ingot_from_nuggets","iron_leggings","iron_nugget","iron_nugget_from_blasting","iron_nugget_from_smelting","iron_pickaxe","iron_shovel","iron_sword","iron_trapdoor","item_frame","jack_o_lantern","jukebox","jungle_boat","jungle_button","jungle_door","jungle_fence","jungle_fence_gate","jungle_planks","jungle_pressure_plate","jungle_sign","jungle_slab","jungle_stairs","jungle_trapdoor","jungle_wood","ladder","lantern","lapis_block","lapis_from_blasting","lapis_from_smelting","lapis_lazuli","lead","leather","leather_boots","leather_chestplate","leather_helmet","leather_horse_armor","leather_leggings","lectern","lever","lightning_rod","light_blue_banner","light_blue_bed","light_blue_bed_from_white_bed","light_blue_candle","light_blue_carpet","light_blue_carpet_from_white_carpet","light_blue_concrete_powder","light_blue_dye_from_blue_orchid","light_blue_dye_from_blue_white_dye","light_blue_glazed_terracotta","light_blue_stained_glass","light_blue_stained_glass_pane","light_blue_stained_glass_pane_from_glass_pane","light_blue_terracotta","light_blue_wool","light_gray_banner","light_gray_bed","light_gray_bed_from_white_bed","light_gray_candle","light_gray_carpet","light_gray_carpet_from_white_carpet","light_gray_concrete_powder","light_gray_dye_from_azure_bluet","light_gray_dye_from_black_white_dye","light_gray_dye_from_gray_white_dye","light_gray_dye_from_oxeye_daisy","light_gray_dye_from_white_tulip","light_gray_glazed_terracotta","light_gray_stained_glass","light_gray_stained_glass_pane","light_gray_stained_glass_pane_from_glass_pane","light_gray_terracotta","light_gray_wool","light_weighted_pressure_plate","lime_banner","lime_bed","lime_bed_from_white_bed","lime_candle","lime_carpet","lime_carpet_from_white_carpet","lime_concrete_powder","lime_dye","lime_dye_from_smelting","lime_glazed_terracotta","lime_stained_glass","lime_stained_glass_pane","lime_stained_glass_pane_from_glass_pane","lime_terracotta","lime_wool","lodestone","loom","magenta_banner","magenta_bed","magenta_bed_from_white_bed","magenta_candle","magenta_carpet","magenta_carpet_from_white_carpet","magenta_concrete_powder","magenta_dye_from_allium","magenta_dye_from_blue_red_pink","magenta_dye_from_blue_red_white_dye","magenta_dye_from_lilac","magenta_dye_from_purple_and_pink","magenta_glazed_terracotta","magenta_stained_glass","magenta_stained_glass_pane","magenta_stained_glass_pane_from_glass_pane","magenta_terracotta","magenta_wool","magma_block","magma_cream","map","map_cloning","map_extending","melon","melon_seeds","minecart","mojang_banner_pattern","mossy_cobblestone","mossy_cobblestone_from_moss_block","mossy_cobblestone_from_vine","mossy_cobblestone_slab","mossy_cobblestone_slab_from_mossy_cobblestone_stonecutting","mossy_cobblestone_stairs","mossy_cobblestone_stairs_from_mossy_cobblestone_stonecutting","mossy_cobblestone_wall","mossy_cobblestone_wall_from_mossy_cobblestone_stonecutting","mossy_stone_bricks","mossy_stone_bricks_from_moss_block","mossy_stone_bricks_from_vine","mossy_stone_brick_slab","mossy_stone_brick_slab_from_mossy_stone_brick_stonecutting","mossy_stone_brick_stairs","mossy_stone_brick_stairs_from_mossy_stone_brick_stonecutting","mossy_stone_brick_wall","mossy_stone_brick_wall_from_mossy_stone_brick_stonecutting","moss_carpet","mushroom_stew","netherite_axe_smithing","netherite_block","netherite_boots_smithing","netherite_chestplate_smithing","netherite_helmet_smithing","netherite_hoe_smithing","netherite_ingot","netherite_ingot_from_netherite_block","netherite_leggings_smithing","netherite_pickaxe_smithing","netherite_scrap","netherite_scrap_from_blasting","netherite_shovel_smithing","netherite_sword_smithing","nether_brick","nether_bricks","nether_brick_fence","nether_brick_slab","nether_brick_slab_from_nether_bricks_stonecutting","nether_brick_stairs","nether_brick_stairs_from_nether_bricks_stonecutting","nether_brick_wall","nether_brick_wall_from_nether_bricks_stonecutting","nether_wart_block","note_block","oak_boat","oak_button","oak_door","oak_fence","oak_fence_gate","oak_planks","oak_pressure_plate","oak_sign","oak_slab","oak_stairs","oak_trapdoor","oak_wood","observer","orange_banner","orange_bed","orange_bed_from_white_bed","orange_candle","orange_carpet","orange_carpet_from_white_carpet","orange_concrete_powder","orange_dye_from_orange_tulip","orange_dye_from_red_yellow","orange_glazed_terracotta","orange_stained_glass","orange_stained_glass_pane","orange_stained_glass_pane_from_glass_pane","orange_terracotta","orange_wool","oxidized_cut_copper","oxidized_cut_copper_from_oxidized_copper_stonecutting","oxidized_cut_copper_slab","oxidized_cut_copper_slab_from_oxidized_copper_stonecutting","oxidized_cut_copper_slab_from_oxidized_cut_copper_stonecutting","oxidized_cut_copper_stairs","oxidized_cut_copper_stairs_from_oxidized_copper_stonecutting","oxidized_cut_copper_stairs_from_oxidized_cut_copper_stonecutting","packed_ice","painting","paper","pink_banner","pink_bed","pink_bed_from_white_bed","pink_candle","pink_carpet","pink_carpet_from_white_carpet","pink_concrete_powder","pink_dye_from_peony","pink_dye_from_pink_tulip","pink_dye_from_red_white_dye","pink_glazed_terracotta","pink_stained_glass","pink_stained_glass_pane","pink_stained_glass_pane_from_glass_pane","pink_terracotta","pink_wool","piston","polished_andesite","polished_andesite_from_andesite_stonecutting","polished_andesite_slab","polished_andesite_slab_from_andesite_stonecutting","polished_andesite_slab_from_polished_andesite_stonecutting","polished_andesite_stairs","polished_andesite_stairs_from_andesite_stonecutting","polished_andesite_stairs_from_polished_andesite_stonecutting","polished_basalt","polished_basalt_from_basalt_stonecutting","polished_blackstone","polished_blackstone_bricks","polished_blackstone_bricks_from_blackstone_stonecutting","polished_blackstone_bricks_from_polished_blackstone_stonecutting","polished_blackstone_brick_slab","polished_blackstone_brick_slab_from_blackstone_stonecutting","polished_blackstone_brick_slab_from_polished_blackstone_bricks_stonecutting","polished_blackstone_brick_slab_from_polished_blackstone_stonecutting","polished_blackstone_brick_stairs","polished_blackstone_brick_stairs_from_blackstone_stonecutting","polished_blackstone_brick_stairs_from_polished_blackstone_bricks_stonecutting","polished_blackstone_brick_stairs_from_polished_blackstone_stonecutting","polished_blackstone_brick_wall","polished_blackstone_brick_wall_from_blackstone_stonecutting","polished_blackstone_brick_wall_from_polished_blackstone_bricks_stonecutting","polished_blackstone_brick_wall_from_polished_blackstone_stonecutting","polished_blackstone_button","polished_blackstone_from_blackstone_stonecutting","polished_blackstone_pressure_plate","polished_blackstone_slab","polished_blackstone_slab_from_blackstone_stonecutting","polished_blackstone_slab_from_polished_blackstone_stonecutting","polished_blackstone_stairs","polished_blackstone_stairs_from_blackstone_stonecutting","polished_blackstone_stairs_from_polished_blackstone_stonecutting","polished_blackstone_wall","polished_blackstone_wall_from_blackstone_stonecutting","polished_blackstone_wall_from_polished_blackstone_stonecutting","polished_deepslate","polished_deepslate_from_cobbled_deepslate_stonecutting","polished_deepslate_slab","polished_deepslate_slab_from_cobbled_deepslate_stonecutting","polished_deepslate_slab_from_polished_deepslate_stonecutting","polished_deepslate_stairs","polished_deepslate_stairs_from_cobbled_deepslate_stonecutting","polished_deepslate_stairs_from_polished_deepslate_stonecutting","polished_deepslate_wall","polished_deepslate_wall_from_cobbled_deepslate_stonecutting","polished_deepslate_wall_from_polished_deepslate_stonecutting","polished_diorite","polished_diorite_from_diorite_stonecutting","polished_diorite_slab","polished_diorite_slab_from_diorite_stonecutting","polished_diorite_slab_from_polished_diorite_stonecutting","polished_diorite_stairs","polished_diorite_stairs_from_diorite_stonecutting","polished_diorite_stairs_from_polished_diorite_stonecutting","polished_granite","polished_granite_from_granite_stonecutting","polished_granite_slab","polished_granite_slab_from_granite_stonecutting","polished_granite_slab_from_polished_granite_stonecutting","polished_granite_stairs","polished_granite_stairs_from_granite_stonecutting","polished_granite_stairs_from_polished_granite_stonecutting","popped_chorus_fruit","powered_rail","prismarine","prismarine_bricks","prismarine_brick_slab","prismarine_brick_slab_from_prismarine_stonecutting","prismarine_brick_stairs","prismarine_brick_stairs_from_prismarine_stonecutting","prismarine_slab","prismarine_slab_from_prismarine_stonecutting","prismarine_stairs","prismarine_stairs_from_prismarine_stonecutting","prismarine_wall","prismarine_wall_from_prismarine_stonecutting","pumpkin_pie","pumpkin_seeds","purple_banner","purple_bed","purple_bed_from_white_bed","purple_candle","purple_carpet","purple_carpet_from_white_carpet","purple_concrete_powder","purple_dye","purple_glazed_terracotta","purple_stained_glass","purple_stained_glass_pane","purple_stained_glass_pane_from_glass_pane","purple_terracotta","purple_wool","purpur_block","purpur_pillar","purpur_pillar_from_purpur_block_stonecutting","purpur_slab","purpur_slab_from_purpur_block_stonecutting","purpur_stairs","purpur_stairs_from_purpur_block_stonecutting","quartz","quartz_block","quartz_bricks","quartz_bricks_from_quartz_block_stonecutting","quartz_from_blasting","quartz_pillar","quartz_pillar_from_quartz_block_stonecutting","quartz_slab","quartz_slab_from_stonecutting","quartz_stairs","quartz_stairs_from_quartz_block_stonecutting","rabbit_stew_from_brown_mushroom","rabbit_stew_from_red_mushroom","rail","redstone","redstone_block","redstone_from_blasting","redstone_from_smelting","redstone_lamp","redstone_torch","red_banner","red_bed","red_bed_from_white_bed","red_candle","red_carpet","red_carpet_from_white_carpet","red_concrete_powder","red_dye_from_beetroot","red_dye_from_poppy","red_dye_from_rose_bush","red_dye_from_tulip","red_glazed_terracotta","red_nether_bricks","red_nether_brick_slab","red_nether_brick_slab_from_red_nether_bricks_stonecutting","red_nether_brick_stairs","red_nether_brick_stairs_from_red_nether_bricks_stonecutting","red_nether_brick_wall","red_nether_brick_wall_from_red_nether_bricks_stonecutting","red_sandstone","red_sandstone_slab","red_sandstone_slab_from_red_sandstone_stonecutting","red_sandstone_stairs","red_sandstone_stairs_from_red_sandstone_stonecutting","red_sandstone_wall","red_sandstone_wall_from_red_sandstone_stonecutting","red_stained_glass","red_stained_glass_pane","red_stained_glass_pane_from_glass_pane","red_terracotta","red_wool","repair_item","repeater","respawn_anchor","sandstone","sandstone_slab","sandstone_slab_from_sandstone_stonecutting","sandstone_stairs","sandstone_stairs_from_sandstone_stonecutting","sandstone_wall","sandstone_wall_from_sandstone_stonecutting","scaffolding","sea_lantern","shears","shield","shield_decoration","shulker_box","shulker_box_coloring","skull_banner_pattern","slime_ball","slime_block","smithing_table","smoker","smooth_basalt","smooth_quartz","smooth_quartz_slab","smooth_quartz_slab_from_smooth_quartz_stonecutting","smooth_quartz_stairs","smooth_quartz_stairs_from_smooth_quartz_stonecutting","smooth_red_sandstone","smooth_red_sandstone_slab","smooth_red_sandstone_slab_from_smooth_red_sandstone_stonecutting","smooth_red_sandstone_stairs","smooth_red_sandstone_stairs_from_smooth_red_sandstone_stonecutting","smooth_sandstone","smooth_sandstone_slab","smooth_sandstone_slab_from_smooth_sandstone_stonecutting","smooth_sandstone_stairs","smooth_sandstone_stairs_from_smooth_sandstone_stonecutting","smooth_stone","smooth_stone_slab","smooth_stone_slab_from_smooth_stone_stonecutting","snow","snow_block","soul_campfire","soul_lantern","soul_torch","spectral_arrow","sponge","spruce_boat","spruce_button","spruce_door","spruce_fence","spruce_fence_gate","spruce_planks","spruce_pressure_plate","spruce_sign","spruce_slab","spruce_stairs","spruce_trapdoor","spruce_wood","spyglass","stick","sticky_piston","stick_from_bamboo_item","stone","stonecutter","stone_axe","stone_bricks","stone_bricks_from_stone_stonecutting","stone_brick_slab","stone_brick_slab_from_stone_bricks_stonecutting","stone_brick_slab_from_stone_stonecutting","stone_brick_stairs","stone_brick_stairs_from_stone_bricks_stonecutting","stone_brick_stairs_from_stone_stonecutting","stone_brick_wall","stone_brick_walls_from_stone_stonecutting","stone_brick_wall_from_stone_bricks_stonecutting","stone_button","stone_hoe","stone_pickaxe","stone_pressure_plate","stone_shovel","stone_slab","stone_slab_from_stone_stonecutting","stone_stairs","stone_stairs_from_stone_stonecutting","stone_sword","stripped_acacia_wood","stripped_birch_wood","stripped_crimson_hyphae","stripped_dark_oak_wood","stripped_jungle_wood","stripped_oak_wood","stripped_spruce_wood","stripped_warped_hyphae","sugar_from_honey_bottle","sugar_from_sugar_cane","suspicious_stew","target","terracotta","tinted_glass","tipped_arrow","tnt","tnt_minecart","torch","trapped_chest","tripwire_hook","turtle_helmet","warped_button","warped_door","warped_fence","warped_fence_gate","warped_fungus_on_a_stick","warped_hyphae","warped_planks","warped_pressure_plate","warped_sign","warped_slab","warped_stairs","warped_trapdoor","waxed_copper_block","waxed_copper_block_from_honeycomb","waxed_copper_cut_slab_from_honeycomb","waxed_copper_cut_stairs_from_honeycomb","waxed_cut_copper","waxed_cut_copper_from_honeycomb","waxed_cut_copper_from_waxed_copper_block_stonecutting","waxed_cut_copper_slab","waxed_cut_copper_slab_from_honeycomb","waxed_cut_copper_slab_from_waxed_copper_block_stonecutting","waxed_cut_copper_slab_from_waxed_cut_copper_stonecutting","waxed_cut_copper_stairs","waxed_cut_copper_stairs_from_honeycomb","waxed_cut_copper_stairs_from_waxed_copper_block_stonecutting","waxed_cut_copper_stairs_from_waxed_cut_copper_stonecutting","waxed_exposed_copper","waxed_exposed_copper_from_honeycomb","waxed_exposed_cut_copper","waxed_exposed_cut_copper_from_honeycomb","waxed_exposed_cut_copper_from_waxed_exposed_copper_stonecutting","waxed_exposed_cut_copper_slab","waxed_exposed_cut_copper_slab_from_honeycomb","waxed_exposed_cut_copper_slab_from_waxed_exposed_copper_stonecutting","waxed_exposed_cut_copper_slab_from_waxed_exposed_cut_copper_stonecutting","waxed_exposed_cut_copper_stairs","waxed_exposed_cut_copper_stairs_from_honeycomb","waxed_exposed_cut_copper_stairs_from_waxed_exposed_copper_stonecutting","waxed_exposed_cut_copper_stairs_from_waxed_exposed_cut_copper_stonecutting","waxed_weathered_copper","waxed_weathered_copper_from_honeycomb","waxed_weathered_cut_copper","waxed_weathered_cut_copper_from_honeycomb","waxed_weathered_cut_copper_from_waxed_weathered_copper_stonecutting","waxed_weathered_cut_copper_slab","waxed_weathered_cut_copper_slab_from_honeycomb","waxed_weathered_cut_copper_slab_from_waxed_weathered_copper_stonecutting","waxed_weathered_cut_copper_slab_from_waxed_weathered_cut_copper_stonecutting","waxed_weathered_cut_copper_stairs","waxed_weathered_cut_copper_stairs_from_honeycomb","waxed_weathered_cut_copper_stairs_from_waxed_weathered_copper_stonecutting","waxed_weathered_cut_copper_stairs_from_waxed_weathered_cut_copper_stonecutting","weathered_cut_copper","weathered_cut_copper_from_weathered_copper_stonecutting","weathered_cut_copper_slab","weathered_cut_copper_slab_from_weathered_copper_stonecutting","weathered_cut_copper_slab_from_weathered_cut_copper_stonecutting","weathered_cut_copper_stairs","weathered_cut_copper_stairs_from_weathered_copper_stonecutting","weathered_cut_copper_stairs_from_weathered_cut_copper_stonecutting","wheat","white_banner","white_bed","white_candle","white_carpet","white_concrete_powder","white_dye","white_dye_from_lily_of_the_valley","white_glazed_terracotta","white_stained_glass","white_stained_glass_pane","white_stained_glass_pane_from_glass_pane","white_terracotta","white_wool_from_string","wooden_axe","wooden_hoe","wooden_pickaxe","wooden_shovel","wooden_sword","writable_book","yellow_banner","yellow_bed","yellow_bed_from_white_bed","yellow_candle","yellow_carpet","yellow_carpet_from_white_carpet","yellow_concrete_powder","yellow_dye_from_dandelion","yellow_dye_from_sunflower","yellow_glazed_terracotta","yellow_stained_glass","yellow_stained_glass_pane","yellow_stained_glass_pane_from_glass_pane","yellow_terracotta","yellow_wool"]),soundList=["ambient.cave","ambient.basalt_deltas.additions","ambient.basalt_deltas.loop","ambient.basalt_deltas.mood","ambient.crimson_forest.additions","ambient.crimson_forest.loop","ambient.crimson_forest.mood","ambient.nether_wastes.additions","ambient.nether_wastes.loop","ambient.nether_wastes.mood","ambient.soul_sand_valley.additions","ambient.soul_sand_valley.loop","ambient.soul_sand_valley.mood","ambient.underwater.enter","ambient.underwater.exit","ambient.underwater.loop","ambient.underwater.loop.additions","ambient.underwater.loop.additions.rare","ambient.underwater.loop.additions.ultra_rare","ambient.warped_forest.additions","ambient.warped_forest.loop","ambient.warped_forest.mood","block.amethyst_block.break","block.amethyst_block.chime","block.amethyst_block.fall","block.amethyst_block.hit","block.amethyst_block.place","block.amethyst_block.step","block.amethyst_cluster.break","block.amethyst_cluster.fall","block.amethyst_cluster.hit","block.amethyst_cluster.place","block.amethyst_cluster.step","block.ancient_debris.break","block.ancient_debris.fall","block.ancient_debris.hit","block.ancient_debris.place","block.ancient_debris.step","block.anvil.break","block.anvil.destroy","block.anvil.fall","block.anvil.hit","block.anvil.land","block.anvil.place","block.anvil.step","block.anvil.use","block.azalea.break","block.azalea.fall","block.azalea.hit","block.azalea.place","block.azalea.step","block.azalea_leaves.break","block.azalea_leaves.fall","block.azalea_leaves.hit","block.azalea_leaves.place","block.azalea_leaves.step","block.bamboo.break","block.bamboo.fall","block.bamboo.hit","block.bamboo.place","block.bamboo.step","block.bamboo_sapling.break","block.bamboo_sapling.hit","block.bamboo_sapling.place","block.barrel.close","block.barrel.open","block.basalt.break","block.basalt.fall","block.basalt.hit","block.basalt.place","block.basalt.step","block.beacon.activate","block.beacon.ambient","block.beacon.deactivate","block.beacon.power_select","block.beehive.drip","block.beehive.enter","block.beehive.exit","block.beehive.shear","block.beehive.work","block.bell.resonate","block.bell.use","block.big_dripleaf.break","block.big_dripleaf.fall","block.big_dripleaf.hit","block.big_dripleaf.place","block.big_dripleaf.step","block.big_dripleaf.tilt_down","block.big_dripleaf.tilt_up","block.blastfurnace.fire_crackle","block.bone_block.break","block.bone_block.fall","block.bone_block.hit","block.bone_block.place","block.bone_block.step","block.brewing_stand.brew","block.bubble_column.bubble_pop","block.bubble_column.upwards_ambient","block.bubble_column.upwards_inside","block.bubble_column.whirlpool_ambient","block.bubble_column.whirlpool_inside","block.cake.add_candle","block.calcite.break","block.calcite.fall","block.calcite.hit","block.calcite.place","block.calcite.step","block.campfire.crackle","block.candle.ambient","block.candle.break","block.candle.extinguish","block.candle.fall","block.candle.hit","block.candle.place","block.candle.step","block.cave_vines.break","block.cave_vines.fall","block.cave_vines.hit","block.cave_vines.pick_berries","block.cave_vines.place","block.cave_vines.step","block.chain.break","block.chain.fall","block.chain.hit","block.chain.place","block.chain.step","block.chest.close","block.chest.locked","block.chest.open","block.chorus_flower.death","block.chorus_flower.grow","block.comparator.click","block.composter.empty","block.composter.fill","block.composter.fill_success","block.composter.ready","block.conduit.activate","block.conduit.ambient","block.conduit.ambient.short","block.conduit.attack.target","block.conduit.deactivate","block.copper.break","block.copper.fall","block.copper.hit","block.copper.place","block.copper.step","block.coral_block.break","block.coral_block.fall","block.coral_block.hit","block.coral_block.place","block.coral_block.step","block.crop.break","block.deepslate.break","block.deepslate.fall","block.deepslate.hit","block.deepslate.place","block.deepslate.step","block.deepslate_bricks.break","block.deepslate_bricks.fall","block.deepslate_bricks.hit","block.deepslate_bricks.place","block.deepslate_bricks.step","block.deepslate_tiles.break","block.deepslate_tiles.fall","block.deepslate_tiles.hit","block.deepslate_tiles.place","block.deepslate_tiles.step","block.dispenser.dispense","block.dispenser.fail","block.dispenser.launch","block.dripstone_block.break","block.dripstone_block.fall","block.dripstone_block.hit","block.dripstone_block.place","block.dripstone_block.step","block.enchantment_table.use","block.end_gateway.spawn","block.end_portal.spawn","block.end_portal_frame.fill","block.ender_chest.close","block.ender_chest.open","block.fence_gate.close","block.fence_gate.open","block.fire.ambient","block.fire.extinguish","block.flowering_azalea.break","block.flowering_azalea.fall","block.flowering_azalea.hit","block.flowering_azalea.place","block.flowering_azalea.step","block.fungus.break","block.fungus.fall","block.fungus.hit","block.fungus.place","block.fungus.step","block.furnace.fire_crackle","block.gilded_blackstone.break","block.gilded_blackstone.fall","block.gilded_blackstone.hit","block.gilded_blackstone.place","block.gilded_blackstone.step","block.glass.break","block.glass.fall","block.glass.hit","block.glass.place","block.glass.step","block.grass.break","block.grass.fall","block.grass.hit","block.grass.place","block.grass.step","block.gravel.break","block.gravel.fall","block.gravel.hit","block.gravel.place","block.gravel.step","block.grindstone.use","block.hanging_roots.break","block.hanging_roots.fall","block.hanging_roots.hit","block.hanging_roots.place","block.hanging_roots.step","block.honey_block.break","block.honey_block.fall","block.honey_block.hit","block.honey_block.place","block.honey_block.slide","block.honey_block.step","block.iron_door.close","block.iron_door.open","block.iron_trapdoor.close","block.iron_trapdoor.open","block.ladder.break","block.ladder.fall","block.ladder.hit","block.ladder.place","block.ladder.step","block.lantern.break","block.lantern.fall","block.lantern.hit","block.lantern.place","block.lantern.step","block.large_amethyst_bud.break","block.large_amethyst_bud.place","block.lava.ambient","block.lava.extinguish","block.lava.pop","block.lever.click","block.lily_pad.place","block.lodestone.break","block.lodestone.fall","block.lodestone.hit","block.lodestone.place","block.lodestone.step","block.medium_amethyst_bud.break","block.medium_amethyst_bud.place","block.metal.break","block.metal.fall","block.metal.hit","block.metal.place","block.metal.step","block.metal_pressure_plate.click_off","block.metal_pressure_plate.click_on","block.moss.break","block.moss.fall","block.moss.hit","block.moss.place","block.moss.step","block.moss_carpet.break","block.moss_carpet.fall","block.moss_carpet.hit","block.moss_carpet.place","block.moss_carpet.step","block.nether_bricks.break","block.nether_bricks.fall","block.nether_bricks.hit","block.nether_bricks.place","block.nether_bricks.step","block.nether_gold_ore.break","block.nether_gold_ore.fall","block.nether_gold_ore.hit","block.nether_gold_ore.place","block.nether_gold_ore.step","block.nether_ore.break","block.nether_ore.fall","block.nether_ore.hit","block.nether_ore.place","block.nether_ore.step","block.nether_sprouts.break","block.nether_sprouts.fall","block.nether_sprouts.hit","block.nether_sprouts.place","block.nether_sprouts.step","block.nether_wart.break","block.netherite_block.break","block.netherite_block.fall","block.netherite_block.hit","block.netherite_block.place","block.netherite_block.step","block.netherrack.break","block.netherrack.fall","block.netherrack.hit","block.netherrack.place","block.netherrack.step","block.note_block.banjo","block.note_block.basedrum","block.note_block.bass","block.note_block.bell","block.note_block.bit","block.note_block.chime","block.note_block.cow_bell","block.note_block.didgeridoo","block.note_block.flute","block.note_block.guitar","block.note_block.harp","block.note_block.hat","block.note_block.iron_xylophone","block.note_block.pling","block.note_block.snare","block.note_block.xylophone","block.nylium.break","block.nylium.fall","block.nylium.hit","block.nylium.place","block.nylium.step","block.piston.contract","block.piston.extend","block.pointed_dripstone.break","block.pointed_dripstone.drip_lava","block.pointed_dripstone.drip_lava_into_cauldron","block.pointed_dripstone.drip_water","block.pointed_dripstone.drip_water_into_cauldron","block.pointed_dripstone.fall","block.pointed_dripstone.hit","block.pointed_dripstone.land","block.pointed_dripstone.place","block.pointed_dripstone.step","block.polished_deepslate.break","block.polished_deepslate.fall","block.polished_deepslate.hit","block.polished_deepslate.place","block.polished_deepslate.step","block.portal.ambient","block.portal.travel","block.portal.trigger","block.powder_snow.break","block.powder_snow.fall","block.powder_snow.hit","block.powder_snow.place","block.powder_snow.step","block.pumpkin.carve","block.redstone_torch.burnout","block.respawn_anchor.ambient","block.respawn_anchor.charge","block.respawn_anchor.deplete","block.respawn_anchor.set_spawn","block.rooted_dirt.break","block.rooted_dirt.fall","block.rooted_dirt.hit","block.rooted_dirt.place","block.rooted_dirt.step","block.roots.break","block.roots.fall","block.roots.hit","block.roots.place","block.roots.step","block.sand.break","block.sand.fall","block.sand.hit","block.sand.place","block.sand.step","block.scaffolding.break","block.scaffolding.fall","block.scaffolding.hit","block.scaffolding.place","block.scaffolding.step","block.sculk_sensor.break","block.sculk_sensor.clicking","block.sculk_sensor.clicking_stop","block.sculk_sensor.fall","block.sculk_sensor.hit","block.sculk_sensor.place","block.sculk_sensor.step","block.shroomlight.break","block.shroomlight.fall","block.shroomlight.hit","block.shroomlight.place","block.shroomlight.step","block.shulker_box.close","block.shulker_box.open","block.slime_block.break","block.slime_block.fall","block.slime_block.hit","block.slime_block.place","block.slime_block.step","block.small_amethyst_bud.break","block.small_amethyst_bud.place","block.small_dripleaf.break","block.small_dripleaf.fall","block.small_dripleaf.hit","block.small_dripleaf.place","block.small_dripleaf.step","block.smithing_table.use","block.smoker.smoke","block.snow.break","block.snow.fall","block.snow.hit","block.snow.place","block.snow.step","block.soul_sand.break","block.soul_sand.fall","block.soul_sand.hit","block.soul_sand.place","block.soul_sand.step","block.soul_soil.break","block.soul_soil.fall","block.soul_soil.hit","block.soul_soil.place","block.soul_soil.step","block.spore_blossom.break","block.spore_blossom.fall","block.spore_blossom.hit","block.spore_blossom.place","block.spore_blossom.step","block.stem.break","block.stem.fall","block.stem.hit","block.stem.place","block.stem.step","block.stone.break","block.stone.fall","block.stone.hit","block.stone.place","block.stone.step","block.stone_button.click_off","block.stone_button.click_on","block.stone_pressure_plate.click_off","block.stone_pressure_plate.click_on","block.sweet_berry_bush.break","block.sweet_berry_bush.pick_berries","block.sweet_berry_bush.place","block.tripwire.attach","block.tripwire.click_off","block.tripwire.click_on","block.tripwire.detach","block.tuff.break","block.tuff.fall","block.tuff.hit","block.tuff.place","block.tuff.step","block.vine.break","block.vine.fall","block.vine.hit","block.vine.place","block.vine.step","block.wart_block.break","block.wart_block.fall","block.wart_block.hit","block.wart_block.place","block.wart_block.step","block.water.ambient","block.weeping_vines.break","block.weeping_vines.fall","block.weeping_vines.hit","block.weeping_vines.place","block.weeping_vines.step","block.wet_grass.break","block.wet_grass.fall","block.wet_grass.hit","block.wet_grass.place","block.wet_grass.step","block.wood.break","block.wood.fall","block.wood.hit","block.wood.place","block.wood.step","block.wooden_button.click_off","block.wooden_button.click_on","block.wooden_door.close","block.wooden_door.open","block.wooden_pressure_plate.click_off","block.wooden_pressure_plate.click_on","block.wooden_trapdoor.close","block.wooden_trapdoor.open","block.wool.break","block.wool.fall","block.wool.hit","block.wool.place","block.wool.step","enchant.thorns.hit","entity.armor_stand.break","entity.armor_stand.fall","entity.armor_stand.hit","entity.armor_stand.place","entity.arrow.hit","entity.arrow.hit_player","entity.arrow.shoot","entity.axolotl.attack","entity.axolotl.death","entity.axolotl.hurt","entity.axolotl.idle_air","entity.axolotl.idle_water","entity.axolotl.splash","entity.axolotl.swim","entity.bat.ambient","entity.bat.death","entity.bat.hurt","entity.bat.loop","entity.bat.takeoff","entity.bee.death","entity.bee.hurt","entity.bee.loop","entity.bee.loop_aggressive","entity.bee.pollinate","entity.bee.sting","entity.blaze.ambient","entity.blaze.burn","entity.blaze.death","entity.blaze.hurt","entity.blaze.shoot","entity.boat.paddle_land","entity.boat.paddle_water","entity.cat.ambient","entity.cat.beg_for_food","entity.cat.death","entity.cat.eat","entity.cat.hiss","entity.cat.hurt","entity.cat.purr","entity.cat.purreow","entity.cat.stray_ambient","entity.chicken.ambient","entity.chicken.death","entity.chicken.egg","entity.chicken.hurt","entity.chicken.step","entity.cod.ambient","entity.cod.death","entity.cod.flop","entity.cod.hurt","entity.cow.ambient","entity.cow.death","entity.cow.hurt","entity.cow.milk","entity.cow.step","entity.creeper.death","entity.creeper.hurt","entity.creeper.primed","entity.dolphin.ambient","entity.dolphin.ambient_water","entity.dolphin.attack","entity.dolphin.death","entity.dolphin.eat","entity.dolphin.hurt","entity.dolphin.jump","entity.dolphin.play","entity.dolphin.splash","entity.dolphin.swim","entity.donkey.ambient","entity.donkey.angry","entity.donkey.chest","entity.donkey.death","entity.donkey.eat","entity.donkey.hurt","entity.dragon_fireball.explode","entity.drowned.ambient","entity.drowned.ambient_water","entity.drowned.death","entity.drowned.death_water","entity.drowned.hurt","entity.drowned.hurt_water","entity.drowned.shoot","entity.drowned.step","entity.drowned.swim","entity.egg.throw","entity.elder_guardian.ambient","entity.elder_guardian.ambient_land","entity.elder_guardian.curse","entity.elder_guardian.death","entity.elder_guardian.death_land","entity.elder_guardian.flop","entity.elder_guardian.hurt","entity.elder_guardian.hurt_land","entity.ender_dragon.ambient","entity.ender_dragon.death","entity.ender_dragon.flap","entity.ender_dragon.growl","entity.ender_dragon.hurt","entity.ender_dragon.shoot","entity.ender_eye.death","entity.ender_eye.launch","entity.ender_pearl.throw","entity.enderman.ambient","entity.enderman.death","entity.enderman.hurt","entity.enderman.scream","entity.enderman.stare","entity.enderman.teleport","entity.endermite.ambient","entity.endermite.death","entity.endermite.hurt","entity.endermite.step","entity.evoker.ambient","entity.evoker.cast_spell","entity.evoker.celebrate","entity.evoker.death","entity.evoker.hurt","entity.evoker.prepare_attack","entity.evoker.prepare_summon","entity.evoker.prepare_wololo","entity.evoker_fangs.attack","entity.experience_bottle.throw","entity.experience_orb.pickup","entity.firework_rocket.blast","entity.firework_rocket.blast_far","entity.firework_rocket.large_blast","entity.firework_rocket.large_blast_far","entity.firework_rocket.launch","entity.firework_rocket.shoot","entity.firework_rocket.twinkle","entity.firework_rocket.twinkle_far","entity.fish.swim","entity.fishing_bobber.retrieve","entity.fishing_bobber.splash","entity.fishing_bobber.throw","entity.fox.aggro","entity.fox.ambient","entity.fox.bite","entity.fox.death","entity.fox.eat","entity.fox.hurt","entity.fox.screech","entity.fox.sleep","entity.fox.sniff","entity.fox.spit","entity.fox.teleport","entity.generic.big_fall","entity.generic.burn","entity.generic.death","entity.generic.drink","entity.generic.eat","entity.generic.explode","entity.generic.extinguish_fire","entity.generic.hurt","entity.generic.small_fall","entity.generic.splash","entity.generic.swim","entity.ghast.ambient","entity.ghast.death","entity.ghast.hurt","entity.ghast.scream","entity.ghast.shoot","entity.ghast.warn","entity.glow_item_frame.add_item","entity.glow_item_frame.break","entity.glow_item_frame.place","entity.glow_item_frame.remove_item","entity.glow_item_frame.rotate_item","entity.glow_squid.ambient","entity.glow_squid.death","entity.glow_squid.hurt","entity.glow_squid.squirt","entity.goat.ambient","entity.goat.death","entity.goat.eat","entity.goat.hurt","entity.goat.long_jump","entity.goat.milk","entity.goat.prepare_ram","entity.goat.ram_impact","entity.goat.screaming.ambient","entity.goat.screaming.death","entity.goat.screaming.eat","entity.goat.screaming.hurt","entity.goat.screaming.long_jump","entity.goat.screaming.milk","entity.goat.screaming.prepare_ram","entity.goat.screaming.ram_impact","entity.goat.step","entity.guardian.ambient","entity.guardian.ambient_land","entity.guardian.attack","entity.guardian.death","entity.guardian.death_land","entity.guardian.flop","entity.guardian.hurt","entity.guardian.hurt_land","entity.hoglin.ambient","entity.hoglin.angry","entity.hoglin.attack","entity.hoglin.converted_to_zombified","entity.hoglin.death","entity.hoglin.hurt","entity.hoglin.retreat","entity.hoglin.step","entity.horse.ambient","entity.horse.angry","entity.horse.armor","entity.horse.breathe","entity.horse.death","entity.horse.eat","entity.horse.gallop","entity.horse.hurt","entity.horse.jump","entity.horse.land","entity.horse.saddle","entity.horse.step","entity.horse.step_wood","entity.hostile.big_fall","entity.hostile.death","entity.hostile.hurt","entity.hostile.small_fall","entity.hostile.splash","entity.hostile.swim","entity.husk.ambient","entity.husk.converted_to_zombie","entity.husk.death","entity.husk.hurt","entity.husk.step","entity.illusioner.ambient","entity.illusioner.cast_spell","entity.illusioner.death","entity.illusioner.hurt","entity.illusioner.mirror_move","entity.illusioner.prepare_blindness","entity.illusioner.prepare_mirror","entity.iron_golem.attack","entity.iron_golem.damage","entity.iron_golem.death","entity.iron_golem.hurt","entity.iron_golem.repair","entity.iron_golem.step","entity.item.break","entity.item.pickup","entity.item_frame.add_item","entity.item_frame.break","entity.item_frame.place","entity.item_frame.remove_item","entity.item_frame.rotate_item","entity.leash_knot.break","entity.leash_knot.place","entity.lightning_bolt.impact","entity.lightning_bolt.thunder","entity.lingering_potion.throw","entity.llama.ambient","entity.llama.angry","entity.llama.chest","entity.llama.death","entity.llama.eat","entity.llama.hurt","entity.llama.spit","entity.llama.step","entity.llama.swag","entity.magma_cube.death","entity.magma_cube.death_small","entity.magma_cube.hurt","entity.magma_cube.hurt_small","entity.magma_cube.jump","entity.magma_cube.squish","entity.magma_cube.squish_small","entity.minecart.inside","entity.minecart.inside.underwater","entity.minecart.riding","entity.mooshroom.convert","entity.mooshroom.eat","entity.mooshroom.milk","entity.mooshroom.shear","entity.mooshroom.suspicious_milk","entity.mule.ambient","entity.mule.angry","entity.mule.chest","entity.mule.death","entity.mule.eat","entity.mule.hurt","entity.ocelot.ambient","entity.ocelot.death","entity.ocelot.hurt","entity.painting.break","entity.painting.place","entity.panda.aggressive_ambient","entity.panda.ambient","entity.panda.bite","entity.panda.cant_breed","entity.panda.death","entity.panda.eat","entity.panda.hurt","entity.panda.pre_sneeze","entity.panda.sneeze","entity.panda.step","entity.panda.worried_ambient","entity.parrot.ambient","entity.parrot.death","entity.parrot.eat","entity.parrot.fly","entity.parrot.hurt","entity.parrot.imitate.blaze","entity.parrot.imitate.creeper","entity.parrot.imitate.drowned","entity.parrot.imitate.elder_guardian","entity.parrot.imitate.ender_dragon","entity.parrot.imitate.endermite","entity.parrot.imitate.evoker","entity.parrot.imitate.ghast","entity.parrot.imitate.guardian","entity.parrot.imitate.hoglin","entity.parrot.imitate.husk","entity.parrot.imitate.illusioner","entity.parrot.imitate.magma_cube","entity.parrot.imitate.phantom","entity.parrot.imitate.piglin","entity.parrot.imitate.piglin_brute","entity.parrot.imitate.pillager","entity.parrot.imitate.ravager","entity.parrot.imitate.shulker","entity.parrot.imitate.silverfish","entity.parrot.imitate.skeleton","entity.parrot.imitate.slime","entity.parrot.imitate.spider","entity.parrot.imitate.stray","entity.parrot.imitate.vex","entity.parrot.imitate.vindicator","entity.parrot.imitate.witch","entity.parrot.imitate.wither","entity.parrot.imitate.wither_skeleton","entity.parrot.imitate.zoglin","entity.parrot.imitate.zombie","entity.parrot.imitate.zombie_villager","entity.parrot.step","entity.phantom.ambient","entity.phantom.bite","entity.phantom.death","entity.phantom.flap","entity.phantom.hurt","entity.phantom.swoop","entity.pig.ambient","entity.pig.death","entity.pig.hurt","entity.pig.saddle","entity.pig.step","entity.piglin.admiring_item","entity.piglin.ambient","entity.piglin.angry","entity.piglin.celebrate","entity.piglin.converted_to_zombified","entity.piglin.death","entity.piglin.hurt","entity.piglin.jealous","entity.piglin.retreat","entity.piglin.step","entity.piglin_brute.ambient","entity.piglin_brute.angry","entity.piglin_brute.converted_to_zombified","entity.piglin_brute.death","entity.piglin_brute.hurt","entity.piglin_brute.step","entity.pillager.ambient","entity.pillager.celebrate","entity.pillager.death","entity.pillager.hurt","entity.player.attack.crit","entity.player.attack.knockback","entity.player.attack.nodamage","entity.player.attack.strong","entity.player.attack.sweep","entity.player.attack.weak","entity.player.big_fall","entity.player.breath","entity.player.burp","entity.player.death","entity.player.hurt","entity.player.hurt_drown","entity.player.hurt_freeze","entity.player.hurt_on_fire","entity.player.hurt_sweet_berry_bush","entity.player.levelup","entity.player.small_fall","entity.player.splash","entity.player.splash.high_speed","entity.player.swim","entity.polar_bear.ambient","entity.polar_bear.ambient_baby","entity.polar_bear.death","entity.polar_bear.hurt","entity.polar_bear.step","entity.polar_bear.warning","entity.puffer_fish.ambient","entity.puffer_fish.blow_out","entity.puffer_fish.blow_up","entity.puffer_fish.death","entity.puffer_fish.flop","entity.puffer_fish.hurt","entity.puffer_fish.sting","entity.rabbit.ambient","entity.rabbit.attack","entity.rabbit.death","entity.rabbit.hurt","entity.rabbit.jump","entity.ravager.ambient","entity.ravager.attack","entity.ravager.celebrate","entity.ravager.death","entity.ravager.hurt","entity.ravager.roar","entity.ravager.step","entity.ravager.stunned","entity.salmon.ambient","entity.salmon.death","entity.salmon.flop","entity.salmon.hurt","entity.sheep.ambient","entity.sheep.death","entity.sheep.hurt","entity.sheep.shear","entity.sheep.step","entity.shulker.ambient","entity.shulker.close","entity.shulker.death","entity.shulker.hurt","entity.shulker.hurt_closed","entity.shulker.open","entity.shulker.shoot","entity.shulker.teleport","entity.shulker_bullet.hit","entity.shulker_bullet.hurt","entity.silverfish.ambient","entity.silverfish.death","entity.silverfish.hurt","entity.silverfish.step","entity.skeleton.ambient","entity.skeleton.converted_to_stray","entity.skeleton.death","entity.skeleton.hurt","entity.skeleton.shoot","entity.skeleton.step","entity.skeleton_horse.ambient","entity.skeleton_horse.ambient_water","entity.skeleton_horse.death","entity.skeleton_horse.gallop_water","entity.skeleton_horse.hurt","entity.skeleton_horse.jump_water","entity.skeleton_horse.step_water","entity.skeleton_horse.swim","entity.slime.attack","entity.slime.death","entity.slime.death_small","entity.slime.hurt","entity.slime.hurt_small","entity.slime.jump","entity.slime.jump_small","entity.slime.squish","entity.slime.squish_small","entity.snow_golem.ambient","entity.snow_golem.death","entity.snow_golem.hurt","entity.snow_golem.shear","entity.snow_golem.shoot","entity.snowball.throw","entity.spider.ambient","entity.spider.death","entity.spider.hurt","entity.spider.step","entity.splash_potion.break","entity.splash_potion.throw","entity.squid.ambient","entity.squid.death","entity.squid.hurt","entity.squid.squirt","entity.stray.ambient","entity.stray.death","entity.stray.hurt","entity.stray.step","entity.strider.ambient","entity.strider.death","entity.strider.eat","entity.strider.happy","entity.strider.hurt","entity.strider.retreat","entity.strider.saddle","entity.strider.step","entity.strider.step_lava","entity.tnt.primed","entity.tropical_fish.ambient","entity.tropical_fish.death","entity.tropical_fish.flop","entity.tropical_fish.hurt","entity.turtle.ambient_land","entity.turtle.death","entity.turtle.death_baby","entity.turtle.egg_break","entity.turtle.egg_crack","entity.turtle.egg_hatch","entity.turtle.hurt","entity.turtle.hurt_baby","entity.turtle.lay_egg","entity.turtle.shamble","entity.turtle.shamble_baby","entity.turtle.swim","entity.vex.ambient","entity.vex.charge","entity.vex.death","entity.vex.hurt","entity.villager.ambient","entity.villager.celebrate","entity.villager.death","entity.villager.hurt","entity.villager.no","entity.villager.trade","entity.villager.work_armorer","entity.villager.work_butcher","entity.villager.work_cartographer","entity.villager.work_cleric","entity.villager.work_farmer","entity.villager.work_fisherman","entity.villager.work_fletcher","entity.villager.work_leatherworker","entity.villager.work_librarian","entity.villager.work_mason","entity.villager.work_shepherd","entity.villager.work_toolsmith","entity.villager.work_weaponsmith","entity.villager.yes","entity.vindicator.ambient","entity.vindicator.celebrate","entity.vindicator.death","entity.vindicator.hurt","entity.wandering_trader.ambient","entity.wandering_trader.death","entity.wandering_trader.disappeared","entity.wandering_trader.drink_milk","entity.wandering_trader.drink_potion","entity.wandering_trader.hurt","entity.wandering_trader.no","entity.wandering_trader.reappeared","entity.wandering_trader.trade","entity.wandering_trader.yes","entity.witch.ambient","entity.witch.celebrate","entity.witch.death","entity.witch.drink","entity.witch.hurt","entity.witch.throw","entity.wither.ambient","entity.wither.break_block","entity.wither.death","entity.wither.hurt","entity.wither.shoot","entity.wither.spawn","entity.wither_skeleton.ambient","entity.wither_skeleton.death","entity.wither_skeleton.hurt","entity.wither_skeleton.step","entity.wolf.ambient","entity.wolf.death","entity.wolf.growl","entity.wolf.howl","entity.wolf.hurt","entity.wolf.pant","entity.wolf.shake","entity.wolf.step","entity.wolf.whine","entity.zoglin.ambient","entity.zoglin.angry","entity.zoglin.attack","entity.zoglin.death","entity.zoglin.hurt","entity.zoglin.step","entity.zombie.ambient","entity.zombie.attack_iron_door","entity.zombie.attack_wooden_door","entity.zombie.break_wooden_door","entity.zombie.converted_to_drowned","entity.zombie.death","entity.zombie.destroy_egg","entity.zombie.hurt","entity.zombie.infect","entity.zombie.step","entity.zombie_horse.ambient","entity.zombie_horse.death","entity.zombie_horse.hurt","entity.zombie_villager.ambient","entity.zombie_villager.converted","entity.zombie_villager.cure","entity.zombie_villager.death","entity.zombie_villager.hurt","entity.zombie_villager.step","entity.zombified_piglin.ambient","entity.zombified_piglin.angry","entity.zombified_piglin.death","entity.zombified_piglin.hurt","event.raid.horn","item.armor.equip_chain","item.armor.equip_diamond","item.armor.equip_elytra","item.armor.equip_generic","item.armor.equip_gold","item.armor.equip_iron","item.armor.equip_leather","item.armor.equip_netherite","item.armor.equip_turtle","item.axe.scrape","item.axe.strip","item.axe.wax_off","item.bone_meal.use","item.book.page_turn","item.book.put","item.bottle.empty","item.bottle.fill","item.bottle.fill_dragonbreath","item.bucket.empty","item.bucket.empty_axolotl","item.bucket.empty_fish","item.bucket.empty_lava","item.bucket.empty_powder_snow","item.bucket.fill","item.bucket.fill_axolotl","item.bucket.fill_fish","item.bucket.fill_lava","item.bucket.fill_powder_snow","item.chorus_fruit.teleport","item.crop.plant","item.crossbow.hit","item.crossbow.loading_end","item.crossbow.loading_middle","item.crossbow.loading_start","item.crossbow.quick_charge_1","item.crossbow.quick_charge_2","item.crossbow.quick_charge_3","item.crossbow.shoot","item.dye.use","item.elytra.flying","item.firecharge.use","item.flintandsteel.use","item.glow_ink_sac.use","item.hoe.till","item.honey_bottle.drink","item.honeycomb.wax_on","item.ink_sac.use","item.lodestone_compass.lock","item.nether_wart.plant","item.shield.block","item.shield.break","item.shovel.flatten","item.spyglass.stop_using","item.spyglass.use","item.totem.use","item.trident.hit","item.trident.hit_ground","item.trident.return","item.trident.riptide_1","item.trident.riptide_2","item.trident.riptide_3","item.trident.throw","item.trident.thunder","music.creative","music.credits","music.dragon","music.end","music.game","music.menu","music.nether.basalt_deltas","music.nether.crimson_forest","music.nether.nether_wastes","music.nether.soul_sand_valley","music.nether.warped_forest","music.under_water","music_disc.11","music_disc.13","music_disc.blocks","music_disc.cat","music_disc.chirp","music_disc.far","music_disc.mall","music_disc.mellohi","music_disc.pigstep","music_disc.stal","music_disc.strad","music_disc.wait","music_disc.ward","particle.soul_escape","ui.button.click","ui.cartography_table.take_result","ui.loom.select_pattern","ui.loom.take_result","ui.stonecutter.select_recipe","ui.stonecutter.take_result","ui.toast.challenge_complete","ui.toast.in","ui.toast.out","weather.rain","weather.rain.above"],nsweName=["north","south","east","west"],nsewudName=["north","south","east","west","up","down"],nsewdName=["north","south","east","west","down"],nsewuName=["north","south","east","west","up"],signColors=["unset","white","orange","magenta","light_blue","yellow","lime","pink","gray","light_gray","cyan","purple","blue","brown","green","red","black"],doorBS={facing:nsweName,half:["upper","lower"],hinge:["left","right"],open:[!1,!0],powered:[!1,!0]},buttonsBS={facing:nsweName,face:["ceiling","wall","floor"]},leavesBS={distance:[1,2,3,4,5,6,7],persistent:[!1,!0]},stairBlockState={facing:nsweName,half:["top","bottom"],shape:["straight","inner_left","inner_right","outer_left","outer_right"],waterlogged:[!1,!0]},trapdoors={powered:[!1,!0],facing:nsweName,half:["top","bottom"],open:[!1,!0]},slabTypes={type:["top","bottom","double"],waterlogged:[!1,!0]},bedOptions={occupied:[!1,!0],facing:nsweName,part:["head","foot"]},woodTypes1=[[0,"Oak"],[1,"Spruce"],[2,"Birch"],[3,"Jungle"],[4,"Acacia"],[5,"Dark Oak"]],colours1=[[0,"White"],[1,"Orange"],[2,"Magenta"],[3,"Light Blue"],[4,"Yellow"],[5,"Lime"],[6,"Pink"],[7,"Gray"],[8,"Light Gray"],[9,"Cyan"],[10,"Purple"],[11,"Blue"],[12,"Brown"],[13,"Green"],[14,"Red"],[15,"Black"]],fenceBS={north:[!1,!0],south:[!1,!0],east:[!1,!0],west:[!1,!0],waterlogged:[!0,!1]},wallBS={north:["low","none","tall"],south:["low","none","tall"],east:["low","none","tall"],west:["low","none","tall"],up:[!1,!0],waterlogged:[!0,!1]},fenceGateBS={facing:nsweName,in_wall:[!1,!0],open:[!1,!0],powered:[!1,!0],waterlogged:[!0,!1]},candles={candles:[1,2,3,4],lit:[!1,!0],waterlogged:[!1,!0]},mushroom=[[0,"Pores on all sides"],[1,"Cap texture on top, west and north"],[2,"Cap texture on top and north"],[3,"Cap texture on top, north and east"],[4,"Cap texture on top and west"],[5,"Cap texture on top"],[6,"Cap texture on top and east"],[7,"Cap texture on top, south and west"],[8,"Cap texture on top and south"],[9,"Cap texture on top, east and south"],[10,"Stem texture on all four sides, pores on top and bottom"],[14,"Cap texture on all six sides"],[15,"Stem texture on all six sides"]],trapdoor=[[0,"Trapdoor on the west side of a block (bottom of block)"],[1,"Trapdoor on the south side of a block (bottom of block)"],[2,"Trapdoor on the east side of a block (bottom of block)"],[3,"Trapdoor on the north side of a block (bottom of block)"],[4,"Open Trapdoor on the west side of a block (bottom of block)"],[5,"Open Trapdoor on the south side of a block (bottom of block)"],[6,"Open Trapdoor on the east side of a block (bottom of block)"],[7,"Open Trapdoor on the north side of a block (bottom of block)"],[8,"Trapdoor on the west side of a block (top of block)"],[9,"Trapdoor on the south side of a block (top of block)"],[10,"Trapdoor on the east side of a block (top of block)"],[11,"Trapdoor on the north side of a block (top of block)"],[12,"Open Trapdoor on the west side of a block (top of block)"],[13,"Open Trapdoor on the south side of a block (top of block)"],[14,"Open Trapdoor on the east side of a block (top of block)"],[15,"Open Trapdoor on the north side of a block (top of block)"]],repeater=[[0,"Facing north, 1 tick delay"],[1,"Facing east, 1 tick delay"],[2,"Facing south, 1 tick delay"],[3,"Facing west, 1 tick delay"],[4,"Facing north, 2 tick delay"],[5,"Facing east, 2 tick delay"],[6,"Facing south, 2 tick delay"],[7,"Facing west, 2 tick delay"],[8,"Facing north, 3 tick delay"],[9,"Facing east, 3 tick delay"],[10,"Facing south, 3 tick delay"],[11,"Facing west, 3 tick delay"],[12,"Facing north, 4 tick delay"],[13,"Facing east, 4 tick delay"],[14,"Facing south, 4 tick delay"],[15,"Facing west, 4 tick delay"]],comparator=[[0,"Facing north"],[1,"Facing east"],[2,"Facing south"],[3,"Facing west"],[4,"Facing north, subtraction mode"],[5,"Facing east, subtraction mode"],[6,"Facing south, subtraction mode"],[7,"Facing west, subtraction mode"],[8,"Facing north, powered"],[9,"Facing east, powered"],[10,"Facing south, powered"],[11,"Facing west, powered"],[12,"Facing north, subtraction mode, powered"],[13,"Facing east, subtraction mode, powered"],[14,"Facing south, subtraction mode, powered"],[15,"Facing west, subtraction mode, powered"]],buttons=[[0,"Button on block bottom facing down"],[1,"Button on block side facing east"],[2,"Button on block side facing west"],[3,"Button on block side facing south"],[4,"Button on block side facing north"],[5,"Button on block top facing up"],[8,"Button on block bottom facing down (active)"],[9,"Button on block side facing east (active)"],[10,"Button on block side facing west (active)"],[11,"Button on block side facing south (active)"],[12,"Button on block side facing north (active)"],[13,"Button on block top facing up (active)"]],torch=[[1,"Facing east (attached to a block to its west)"],[2,"Facing west (attached to a block to its east)"],[3,"Facing south (attached to a block to its north)"],[4,"Facing north (attached to a block to its south)"],[5,"Facing up (attached to a block beneath it)"]],pressure=[[0,"Inactive"],[1,"Active"]],dunswe=[[0,"Down"],[1,"Up"],[2,"north"],[3,"south"],[4,"west"],[5,"east"]],nswe=[[2,"north"],[3,"south"],[4,"west"],[5,"east"]],stairs=[[0,"East"],[1,"West"],[2,"South"],[3,"North"],[4,"East Upside-down"],[5,"West Upside-down"],[6,"South Upside-down"],[7,"North Upside-down"]],rails=[[0,"flat track going north-south"],[1,"flat track going west-east"],[2,"sloped track ascending to the east"],[3,"sloped track ascending to the west"],[4,"sloped track ascending to the north"],[5,"sloped track ascending to the south"]],cropAge0to7=[[0,0],[1,1],[2,2],[3,3],[4,4],[5,5],[6,6],[7,7]],beetsAndWarts=[[0,0],[1,1],[2,2],[3,3]],standingSignBanner=[[0,"south"],[1,"south-southwest"],[2,"southwest"],[3,"west-southwest"],[4,"west"],[5,"west-northwest"],[6,"northwest"],[7,"north-northwest"],[8,"north"],[9,"north-northeast"],[10,"northeast"],[11,"east-northeast"],[12,"east"],[13,"east-southeast"],[14,"southeast"],[15,"south-southeast"]],headRotate=[[0,"north"],[1,"north-northeast"],[2,"northeast"],[3,"east-northeast"],[4,"east"],[5,"east-southeast"],[6,"southeast"],[7,"south-southeast"],[8,"south"],[9,"south-southwest"],[10,"southwest"],[11,"west-southwest"],[12,"west"],[13,"west-northwest"],[14,"northwest"],[15,"north-northwest"]],commandBlockDirection=[[0,"Facing down"],[1,"Facing up"],[2,"Facing north"],[3,"Facing south"],[4,"Facing west"],[5,"Facing east"],[8,"Facing down, Conditional"],[9,"Facing up, Conditional"],[10,"Facing north, Conditional"],[11,"Facing south, Conditional"],[12,"Facing west, Conditional"],[13,"Facing east, Conditional"]],blockStates={standing_banner:{rotation:standingSignBanner},anvil:{facing:nsweName},chipped_anvil:{facing:nsweName},damaged_anvil:{facing:nsweName},stonecutter:{facing:nsweName},carved_pumpkin:{facing:nsweName},jack_o_lantern:{facing:nsweName},white_banner:{rotation:standingSignBanner},orange_banner:{rotation:standingSignBanner},magenta_banner:{rotation:standingSignBanner},light_blue_banner:{rotation:standingSignBanner},yellow_banner:{rotation:standingSignBanner},lime_banner:{rotation:standingSignBanner},pink_banner:{rotation:standingSignBanner},gray_banner:{rotation:standingSignBanner},light_gray_banner:{rotation:standingSignBanner},cyan_banner:{rotation:standingSignBanner},purple_banner:{rotation:standingSignBanner},blue_banner:{rotation:standingSignBanner},brown_banner:{rotation:standingSignBanner},green_banner:{rotation:standingSignBanner},red_banner:{rotation:standingSignBanner},black_banner:{rotation:standingSignBanner},white_wall_banner:{facing:nsweName},orange_wall_banner:{facing:nsweName},magenta_wall_banner:{facing:nsweName},light_blue_wall_banner:{facing:nsweName},yellow_wall_banner:{facing:nsweName},lime_wall_banner:{facing:nsweName},pink_wall_banner:{facing:nsweName},gray_wall_banner:{facing:nsweName},light_gray_wall_banner:{facing:nsweName},cyan_wall_banner:{facing:nsweName},purple_wall_banner:{facing:nsweName},blue_wall_banner:{facing:nsweName},brown_wall_banner:{facing:nsweName},green_wall_banner:{facing:nsweName},red_wall_banner:{facing:nsweName},black_wall_banner:{facing:nsweName},loom:{facing:nsweName},note_block:{powered:[!1,!0],instrument:["banjo","basedrum","bass","bell","bit","chime","cow_bell","didgeridoo","flute","guitar","harp","hat","iron_xylophone","pling","snare","xylophone"],note:[[0,"octave 1 F/G"],[1,"octave 1 G"],[2,"octave 1 G/A"],[3,"octave 1 A"],[4,"octave 1 A/B"],[5,"octave 1 B"],[6,"octave 1 C"],[7,"octave 1 C/D"],[8,"octave 1 D"],[9,"octave 1 D/E"],[10,"octave 1 E"],[11,"octave 1 F"],[12,"octave 2 F/G"],[13,"octave 2 G"],[14,"octave 2 G/A"],[15,"octave 2 A"],[16,"octave 2 A#/B"],[17,"octave 2 B"],[18,"octave 2 C"],[19,"octave 2 C/D"],[20,"octave 2 D"],[21,"octave 2 D/E"],[22,"octave 2 E"],[23,"octave 2 F"],[24,"octave 2 F/G"]]},redstone_ore:{lit:[!1,!0]},white_bed:bedOptions,orange_bed:bedOptions,magenta_bed:bedOptions,light_blue_bed:bedOptions,yellow_bed:bedOptions,lime_bed:bedOptions,pink_bed:bedOptions,gray_bed:bedOptions,light_gray_bed:bedOptions,cyan_bed:bedOptions,purple_bed:bedOptions,blue_bed:bedOptions,brown_bed:bedOptions,green_bed:bedOptions,red_bed:bedOptions,black_bed:bedOptions,tube_coral_wall_fan:{facing:nsweName},brain_coral_wall_fan:{facing:nsweName},bubble_coral_wall_fan:{facing:nsweName},fire_coral_wall_fan:{facing:nsweName},horn_coral_wall_fan:{facing:nsweName},dead_tube_coral_wall_fan:{facing:nsweName},dead_brain_coral_wall_fan:{facing:nsweName},dead_bubble_coral_wall_fan:{facing:nsweName},dead_fire_coral_wall_fan:{facing:nsweName},dead_horn_coral_wall_fan:{facing:nsweName},sea_pickle:{pickles:[1,2,3,4],waterlogged:[!1,!0]},conduit:{waterlogged:[!1,!0]},cobblestone_wall:wallBS,mossy_cobblestone_wall:wallBS,brick_wall:wallBS,prismarine_wall:wallBS,red_sandstone_wall:wallBS,mossy_stone_brick_wall:wallBS,stone_brick_wall:wallBS,nether_brick_wall:wallBS,andesite_wall:wallBS,diorite_wall:wallBS,granite_wall:wallBS,end_stone_brick_wall:wallBS,sandstone_wall:wallBS,red_nether_brick_wall:wallBS,beetroots:{age:[0,1,2,3]},bone_block:{axis:["x","y","z"]},brewing_stand:{has_bottle_0:[!1,!0],has_bottle_1:[!1,!0],has_bottle_2:[!1,!0]},stone_button:{facing:nsweName,face:["ceiling","wall","floor"]},redstone_lamp:{lit:[!1,!0]},oak_button:buttonsBS,acacia_button:buttonsBS,jungle_button:buttonsBS,birch_button:buttonsBS,dark_oak_button:buttonsBS,spruce_button:buttonsBS,cactus:{age:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]},cake:{bites:[0,1,2,3,4,5]},carrots:{age:[0,1,2,3,4,5,6,7]},chest:{facing:nsweName,type:["single","left","right"],waterlogged:[!1,!0]},trapped_chest:{facing:nsweName,type:["single","left","right"],waterlogged:[!1,!0]},ender_chest:{facing:nsweName,waterlogged:[!1,!0]},chorus_flower:{age:[0,1,2,3,4,5]},chorus_plant:{north:[!1,!0],south:[!1,!0],east:[!1,!0],west:[!1,!0],up:[!1,!0],down:[!1,!0]},cocoa:{age:[0,1,2],facing:nsweName},tnt:{unstable:[!1,!0]},command_block:{conditional:[!1,!0],facing:nsewudName},chain_command_block:{conditional:[!1,!0],facing:nsewudName},repeating_command_block:{conditional:[!1,!0],facing:nsewudName},daylight_detector:{inverted:[!1,!0]},dispenser:{facing:nsewudName,triggered:[!1,!0]},iron_door:doorBS,oak_door:doorBS,spruce_door:doorBS,birch_door:doorBS,jungle_door:doorBS,acacia_door:doorBS,dark_oak_door:doorBS,dropper:{facing:nsewudName,triggered:[!1,!0]},end_portal_frame:{facing:nsweName,eye:[!1,!0]},end_rod:{facing:nsewudName},farmland:{moisture:[0,1,2,3,4,5,6,7]},oak_fence:fenceBS,spruce_fence:fenceBS,birch_fence:fenceBS,jungle_fence:fenceBS,acacia_fence:fenceBS,dark_oak_fence:fenceBS,nether_brick_fence:fenceBS,oak_fence_gate:fenceGateBS,spruce_fence_gate:fenceGateBS,birch_fence_gate:fenceGateBS,jungle_fence_gate:fenceGateBS,acacia_fence_gate:fenceGateBS,dark_oak_fence_gate:fenceGateBS,fire:{age:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],up:[!1,!0],north:[!1,!0],south:[!1,!0],east:[!1,!0],west:[!1,!0]},frosted_ice:{age:[0,1,2,3]},furnace:{facing:nsweName,lit:[!1,!0]},glass_pane:fenceBS,white_stained_glass_pane:fenceBS,orange_stained_glass_pane:fenceBS,magenta_stained_glass_pane:fenceBS,light_blue_stained_glass_pane:fenceBS,yellow_stained_glass_pane:fenceBS,lime_stained_glass_pane:fenceBS,pink_stained_glass_pane:fenceBS,gray_stained_glass_pane:fenceBS,light_gray_stained_glass_pane:fenceBS,cyan_stained_glass_pane:fenceBS,purple_stained_glass_pane:fenceBS,blue_stained_glass_pane:fenceBS,brown_stained_glass_pane:fenceBS,green_stained_glass_pane:fenceBS,red_stained_glass_pane:fenceBS,black_stained_glass_pane:fenceBS,white_glazed_terracotta:{facing:nsweName},orange_glazed_terracotta:{facing:nsweName},magenta_glazed_terracotta:{facing:nsweName},light_blue_glazed_terracotta:{facing:nsweName},yellow_glazed_terracotta:{facing:nsweName},lime_glazed_terracotta:{facing:nsweName},pink_glazed_terracotta:{facing:nsweName},gray_glazed_terracotta:{facing:nsweName},light_gray_glazed_terracotta:{facing:nsweName},cyan_glazed_terracotta:{facing:nsweName},purple_terracotta:{facing:nsweName},blue_glazed_terracotta:{facing:nsweName},brown_glazed_terracotta:{facing:nsweName},green_glazed_terracotta:{facing:nsweName},red_glazed_terracotta:{facing:nsweName},black_glazed_terracotta:{facing:nsweName},podzol:{snowy:[!1,!0]},mycelium:{snowy:[!1,!0]},grass_block:{snowy:[!1,!0]},hay_block:{axis:["x","y","z"]},nether_portal:{axis:["x","z"]},hopper:{enabled:[!1,!0],facing:nsewdName},iron_bars:fenceBS,lit_pumpkin:{facing:nsweName},jukebox:{has_record:[!1,!0]},ladder:{facing:nsweName,waterlogged:[!1,!0]},lava:{level:[[0,"0 Source"],[1,"1 Height "],[2,"2 Height"],[3,"3 Height"],[4,"4 Height"],[5,"5 Height"],[6,"6 Height"],[7,"7 Height"],[8,"8 Falling Lava"],[9,"9 Falling Lava"],[10,"10 Falling Lava"],[11,"11 Falling Lava"],[12,"12 Falling Lava"],[13,"13 Falling Lava"],[14,"14 Falling Lava"],[15,"15 Falling Lava"]]},lever:{facing:nsweName,face:["ceiling","wall","floor"]},brown_mushroom_block:{up:[!1,!0],down:[!1,!0],north:[!1,!0],south:[!1,!0],east:[!1,!0],west:[!1,!0]},red_mushroom_block:{up:[!1,!0],down:[!1,!0],north:[!1,!0],south:[!1,!0],east:[!1,!0],west:[!1,!0]},mushroom_stem:{up:[!1,!0],down:[!1,!0],north:[!1,!0],south:[!1,!0],east:[!1,!0],west:[!1,!0]},nether_wart:{age:[0,1,2,3]},sticky_piston:{extended:[!1,!0],facing:nsewudName},piston:{extended:[!1,!0],facing:nsewudName},piston_head:{facing:nsewudName,short:[!1,!0],type:["normal","sticky"]},piston_extension:{extended:[!1,!0],facing:nsewudName},observer:{facing:nsewudName,powered:[!1,!0]},potatoes:{age:[0,1,2,3,4,5,6,7]},stone_pressure_plate:{powered:[!1,!0]},wooden_pressure_plate:{powered:[!1,!0]},light_weighted_pressure_plate:{power:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]},heavy_weighted_pressure_plate:{power:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]},pumpkin_stem:{age:[0,1,2,3,4,5,6,7]},melon_stem:{age:[0,1,2,3,4,5,6,7]},attached_pumpkin_stem:{facing:nsweName},attached_melon_stem:{facing:nsweName},sugar_cane:{age:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]},purpur_pillar:{axis:["x","y","z"]},quartz_pillar:{axis:["x","y","z"]},rail:{shape:["north_south","east_west","north_east","north_west","south_east","south_west","ascending_north","ascending_south","ascending_east","ascending_west"],waterlogged:[!1,!0]},activator_rail:{powered:[!1,!0],shape:["north_south","east_west","ascending_north","ascending_south","ascending_east","ascending_west"],waterlogged:[!1,!0]},golden_rail:{powered:[!1,!0],shape:["north_south","east_west","ascending_north","ascending_south","ascending_east","ascending_west"],waterlogged:[!1,!0]},detector_rail:{powered:[!1,!0],shape:["north_south","east_west","ascending_north","ascending_south","ascending_east","ascending_west"],waterlogged:[!1,!0]},powered_rail:{powered:[!1,!0],shape:["north_south","east_west","ascending_north","ascending_south","ascending_east","ascending_west"],waterlogged:[!1,!0]},redstone_wire:{north:["none","side","up"],south:["none","side","up"],east:["none","side","up"],west:["none","side","up"],power:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]},repeater:{delay:[1,2,3,4],facing:nsweName,locked:[!1,!0],powered:[!1,!0]},comparator:{facing:nsweName,mode:["compare","subtract"],powered:[!1,!0]},redstone_torch:{lit:[!1,!0]},wall_torch:{facing:nsweName},redstone_wall_torch:{facing:nsweName,lit:[!1,!0]},oak_sapling:{stage:[0,1]},spruce_sapling:{stage:[0,1]},birch_sapling:{stage:[0,1]},jungle_sapling:{stage:[0,1]},acacia_sapling:{stage:[0,1]},dark_oak_sapling:{stage:[0,1]},white_shulker_box:{facing:nsewudName},shulker_box:{facing:nsewudName},orange_shulker_box:{facing:nsewudName},magenta_shulker_box:{facing:nsewudName},light_blue_shulker_box:{facing:nsewudName},yellow_shulker_box:{facing:nsewudName},lime_shulker_box:{facing:nsewudName},pink_shulker_box:{facing:nsewudName},gray_shulker_box:{facing:nsewudName},light_gray_shulker_box:{facing:nsewudName},cyan_shulker_box:{facing:nsewudName},purple_shulker_box:{facing:nsewudName},blue_shulker_box:{facing:nsewudName},brown_shulker_box:{facing:nsewudName},green_shulker_box:{facing:nsewudName},red_shulker_box:{facing:nsewudName},black_shulker_box:{facing:nsewudName},oak_wall_sign:{facing:nsweName,waterlogged:[!1,!0]},spruce_wall_sign:{facing:nsweName,waterlogged:[!1,!0]},birch_wall_sign:{facing:nsweName,waterlogged:[!1,!0]},jungle_wall_sign:{facing:nsweName,waterlogged:[!1,!0]},acacia_wall_sign:{facing:nsweName,waterlogged:[!1,!0]},dark_oak_wall_sign:{facing:nsweName,waterlogged:[!1,!0]},oak_sign:{rotation:standingSignBanner,waterlogged:[!1,!0]},spruce_sign:{rotation:standingSignBanner,waterlogged:[!1,!0]},birch_sign:{rotation:standingSignBanner,waterlogged:[!1,!0]},jungle_sign:{rotation:standingSignBanner,waterlogged:[!1,!0]},acacia_sign:{rotation:standingSignBanner,waterlogged:[!1,!0]},dark_oak_sign:{rotation:standingSignBanner,waterlogged:[!1,!0]},skull:{facing:nsewudName,nodrop:[!1,!0]},skeleton_wall_skull:{facing:nsweName},wither_skeleton_wall_skull:{facing:nsweName},zombie_wall_head:{facing:nsweName},player_wall_head:{facing:nsweName},creeper_wall_head:{facing:nsweName},dragon_wall_head:{facing:nsweName},skeleton_skull:{rotation:headRotate},wither_skeleton_skull:{rotation:headRotate},zombie_head:{rotation:headRotate},player_head:{rotation:headRotate},creeper_head:{rotation:headRotate},dragon_head:{rotation:headRotate},purpur_slab:slabTypes,oak_slab:slabTypes,spruce_slab:slabTypes,birch_slab:slabTypes,jungle_slab:slabTypes,acacia_slab:slabTypes,dark_oak_slab:slabTypes,stone_slab:slabTypes,sandstone_slab:slabTypes,petrified_oak_slab:slabTypes,cobblestone_slab:slabTypes,brick_slab:slabTypes,stone_brick_slab:slabTypes,nether_brick_slab:slabTypes,quartz_slab:slabTypes,red_sandstone_slab:slabTypes,smooth_stone_slab:slabTypes,smooth_red_sandstone_slab:slabTypes,smooth_sandstone_slab:slabTypes,smooth_quartz_slab:slabTypes,granite_slab:slabTypes,polished_granite_slab:slabTypes,diorite_slab:slabTypes,polished_diorite_slab:slabTypes,andesite_slab:slabTypes,polished_andesite_slab:slabTypes,mossy_stone_brick_slab:slabTypes,end_stone_brick_slab:slabTypes,red_nether_brick_slab:slabTypes,mossy_cobblestone_slab:slabTypes,snow_layer:{layers:[1,2,3,4,5,6,7,8]},acacia_stairs:stairBlockState,stone_stairs:stairBlockState,birch_stairs:stairBlockState,brick_stairs:stairBlockState,dark_oak_stairs:stairBlockState,jungle_stairs:stairBlockState,nether_brick_stairs:stairBlockState,oak_stairs:stairBlockState,purpur_stairs:stairBlockState,quartz_stairs:stairBlockState,red_sandstone_stairs:stairBlockState,sandstone_stairs:stairBlockState,spruce_stairs:stairBlockState,stone_brick_stairs:stairBlockState,granite_stairs:stairBlockState,polished_granite_stairs:stairBlockState,diorite_stairs:stairBlockState,polished_diorite_stairs:stairBlockState,andesite_stairs:stairBlockState,polished_andesite_stairs:stairBlockState,smooth_red_sandstone_stairs:stairBlockState,smooth_quartz_stairs:stairBlockState,mossy_stone_brick_stairs:stairBlockState,end_stone_brick_stairs:stairBlockState,red_nether_brick_stairs:stairBlockState,smooth_sandstone_stairs:stairBlockState,mossy_cobblestone_stairs:stairBlockState,stonebrick:{variant:["stonebrick","mossy_stonebrick","cracked_stonebrick","chiseled_stonebrick"]},structure_block:{mode:["save","load","corner","data"]},iron_trapdoor:trapdoors,oak_trapdoor:trapdoors,acacia_trapdoor:trapdoors,spruce_trapdoor:trapdoors,jungle_trapdoor:trapdoors,birch_trapdoor:trapdoors,dark_oak_trapdoor:trapdoors,tripwire:{attached:[!1,!0],disarmed:[!1,!0],north:[!1,!0],south:[!1,!0],east:[!1,!0],west:[!1,!0],powered:[!1,!0]},tripwire_hook:{attached:[!1,!0],facing:nsweName,powered:[!1,!0]},vine:{north:[!1,!0],south:[!1,!0],east:[!1,!0],west:[!1,!0],up:[!1,!0]},water:{level:[[0,"0 Source"],[1,"1 Height "],[2,"2 Height"],[3,"3 Height"],[4,"4 Height"],[5,"5 Height"],[6,"6 Height"],[7,"7 Height"],[8,"8 Falling Water"],[9,"9 Falling Water"],[10,"10 Falling Water"],[11,"11 Falling Water"],[12,"12 Falling Water"],[13,"13 Falling Water"],[14,"14 Falling Water"],[15,"15 Falling Water"]]},wheat:{age:[0,1,2,3,4,5,6,7]},oak_log:{axis:["x","y","z"]},acacia_log:{axis:["x","y","z"]},spruce_log:{axis:["x","y","z"]},birch_log:{axis:["x","y","z"]},jungle_log:{axis:["x","y","z"]},dark_oak_log:{axis:["x","y","z"]},stripped_oak_log:{axis:["x","y","z"]},stripped_acacia_log:{axis:["x","y","z"]},stripped_spruce_log:{axis:["x","y","z"]},stripped_birch_log:{axis:["x","y","z"]},stripped_jungle_log:{axis:["x","y","z"]},stripped_dark_oak_log:{axis:["x","y","z"]},stripped_oak_wood:{axis:["x","y","z"]},stripped_acacia_wood:{axis:["x","y","z"]},stripped_spruce_wood:{axis:["x","y","z"]},stripped_birch_wood:{axis:["x","y","z"]},stripped_jungle_wood:{axis:["x","y","z"]},stripped_dark_oak_wood:{axis:["x","y","z"]},oak_wood:{axis:["x","y","z"]},acacia_wood:{axis:["x","y","z"]},spruce_wood:{axis:["x","y","z"]},birch_wood:{axis:["x","y","z"]},jungle_wood:{axis:["x","y","z"]},dark_oak_wood:{axis:["x","y","z"]},barrel:{facing:nsewudName,open:[!1,!0]},bell:{facing:nsweName,attachment:["single_wall","floor","ceiling"]},blast_furnace:{facing:nsweName,lit:[!1,!0]},smoker:{facing:nsweName,lit:[!1,!0]},lectern:{facing:nsweName,has_book:[!1,!0],powered:[!1,!0]},grindstone:{facing:nsweName,face:["floor","ceiling","wall"]},jigsaw:{orientation:["down_east","down_north","down_south","down_west","up_east","up_north","up_south","up_west","east_up","north_up","south_up","west_up"]},sweet_berry_bush:{age:[0,1,2,3]},campfire:{lit:[!1,!0],signal_fire:[!1,!0],waterlogged:[!1,!0]},composter:{level:[0,1,2,3,4,5,6,7,8]},cut_red_sandstone_slab:slabTypes,cut_sandstone_slab:slabTypes,bee_nest:{facing:nsweName,honey_level:[0,1,2,3,4,5]},beehive:{facing:nsweName,honey_level:[0,1,2,3,4,5]},basalt:{axis:["x","y","z"]},soul_lantern:{hanging:[!1,!0],waterlogged:[!1,!0]},lantern:{hanging:[!1,!0],waterlogged:[!1,!0]},soul_wall_torch:{facing:nsweName},warped_button:{facing:nsweName,face:["ceiling","wall","floor"]},warped_door:doorBS,warped_fence:fenceBS,warped_fence_gate:fenceGateBS,warped_pressure_plate:{powered:[!1,!0]},warped_wall_sign:{facing:nsweName,waterlogged:[!1,!0]},warped_sign:{rotation:standingSignBanner,waterlogged:[!1,!0]},warped_slab:slabTypes,warped_stairs:stairBlockState,warped_stem:{axis:["x","y","z"]},warped_trapdoor:trapdoors,crimson_button:{facing:nsweName,face:["ceiling","wall","floor"]},crimson_door:doorBS,crimson_fence:fenceBS,crimson_fence_gate:fenceGateBS,crimson_pressure_plate:{powered:[!1,!0]},crimson_wall_sign:{facing:nsweName,waterlogged:[!1,!0]},crimson_sign:{rotation:standingSignBanner,waterlogged:[!1,!0]},crimson_slab:slabTypes,crimson_stairs:stairBlockState,crimson_stem:{axis:["x","y","z"]},crimson_trapdoor:trapdoors,stripped_crimson_stem:{axis:["x","y","z"]},stripped_warped_stem:{axis:["x","y","z"]},target:{power:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]},stripped_warped_hyphae:{axis:["x","y","z"]},stripped_crimson_hyphae:{axis:["x","y","z"]},warped_hyphae:{axis:["x","y","z"]},crimson_hyphae:{axis:["x","y","z"]},twisting_vines:{age:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]},weeping_vines:{age:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]},kelp:{age:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]},respawn_anchor:{charges:[0,1,2,3,4]},polished_basalt:{axis:["x","y","z"]},blackstone_slab:slabTypes,blackstone_stairs:stairBlockState,blackstone_wall:wallBS,polished_blackstone_brick_slab:slabTypes,polished_blackstone_brick_stairs:stairBlockState,polished_blackstone_brick_wall:wallBS,polished_blackstone_button:{facing:nsweName,face:["ceiling","wall","floor"]},polished_blackstone_pressure_plate:{powered:[!1,!0]},polished_blackstone_slab:slabTypes,polished_blackstone_stairs:stairBlockState,polished_blackstone_wall:wallBS,soul_campfire:{lit:[!1,!0],signal_fire:[!1,!0],waterlogged:[!1,!0]},oak_leaves:leavesBS,spruce_leaves:leavesBS,birch_leaves:leavesBS,jungle_leaves:leavesBS,acacia_leaves:leavesBS,dark_oak_leaves:leavesBS,chain:{waterlogged:[!1,!0],axis:["x","y","z"]},candle:candles,white_candle:candles,orange_candle:candles,magenta_candle:candles,light_blue_candle:candles,yellow_candle:candles,lime_candle:candles,pink_candle:candles,gray_candle:candles,light_gray_candle:candles,cyan_candle:candles,purple_candle:candles,blue_candle:candles,brown_candle:candles,green_candle:candles,red_candle:candles,black_candle:candles,waxed_cut_copper_slab:slabTypes,waxed_exposed_cut_copper_slab:slabTypes,waxed_weathered_cut_copper_slab:slabTypes,waxed_oxidized_cut_copper_slab:slabTypes,cut_copper_slab:slabTypes,exposed_cut_copper_slab:slabTypes,oxidized_cut_copper_slab:slabTypes,weathered_cut_copper_slab:slabTypes,waxed_cut_copper_stairs:stairBlockState,waxed_exposed_cut_copper_stairs:stairBlockState,waxed_weathered_cut_copper_stairs:stairBlockState,waxed_oxidized_cut_copper_stairs:stairBlockState,cut_copper_stairs:stairBlockState,exposed_cut_copper_stairs:stairBlockState,oxidized_cut_copper_stairs:stairBlockState,weathered_cut_copper_stairs:stairBlockState,lightning_rod:{facing:nsewudName,powered:[!1,!0],waterlogged:[!1,!0]},water_cauldron:{level:[0,1,2,3]},lava_cauldron:{level:[0,1,2,3]},powder_snow_cauldron:{level:[0,1,2,3]},candle_cake:{lit:[!1,!0]},white_candle_cake:{lit:[!1,!0]},orange_candle_cake:{lit:[!1,!0]},magenta_candle_cake:{lit:[!1,!0]},light_blue_candle_cake:{lit:[!1,!0]},yellow_candle_cake:{lit:[!1,!0]},lime_candle_cake:{lit:[!1,!0]},pink_candle_cake:{lit:[!1,!0]},gray_candle_cake:{lit:[!1,!0]},light_gray_candle_cake:{lit:[!1,!0]},cyan_candle_cake:{lit:[!1,!0]},purple_candle_cake:{lit:[!1,!0]},blue_candle_cake:{lit:[!1,!0]},brown_candle_cake:{lit:[!1,!0]},green_candle_cake:{lit:[!1,!0]},red_candle_cake:{lit:[!1,!0]},black_candle_cake:{lit:[!1,!0]},pointed_dripstone:{thickness:["tip_merge","tip","frustum","middle","base"],vertical_direction:["up","down"],waterlogged:[!1,!0]},sculk_sensor:{power:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],sculk_sensor_phase:["active","cooldown","inactive"],waterlogged:[!1,!0]},glow_lichen:{north:[!1,!0],south:[!1,!0],east:[!1,!0],west:[!1,!0],up:[!1,!0],waterlogged:[!1,!0]},azalea_leaves:{distance:[1,2,3,4,5,6,7],persistent:[!1,!0]},flowering_azalea_leaves:{distance:[1,2,3,4,5,6,7],persistent:[!1,!0]},cave_vines_plant:{berries:[!1,!0]},cave_vines:{berries:[!1,!0],age:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]},small_dripleaf:{half:["lower","upper"],waterlogged:[!1,!0],facing:nsweName},big_dripleaf:{facing:nsweName,tilt:["full","none","partial","unstable"],waterlogged:[!1,!0]},big_dripleaf_stem:{facing:nsweName},polished_deepslate_wall:wallBS,deepslate_tile_wall:wallBS,deepslate_brick_wall:wallBS,polished_deepslate_stairs:stairBlockState,deepslate_tile_stairs:stairBlockState,deepslate_brick_stairs:stairBlockState,polished_deepslate_slab:slabTypes,deepslate_tile_slab:slabTypes,deepslate_brick_slab:slabTypes,deepslate:{axis:["x","y","z"]},cobbled_deepslate_wall:wallBS,cobbled_deepslate_slab:slabTypes,cobbled_deepslate_stairs:stairBlockState,infested_deepslate:{axis:["x","y","z"]},hanging_roots:{waterlogged:[!1,!0]},scaffolding:{waterlogged:[!1,!0],distance:[0,1,2,3,4,5,6,7],bottom:[!1,!0]},lilac:{half:["lower","upper"]},peony:{half:["lower","upper"]},bamboo:{age:[0,1],leaves:["none","small","large"],stage:[0,1]},light:{level:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],waterlogged:[!1,!0]},prismarine_slab:slabTypes,dark_prismarine_slab:slabTypes,prismarine_brick_slab:slabTypes,prismarine_stairs:stairBlockState,dark_prismarine_stairs:stairBlockState,prismarine_brick_stairs:stairBlockState};class TargetSelector{constructor(e,t,a,o){a=null==a?"":a;this.forPlayers=t,this.forNonPlayerEnts=e,this.tsNBT={c:{label:"Limit",type:"text",cssClass:"fLabel150",tip:"target.limit",format:"int"},sort:{label:"Sort",type:"makeSelect",values:["unset","nearest","furthest","random","arbitrary"],cssClass:"fLabel150",tip:"target.sort",format:"special"},x:{type:"text",label:"x",cssClass:"fLabel150",tip:"target.coordinates",format:"int"},y:{type:"text",label:"y",cssClass:"fLabel150",tip:"target.coordinates",format:"int"},z:{type:"text",label:"z",cssClass:"fLabel150",tip:"target.coordinates",format:"int"},tsSelectionArea:{label:"Selection Area",type:"choice",cssClass:"fLabel150",values:[[0,"Radius"],[1,"Volume"]],tip:"target.selectionArea",format:"special"},tsAreaPane:{cssClass:"fLabel150",panelID:a+"tsAreaPane",type:"panel",format:"special"},rxm:{type:"text",label:"Min Vert Rotation",cssClass:"fLabel150",tip:"target.rxm",format:"int"},rx:{type:"text",label:"Max Vert Rotation",cssClass:"fLabel150",tip:"target.rx",format:"int"},rym:{type:"text",label:"Min Horiz Rotation",cssClass:"fLabel150",tip:"target.rym",format:"int"},ry:{type:"text",label:"Max Horiz Rotation",cssClass:"fLabel150",tip:"target.ry",format:"int"},team:{type:"choicetext",label:"Team",cssClass:"fLabel150",values:[[0,"Only this team"],[1,"Not this team"],[2,"Not any team"],[3,"On any team"]],tip:"target.team"},name:{type:"choicetext",label:"Name",cssClass:"fLabel150",values:[[0,"This name"],[1,"Not this name"]],tip:"target.name",format:"special"}},this.tsRadius={rm:{type:"text",label:"Min Radius",cssClass:"fLabel150",eventClass:"selectArea",tip:"target.rm"},r:{type:"text",label:"Max Radius",cssClass:"fLabel150",eventClass:"selectArea",tip:"target.r"}},this.tsVolume={dx:{type:"text",label:"Positive X Direction",cssClass:"fLabel150",eventClass:"selectArea",tip:"target.dx"},dy:{type:"text",label:"Positive Y Direction",cssClass:"fLabel150",eventClass:"selectArea",tip:"target.dy"},dz:{type:"text",label:"Positive Z Direction",cssClass:"fLabel150",eventClass:"selectArea",tip:"target.dz"}},this.tsNBT.nbt={type:"text",label:"NBT",fwClass:"verybigTF",cssClass:"fLabel150",tip:"target.nbt",format:"special"},t?(this.tsNBT.m={type:"choice",label:"Game Mode",cssClass:"fLabel150",values:[["-1","Any Mode"],["survival","Survival Mode"],["creative","Creative Mode"],["adventure","Adventure Mode"],["spectator","Spectator Mode"],["!survival","Not Survival Mode"],["!creative","Not Creative Mode"],["!adventure","Not Adventure Mode"],["!spectator","Not Spectator Mode"]],tip:"target.m"},this.tsNBT.lm={type:"text",label:"Min XP Level",cssClass:"fLabel150",tip:"target.lm",format:"int"},this.tsNBT.l={type:"text",label:"Max XP Level",cssClass:"fLabel150",tip:"target.l",format:"int"},this.tsNBT.advancements={type:"text",label:"Advancements",fwClass:"bigTF",cssClass:"fLabel150",tip:"target.advancements",format:"special"}):null!=o&&o&&(this.tsNBT.type={type:"text",label:"Type",cssClass:"fLabel150",fwClass:"bigTF",tip:"target.type113",format:"special"}),this.tsNBT.tag={type:"text",label:"Tags",cssClass:"fLabel150",fwClass:"bigTF",tip:"target.tag113",format:"special"},this.tsNBT.predicate={type:"text",label:"Predicates",cssClass:"fLabel150",fwClass:"bigTF",tip:"target.predicate",format:"special"}}}function loadTargetSelectorsGeneric(e,t,a,o){var n,s=null==o?"":o,i=($("#"+e).append("<br><span class='fLabel200'>Target Selectors</span>"+mkShowHide(s+"TSPane","TSPaneSH")+"<div id='"+s+"TSPane' class='tsControl  roundedDiv'></div>"),new TargetSelector(t,a,s,!0));for(n in a&&(createComponent(s+"TSPane",s+"targetType",{type:"choicetext",value:"@p",label:"Target",cssClass:"fLabel150",values:[["@p","nearest player"],["@r","random player"],["@a","all players"],["@s","the entity executing the command"],["MC_Name","A specific players name"]],tip:"target.targetType",format:"string",eventClass:"tsTargetType"},0),$(".tsTargetType").bind("change",function(){"MC_Name"!=$("#"+s+"targetType0_choice").val()&&$("#"+s+"targetType0_txt").val($("#"+s+"targetType0_choice").val()),generateCommand()})),i.tsNBT)createComponent(s+"TSPane",s+n,i.tsNBT[n],0);$("#"+s+"TSPane br:first").remove(),loadTSAreaOption(0,s,i),$("#"+s+"tsSelectionArea0").bind("change",function(){loadTSAreaOption($("#"+s+"tsSelectionArea0").val(),s,i),generateCommand()}),$("#"+s+"TSPane").append("<br><span class='fLabel150'>Score Objectives</span><span style='display:inline;white-space: nowrap;'><a href=\"javascript:addScoreObjective('"+s+"tsScore','"+s+"')\" class='greenPlus'>+</a><div id='"+s+"tsScore' class='tsScorePane'></div></span>")}function loadTargetSelectors(e,t,a,o,n){var s,i=null==o?"":o,r=($("#"+e).append("<br><span class='fLabel200'>Target Selectors</span>"+mkShowHide(i+"TSPane","TSPaneSH")+"<div id='"+i+"TSPane' class='tsControl  roundedDiv'></div>"),new TargetSelector(t,a,i,n));for(s in a&&(createComponent(i+"TSPane",i+"targetType",{type:"choicetext",value:"@p",label:"Target",cssClass:"fLabel150",values:[["@p","nearest player"],["@r","random player"],["@a","all players"],["@s","the entity executing the command"],["MC_Name","A specific players name"]],tip:"target.targetType",format:"string",eventClass:"tsTargetType"},0),$(".tsTargetType").bind("change",function(){"MC_Name"!=$("#"+i+"targetType0_choice").val()&&$("#"+i+"targetType0_txt").val($("#"+i+"targetType0_choice").val()),generateCommand()})),r.tsNBT)createComponent(i+"TSPane",i+s,r.tsNBT[s],0);$("#"+i+"TSPane br:first").remove(),loadTSAreaOption(0,i,r),$("#"+i+"tsSelectionArea0").bind("change",function(){loadTSAreaOption($("#"+i+"tsSelectionArea0").val(),i,r),generateCommand()}),$("#"+i+"TSPane").append("<br><span class='fLabel150'>Score Objectives</span><span style='display:inline;white-space: nowrap;'><a href=\"javascript:addScoreObjective('"+i+"tsScore','"+i+"')\" class='greenPlus'>+</a><div id='"+i+"tsScore' class='tsScorePane'></div></span>")}function loadTargetSelectorsFromCommandGeneric(e,t){var a=null==t?"":t;if("@"==e.charAt(0)){if(-1==e.indexOf("["))$("#"+a+"targetType0_choice").val(e);else{$("#"+a+"targetType0_choice").val(e.substr(0,e.indexOf("[")));for(var o=(o=e.substr(e.indexOf("[")+1)).substr(0,o.indexOf("]")).split(","),n=0;n<o.length;n++)for(;n+1<o.length&&occurrences(o[n],"{",!1)!=occurrences(o[n],"}",!1);)o[n]+=","+o[n+1],o.splice(n+1,1);for(var s={gamemode:"m",limit:"c",x:"x",y:"y",z:"z",sort:"sort",advancements:"advancements",nbt:"nbt"},i={x_rotation:["rxm","rx"],y_rotation:["rym","ry"],distance:["rm","r"],level:["lm","l"]},n=0;n<o.length;n++){var r=o[n].substr(0,o[n].indexOf("=")),l=o[n].substr(o[n].indexOf("=")+1);if(r in s)$("#"+a+s[r]+"0").val(l);else if(r in i)setRangedTSValues(l,a+i[r][0]+"0",a+i[r][1]+"0");else if("dx"==r||"dy"==r||"dz"==r)0==$("#"+a+"tsSelectionArea0").val()&&($("#"+a+"tsSelectionArea0").val(1),$("#"+a+"tsSelectionArea0").trigger("change")),$("#"+a+r+"0").val(l);else if("name"==r)"!"==l.charAt(0)?($("#"+a+r+"0_choice").val(1),$("#"+a+r+"0_txt").val(replaceAll('"',"",l.substr(1)))):($("#"+a+r+"0_choice").val(0),$("#"+a+r+"0_txt").val(replaceAll('"',"",l)));else if("team"==r)""==l?$("#"+a+r+"0_choice").val(2):"!"==l?$("#"+a+r+"0_choice").val(3):"!"==l.charAt(0)?($("#"+a+r+"0_choice").val(1),$("#"+a+r+"0_txt").val(l.substr(1))):($("#"+a+r+"0_choice").val(0),$("#"+a+r+"0_txt").val(l));else if("tag"==r)0<$("#"+a+r+"0").val().length&&$("#"+a+r+"0").val($("#"+a+r+"0").val()+","),$("#"+a+r+"0").val($("#"+a+r+"0").val()+l);else if("predicate"==r)0<$("#"+a+r+"0").val().length&&$("#"+a+r+"0").val($("#"+a+r+"0").val()+","),$("#"+a+r+"0").val($("#"+a+r+"0").val()+l);else if("type"==r)0<$("#"+a+r+"0").val().length&&$("#"+a+r+"0").val($("#"+a+r+"0").val()+","),$("#"+a+r+"0").val($("#"+a+r+"0").val()+l);else if("scores"==r)for(var c=(l=replaceAll("{","",replaceAll("}","",l))).split(","),p=0;p<c.length;p++){var d=c[p].split("="),m=(addScoreObjective(a+"tsScore",a),p+1);$("#"+a+"scoreObjective"+m+"Name0").val(d[0]),setRangedTSValues(d[1],a+"scoreObjective"+m+"Min0",a+"scoreObjective"+m+"Max0")}}}$("#"+a+"targetType0_choice").trigger("change")}else $("#"+a+"targetType0_txt").val(e)}function loadTargetSelectorsFromCommand113(e,t){var a=null==t?"":t;if("@"==e.charAt(0)){if(-1==e.indexOf("["))$("#"+a+"targetType0_choice").val(e);else{$("#"+a+"targetType0_choice").val(e.substr(0,e.indexOf("[")));for(var o=(o=e.substr(e.indexOf("[")+1)).substr(0,o.lastIndexOf("]")).split(","),n=0;n<o.length;n++)for(;n+1<o.length&&occurrences(o[n],"{",!1)!=occurrences(o[n],"}",!1);)o[n]+=","+o[n+1],o.splice(n+1,1);for(var s={gamemode:"m",limit:"c",x:"x",y:"y",z:"z",sort:"sort",advancements:"advancements",nbt:"nbt"},i={x_rotation:["rxm","rx"],y_rotation:["rym","ry"],distance:["rm","r"],level:["lm","l"]},n=0;n<o.length;n++){var r=o[n].substr(0,o[n].indexOf("=")),l=o[n].substr(o[n].indexOf("=")+1);if(r in s)$("#"+a+s[r]+"0").val(l);else if(r in i)setRangedTSValues(l,i[r][0]+"0",i[r][1]+"0");else if("dx"==r||"dy"==r||"dz"==r)0==$("#"+a+"tsSelectionArea0").val()&&($("#"+a+"tsSelectionArea0").val(1),$("#"+a+"tsSelectionArea0").trigger("change")),$("#"+r+"0").val(l);else if("type"==r){if(!$("#"+a+"entity0 option[value='"+l+"']").length)throw new MCSException(l+" is not a valid entity in the target selector.");$("#"+a+"entity0").val(l),$("#"+a+"entity0").trigger("change")}else if("name"==r)"!"==l.charAt(0)?($("#"+a+r+"0_choice").val(1),$("#"+a+r+"0_txt").val(replaceAll('"',"",l.substr(1)))):($("#"+a+r+"0_choice").val(0),$("#"+a+r+"0_txt").val(replaceAll('"',"",l)));else if("team"==r)""==l?$("#"+a+r+"0_choice").val(2):"!"==l?$("#"+a+r+"0_choice").val(3):"!"==l.charAt(0)?($("#"+a+r+"0_choice").val(1),$("#"+a+r+"0_txt").val(l.substr(1))):($("#"+a+r+"0_choice").val(0),$("#"+a+r+"0_txt").val(l));else if("tag"==r)0<$("#"+a+r+"0").val().length&&$("#"+a+r+"0").val($("#"+a+r+"0").val()+","),$("#"+a+r+"0").val($("#"+a+r+"0").val()+l);else if("predicate"==r)0<$("#"+a+r+"0").val().length&&$("#"+a+r+"0").val($("#"+a+r+"0").val()+","),$("#"+a+r+"0").val($("#"+a+r+"0").val()+l);else if("scores"==r)for(var c=(l=replaceAll("{","",replaceAll("}","",l))).split(","),p=0;p<c.length;p++){var d=c[p].split("="),m=(addScoreObjective(a+"tsScore",a),p+1);$("#"+a+"scoreObjective"+m+"Name0").val(d[0]),setRangedTSValues(d[1],a+"scoreObjective"+m+"Min0",a+"scoreObjective"+m+"Max0")}}}$("#"+a+"targetType0_choice").trigger("change")}else $("#"+a+"targetType0_txt").val(e)}function setRangedTSValues(e,t,a){var o=e.split("..");-1==e.indexOf("..")?($("#"+t).val(o[0]),$("#"+a).val(o[0])):"."==e.charAt(0)?$("#"+a).val(o[1]):"."==e.charAt(e.length-1)?$("#"+t).val(o[0]):($("#"+t).val(o[0]),$("#"+a).val(o[1]))}function getTargetSelectorStringGeneric(e){var e=null==e?"":e,t=0<$("#"+e).length&&"player"!=$("#"+e).val(),a=$("#"+e).length&&"player"==$("#"+e).val()||!$("#"+e).length,a=new TargetSelector(t,a,e),o="";if($("#"+e+"m0").length&&-1!=$("#"+e+"m0").val()&&(o+=",gamemode="+$("#"+e+"m0").val()),o=(o=(o+=getTSRange("level",e+"lm0",e+"l0"))+getTSRange("x_rotation",e+"rxm0",e+"rx0"))+getTSRange("y_rotation",e+"rym0",e+"ry0"),""!=$("#"+e+"c0").val()&&(o+=",limit="+$("#"+e+"c0").val()),$("#"+e+"sort0").length&&"unset"!=$("#"+e+"sort0").val()&&(o+=",sort="+$("#"+e+"sort0").val()),""!=$("#"+e+"x0").val()&&(o+=",x="+$("#"+e+"x0").val()),""!=$("#"+e+"y0").val()&&(o+=",y="+$("#"+e+"y0").val()),""!=$("#"+e+"z0").val()&&(o+=",z="+$("#"+e+"z0").val()),0==$("#"+e+"tsSelectionArea0").val()?o+=getTSRange("distance",e+"rm0",e+"r0"):o=(o=(o+=replaceAll(":","=",getNBTforKey(e+"dx",a.tsVolume.dx,0)))+replaceAll(":","=",getNBTforKey(e+"dy",a.tsVolume.dy,0)))+replaceAll(":","=",getNBTforKey(e+"dz",a.tsVolume.dz,0)),2==$("#"+e+"team0_choice").val()?o+=",team=":3==$("#"+e+"team0_choice").val()?o+=",team=!":$("#"+e+"team0_txt").val().length&&(o+=",team=",1==$("#"+e+"team0_choice").val()&&(o+="!"),o+=$("#"+e+"team0_txt").val()),$("#"+e+"tag0").val().length){for(var n=$("#"+e+"tag0").val().split(","),s="",i=0;i<n.length;i++)s+=",tag="+n[i];o+=s}if($("#"+e+"predicate0").val().length){for(n=$("#"+e+"predicate0").val().split(","),s="",i=0;i<n.length;i++)s+=",predicate="+n[i];o+=s}$("#"+e+"advancements0").length&&$("#"+e+"advancements0").val().length&&(o+=",advancements="+$("#"+e+"advancements0").val()),$("#"+e+"nbt0").val().length&&(o+=",nbt="+$("#"+e+"nbt0").val());var r="";if($("#"+e+"tsScore > .score").each(function(e){var t;$("#"+this.id+"Name0").val().length&&(t=$("#"+this.id+"Name0").val(),r+=getTSRange(t,this.id+"Min0",this.id+"Max0"))}),r.length&&(o+=",scores={"+r.substr(1)+"}"),$("#"+e+"name0_txt").val().length&&(o+=",name=",1==$("#"+e+"name0_choice").val()&&(o+="!"),o+='"'+$("#"+e+"name0_txt").val()+'"'),o=replaceAll(e,"",o),t){if($("#"+e+"type0").val().length){for(n=$("#"+e+"type0").val().split(","),s="",i=0;i<n.length;i++)s+=",type="+n[i];o+=s}return o.length?"@e["+o.substr(1)+"]":"@e"}return o.length&&(o="["+o.substr(1)+"]"),$("#"+e+"targetType0_txt").val()+o}function getTargetSelectorString1p13(e){var e=null==e?"":e,t=0<$("#"+e+"entity0").length&&"player"!=$("#"+e+"entity0").val(),a=$("#"+e+"entity0").length&&"player"==$("#"+e+"entity0").val()||!$("#"+e+"entity0").length,a=new TargetSelector(t,a,e),o="";if($("#"+e+"m0").length&&-1!=$("#"+e+"m0").val()&&(o+=",gamemode="+$("#"+e+"m0").val()),o=(o=(o+=getTSRange("level",e+"lm0",e+"l0"))+getTSRange("x_rotation",e+"rxm0",e+"rx0"))+getTSRange("y_rotation",e+"rym0",e+"ry0"),""!=$("#"+e+"c0").val()&&(o+=",limit="+$("#"+e+"c0").val()),$("#"+e+"sort0").length&&"unset"!=$("#"+e+"sort0").val()&&(o+=",sort="+$("#"+e+"sort0").val()),""!=$("#"+e+"x0").val()&&(o+=",x="+$("#"+e+"x0").val()),""!=$("#"+e+"y0").val()&&(o+=",y="+$("#"+e+"y0").val()),""!=$("#"+e+"z0").val()&&(o+=",z="+$("#"+e+"z0").val()),0==$("#"+e+"tsSelectionArea0").val()?o+=getTSRange("distance",e+"rm0",e+"r0"):o=(o=(o+=replaceAll(":","=",getNBTforKey(e+"dx",a.tsVolume.dx,0)))+replaceAll(":","=",getNBTforKey(e+"dy",a.tsVolume.dy,0)))+replaceAll(":","=",getNBTforKey(e+"dz",a.tsVolume.dz,0)),2==$("#"+e+"team0_choice").val()?o+=",team=":3==$("#"+e+"team0_choice").val()?o+=",team=!":$("#"+e+"team0_txt").val().length&&(o+=",team=",1==$("#"+e+"team0_choice").val()&&(o+="!"),o+=$("#"+e+"team0_txt").val()),$("#"+e+"tag0").val().length){for(var n=$("#"+e+"tag0").val().split(","),s="",i=0;i<n.length;i++)s+=",tag="+n[i];o+=s}if($("#"+e+"predicate0").val().length){for(n=$("#"+e+"predicate0").val().split(","),s="",i=0;i<n.length;i++)s+=",predicate="+n[i];o+=s}$("#"+e+"advancements0").length&&$("#"+e+"advancements0").val().length&&(o+=",advancements="+$("#"+e+"advancements0").val()),$("#"+e+"name0_txt").val().length&&(o+=",name=",1==$("#"+e+"name0_choice").val()&&(o+="!"),o+='"'+$("#"+e+"name0_txt").val()+'"');var o=replaceAll(e,"",o),r="";return $("#"+e+"tsScore > .score").each(function(e){var t;$("#"+this.id+"Name0").val().length&&(t=$("#"+this.id+"Name0").val(),r+=getTSRange(t,this.id+"Min0",this.id+"Max0"))}),r.length&&(o+=",scores={"+r.substr(1)+"}"),$("#"+e+"nbt0").val().length&&"{}"!=$("#"+e+"nbt0").val()&&(o+=",nbt="+$("#"+e+"nbt0").val()),t?"@e[type="+$("#"+e+"entity0").val()+o+"]":(o.length&&(o="["+o.substr(1)+"]"),$("#"+e+"targetType0_txt").val()+o)}function getTSRange(e,t,a){return!$("#"+t).length&&!$("#"+a).length||(t=$("#"+t).val())==(a=$("#"+a).val())&&""==t?"":t==a?","+e+"="+t:""!=t&&""!=a?","+e+"="+t+".."+a:""!=t?","+e+"="+t+"..":""!=a?","+e+"=.."+a:""}function addScoreObjective(e,t){t=t+"scoreObjective"+ ++tsScoreObjectiveCount;$("#"+e).append("<div id='"+t+"' class='score roundedDiv'><a class='redX' href=\"javascript:removeContainer('"+t+"')\">&#9747;</a></div>"),createComponent(t,t+"Name",{label:"Objective Name",type:"text",cssClass:"fLabel100",eventClass:"scoreObjective",tip:"target.objectiveName"},0),createComponent(t,t+"Min",{label:"Min Score",type:"text",cssClass:"fLabel100",eventClass:"scoreObjective",tip:"target.scoreMin"},0),createComponent(t,t+"Max",{label:"Max Score",type:"text",cssClass:"fLabel100",eventClass:"scoreObjective",tip:"target.scoreMax"},0),$(".scoreObjective").bind("keyup",function(){generateCommand()}),generateCommand()}function loadTSAreaOption(e,t,a){$("#"+t+"tsAreaPane").html(""),0==e?(createComponent(t+"tsAreaPane",t+"rm",a.tsRadius.rm,0),createComponent(t+"tsAreaPane",t+"r",a.tsRadius.r,0)):(createComponent(t+"tsAreaPane",t+"dx",a.tsVolume.dx,0),createComponent(t+"tsAreaPane",t+"dy",a.tsVolume.dy,0),createComponent(t+"tsAreaPane",t+"dz",a.tsVolume.dz,0)),$(".selectArea").bind("keyup",function(){generateCommand()}),$("#"+t+"tsAreaPane br:first").remove()}function getTargetingTags(e){var t="";return 0<$("#Tags"+e).val().length&&(t+=',Tags:["'+$("#Tags"+e).val().replace(/,/g,'","')+'"]'),t}function parseNBT(t,e){deferOutput=!(tsScoreObjectiveCount=0);try{let e=null;try{e=JSON.parse(t),loadForm("loot_table"),importLootTable(e)}catch(e){}null==e&&new CMDParser(t).parseTheCommand(t),deferOutput=!1,generateCommand()}catch(e){deferOutput=!1,alertify.alert("Your shipment of fail has arrived. \\_()_/<BR>"+e.toString()),$("#disableOutput").prop("checked",!1)}}function logParseFail(e,t){$.post("mcstacker2.php",{op:"logParseFail",commandID:commandID,cmd:e,error:t},function(e,t){})}function loadSavedCommand(e){parseNBT($("#commandString").val().trim(),e)}function loadSpawnPotentialFromNBT(e,t,a,o){for(var n=0;n<a.length;n++){addSpawnPotential("SpawnPotential"+o+"Pane");var s="SpawnPotentials"==t?a[n].Entity.val:a[n],i=extractMinecraftID(s.id.val),i=($("#entity"+entityIndex).val(i),$("#entity"+entityIndex).trigger("change"),entityIndex);e.loadSummonCommand(s,entityIndex),null!=a[n].Weight&&$("#Weight"+i).val(a[n].Weight.val)}var r=[],l=null,c=0;$("#SpawnPotential"+o+"Pane > .spawnPotentialContainer").each(function(e){var t=parseInt(this.id.substr(this.id.indexOf("_")+1));null==l&&(l=t),c++,r[e]='{id:"minecraft:'+$("#entity"+t).val()+'"'+entityDescriptors["e"+t].getEntitySpecificCommand(t)+getMotion(t,"Pos")+"}"}),2<=c&&r[0]==r[1]&&removePassenger("spawnPotentialEntity_"+l,l)}function loadBeeHiveNestFromNBT(e,t,a){if(null!=t.FlowerPos&&($("#FlowerPosX0").val(t.FlowerPos.val.X.val),$("#FlowerPosY0").val(t.FlowerPos.val.Y.val),$("#FlowerPosZ0").val(t.FlowerPos.val.Z.val)),null!=t.Bees)for(var o=t.Bees.val,n=0;n<o.length;n++)addBee("Bees"+a+"Pane"),e.loadSummonCommand(o[n],entityIndex),null!=o[n].MinOccupationTicks&&$("#MinOccupationTicks"+entityIndex).val(o[n].MinOccupationTicks.val),null!=o[n].TicksInHive&&$("#TicksInHive"+entityIndex).val(o[n].TicksInHive.val)}function addTradeFromNBT(e,t,a){null!=e.rewardExp&&$("#"+t+"rewardExp").val(parseInt(e.rewardExp.val)),null!=e.uses&&$("#"+t+"uses").val(parseInt(e.uses.val)),null!=e.maxUses&&$("#"+t+"maxUses").val(parseInt(e.maxUses.val)),null!=e.xp&&$("#"+t+"xp").val(parseInt(e.xp.val)),null!=e.priceMultiplier&&$("#"+t+"priceMultiplier").val(parseFloat(e.priceMultiplier.val)),null!=e.specialPrice&&$("#"+t+"specialPrice").val(parseInt(e.specialPrice.val)),null!=e.demand&&$("#"+t+"demand").val(parseInt(e.demand.val)),null!=e.buy&&setupItemTradeSlotForNBT(t+"buy",e.buy.val,a),null!=e.buyB&&setupItemTradeSlotForNBT(t+"buyB",e.buyB.val,a),null!=e.sell&&setupItemTradeSlotForNBT(t+"sell",e.sell.val,a)}function loadItemNBTIntoSlot(e,t,a,o){if(null!=e.Count&&$("#"+a+"Count").val(parseInt(e.Count.val)),null!=e.Damage&&$("#"+a+"Damage").val(parseInt(e.Damage.val)),null!=e.tag){for(var n=e.tag.val,s=["CanPlaceOn","CanDestroy"],i=0;i<s.length;i++)if($("#"+a+s[i]+"TilePane").html(""),null!=n[s[i]])for(var r=0;r<n[s[i]].val.length;r++)addTileFromNBTLoad(a+s[i],extractMinecraftID(n[s[i]].val[r]));var l,c=["Decorations","display","HideFlags","Damage","RepairCost","Unbreakable","CustomModelData","Enchantments","AttributeModifiers","BlockStateTag","CanPlaceOn","CanDestroy","StoredEnchantments","SkullOwner","title","author","generation","resolved","pages","BlockEntityTag","map","Fireworks","Explosion","EntityTag","CustomPotionEffects","Potion","CustomPotionColor","ChargedProjectiles","Effects","BlockStateTag","Recipes","Charged","LodestoneDimension","LodestonePos","LodestoneTracked","Items"],p="";for(key in n)-1==c.indexOf(key)&&(Array.isArray(n[key].val)?((l={})[key]=n[key],p+=","+o.traverseObjectToNBT(l,"")):p+=","+key+":"+n[key].val);if(p.length&&$("#"+a+"CustomTags").val(p.substr(1)),null!=n.display){var d,m=n.display.val;if(null!=m.Name){deferOutput=deferJSONOutput=!0,tellrawJson.makeNewTellraw(a+"ItemName");try{d=JSON.parse(JSON.parse('"'+m.Name.val+'"'))}catch(f){d=JSON.parse(JSON.parse('"'+m.Name.val.replace(/"/g,'\\"').replace(/\\'/g,"'")+'"'))}importTellrawJSON(a+"ItemName",d),showHide(a+"ItemName",a+"ItemNameSH"),deferOutput=deferJSONOutput=!1,tellrawUpdate(a+"ItemName")}if(null!=m.Lore){deferOutput=deferJSONOutput=!0,tellrawJson.makeNewTellraw(a+"Lore");try{loadLoreFromNBT(a+"Lore",m.Lore.val)}catch(f){d=[];for(r=0;r<m.Lore.val.length;r++)d.push({text:m.Lore.val[r]+" "});importTellrawJSON(a+"Lore",d)}showHide(a+"Lore",a+"LoreSH"),deferOutput=deferJSONOutput=!1,tellrawUpdate(a+"Lore")}null!=m.color&&loadColorIntNBT(a+"Color",m.color.val)}if(null!=n.HideFlags){showHide(a+"HideFlags",a+"HideFlagsSH");var h=[],g=1;h.push(0);for(r=0;r<flags.length;r++)h.push(g),g*=2;for(var u=n.HideFlags.val,r=flags.length-1;0<=r;r--)h[r+1]<=u&&(u-=h[r+1],$("#"+a+"HF"+flags[r]).prop("checked",!0))}if(null!=n.Damage&&$("#"+a+"Damage").val(parseInt(n.Damage.val)),null!=n.RepairCost&&$("#"+a+"RepairCost").val(parseInt(n.RepairCost.val)),null!=n.Unbreakable&&$("#"+a+"Unbreakable").val(parseInt(n.Unbreakable.val)),null!=n.CustomModelData&&$("#"+a+"CustomModelData").val(n.CustomModelData.val),null!=n.Enchantments){showHide(a+"Enchantments",a+"EnchantmentsSH");for(var _=n.Enchantments.val,r=0;r<_.length;r++)if(null!=(f=_[r]).id){var b=getEnchantNumFromString(f.id.val);if(!$("#"+a+"Enchantments_enc_"+b).length){$("#"+a+"Enchantments_enc_showAll").prop("checked",!0),makeEnchantments(a+"Enchantments",!0,t);break}}else $("#"+a+"Enchantments_enc_glintOnly").prop("checked",!0);if(null!=f.id)for(r=0;r<_.length;r++){var f,b=getEnchantNumFromString((f=_[r]).id.val);$("#"+a+"Enchantments_enc_"+b).prop("checked",!0),$("#"+a+"Enchantments_enc_"+b+"_lvl_span").show(),$("#"+a+"Enchantments_enc_"+b+"_lvl").val(parseInt(f.lvl.val))}}if(null!=n.AttributeModifiers){$("#"+a+"AMtable").find(".amRow").remove(),showHide(a+"AM",a+"AMSH");for(var v=n.AttributeModifiers.val,r=0;r<v.length;r++){var k=v[r],y=k.AttributeName.val;name=y.substr(y.indexOf(".")+1),-1==attributeModifiers116.indexOf(name)&&(name=attributeModifiers116[attributeModifiers.indexOf(name)]);y=a+"AM_"+addAM(a+"AM",!0);$("#"+y+"_mods").val(name),null!=k.Amount&&$("#"+y+"_amount").val(k.Amount.val),null!=k.Operation&&$("#"+y+"_operation").val(k.Operation.val),null!=k.Slot&&$("#"+y+"_slot").val(k.Slot.val),null!=k.UUIDLeast&&null!=k.UUIDMost&&convertLeastMostToArray(y+"_UUID",k.UUIDLeast.val,k.UUIDMost.val),null!=k.UUID&&loadUUIDArrayNBT(y+"_UUID",k.UUID.val)}checkAMconflicts(a+"AM")}if(null!=n.BlockStateTag){showHide(a+"BlockStates",a+"BlockStatesSH");var w=n.BlockStateTag.val;for(key in w)$("#"+key+a).val(w[key].val)}}null!=n&&loadItemSpecificNBT(n,t,a,o)}function loadColorIntNBT(e,t){$("#"+e+"_customcol").prop("checked",!0),$("#"+e+"_customcol").trigger("change"),new jscolor.color(document.getElementById(e+"_color"),{}).fromString(getHexColor(t))}function convertHexUUIDToArray(e,t){var a=new DataView(new ArrayBuffer(16));let o=[8,4,4,4,12];t=t.split("-").map((e,t)=>e.padStart(o[t],"0")).join("");a.setBigUint64(0,BigInt("0x"+t.substring(0,16)),!1),a.setBigUint64(8,BigInt("0x"+t.substring(16)),!1),$("#"+e+0).val(a.getInt32(0)),$("#"+e+1).val(a.getInt32(4)),$("#"+e+2).val(a.getInt32(8)),$("#"+e+3).val(a.getInt32(12))}function convertHexUUIDToCSV(e){var t=new DataView(new ArrayBuffer(16));let a=[8,4,4,4,12];e=e.split("-").map((e,t)=>e.padStart(a[t],"0")).join("");return t.setBigUint64(0,BigInt("0x"+e.substring(0,16)),!1),t.setBigUint64(8,BigInt("0x"+e.substring(16)),!1),t.getInt32(0)+","+t.getInt32(4)+","+t.getInt32(8)+","+t.getInt32(12)}function convertLeastMostToArray(e,t,a){var o=new DataView(new ArrayBuffer(16));o.setBigInt64(0,BigInt(parseInt(a)),!1),o.setBigInt64(8,BigInt(parseInt(t)),!1),$("#"+e+0).val(o.getInt32(0)),$("#"+e+1).val(o.getInt32(4)),$("#"+e+2).val(o.getInt32(8)),$("#"+e+3).val(o.getInt32(12))}function convertMostToArray(e,t){var a=new DataView(new ArrayBuffer(16));a.setBigInt64(0,BigInt(parseInt(t)),!1),$("#"+e+0).val(a.getInt32(0)),$("#"+e+1).val(a.getInt32(4))}function convertLeastToArray(e,t){var a=new DataView(new ArrayBuffer(16));a.setBigInt64(8,BigInt(parseInt(t)),!1),$("#"+e+2).val(a.getInt32(8)),$("#"+e+3).val(a.getInt32(12))}function extractMinecraftID(e){return(e=-1!=e.indexOf(":")?e.substr(e.indexOf(":")+1):e).trim()}function extractMinecraftID113(t){if(-1!=t.indexOf("{")||-1!=t.indexOf("[")){let e=t.indexOf("{");(-1==e||-1!=t.indexOf("[")&&t.indexOf("[")<e)&&(e=t.indexOf("[")),t.indexOf(":")<e&&(settings.modifyNamespace(t.substr(0,t.indexOf(":"))),t=t.substr(t.indexOf(":")+1))}else settings.modifyNamespace(t.substr(0,t.indexOf(":"))),t=t.substr(t.indexOf(":")+1);for(var e="",a=0;a<t.length&&-1=="{[ ".indexOf(t.charAt(a));a++)e+=t.charAt(a);return e}function loadFireworksItemNBT(e,t){if(null!=t.Explosions)for(var a=t.Explosions.val,o=0;o<a.length;o++)addExplosion(e),loadExplosionNBT(e+"_exp_"+o,a[o])}function loadExplosionNBT(e,t){null!=t.Type&&$("#"+e+"Type").val(t.Type.val);var a=["Colors","FadeColors"];$("#"+e+"Flicker").prop("checked",null!=t.Flicker&&"1"==t.Flicker.val.charAt(0)),$("#"+e+"Trail").prop("checked",null!=t.Trail&&"1"==t.Trail.val.charAt(0));for(var o=0;o<a.length;o++)if(null!=t[a[o]])for(var n=t[a[o]].val,s=0;s<n.length;s++)addFWColor(e+a[o]),new jscolor.color(document.getElementById(e+a[o]+"_col_"+s+"_colour"),{}).fromString(getHexColor(n[s]))}function loadGossips(e,t){for(var a=0;a<e.length;a++)addGossip("Gossips"+t+"Pane",t),$("#Gossips"+t+"Pane_"+a+"Type").val(e[a].Type.val),$("#Gossips"+t+"Pane_"+a+"Value").val(e[a].Value.val),null!=e[a].TargetLeast&&null!=e[a].TargetMost?convertLeastMostToArray("Gossips"+t+"Pane_"+a+"Target",e[a].TargetLeast.val,e[a].TargetMost.val):null!=e[a].Target&&loadUUIDArrayNBT("Gossips"+t+"Pane_"+a+"Target",e[a].Target.val)}function loadInventory(e,t,a){for(var o=0;o<e.length;o++)setupItemSlotForNBT(o+"Inv"+t,e[o],a)}function loadMemories(e,t){if(null!=e.memories){var a=e.memories.val;for(mem in a){var o=null!=a[mem].val.value?a[mem].val.value:a[mem];null!=o.val.pos&&($("#Memories"+t+extractMinecraftID(mem)+"X").val(o.val.pos.val[0]),$("#Memories"+t+extractMinecraftID(mem)+"Y").val(o.val.pos.val[1]),$("#Memories"+t+extractMinecraftID(mem)+"Z").val(o.val.pos.val[2])),null!=o.val.dimension&&$("#Memories"+t+extractMinecraftID(mem)+"Dim").val(extractMinecraftID(o.val.dimension.val))}showHide("Memories"+t+"Pane","Memories"+t+"PaneSH")}}function loadRecipedUsedFromNBT(e,t){for(var a in $("#"+e+"_filter").val(""),t){var o=extractMinecraftID(a);$("#"+e).val(o),addRecipesUsed(e),$("#qty-"+e+"-"+o).val(t[a].val)}}function importTellrawJSON(e,t){try{if(tellrawJson.makeNewTellraw(e),null!=t.extra){var a=t.extra;delete t.extra,tellrawJson.updateSection(e,t);for(var o=0;o<a.length;o++)tellrawJson.addSectionFromObject(e,new Section(a[o]))}else{if(Array.isArray(t))for(var n=0;n<t.length;n++)tellrawJson.addSectionFromObject(e,new Section(t[n]));else tellrawJson.addSectionFromObject(e,new Section(t));tellrawJson.flipSection(e,1),tellrawJson.deleteSection(e)}tellrawPreview(e),tellrawJson.flipSection(e,1)}catch(e){}}function loadItemSpecificNBT(t,e,a,o){if("player_head"==e&&null!=t.SkullOwner){let e=t.SkullOwner.val;null!=e.Properties&&-1!=(e="SkullOwner:"+compoundToNBTString(e)).indexOf("Id:[")&&-1==e.indexOf("Id:[I;")&&(e=replaceAll("Id:[","Id:[I;",e)),$("#"+a+"SkullOwner").val(e)}else if("enchanted_book"==e&&null!=t.StoredEnchantments)for(var n=t.StoredEnchantments.val,s=0;s<n.length;s++){var i=n[s],r=getEnchantNumFromString(i.id.val);$("#"+a+"StoredEnchantments_enc_"+r).click(),$("#"+a+"StoredEnchantments_enc_"+r+"_lvl").val(parseInt(i.lvl.val))}else if("written_book"==e)deferOutput=deferJSONOutput=!0,loadWrittenBookFromNBT(a+"BookPane",t),deferOutput=deferJSONOutput=!1,bookUpdate(a+"BookPane");else if(-1!=e.indexOf("sign")){if(null!=t.BlockEntityTag){if(deferOutput=deferJSONOutput=!0,loadSignFromNBT(a+"SignPane",t.BlockEntityTag.val),null!=t.BlockEntityTag.val.CommandStats)for(p in l=t.BlockEntityTag.val.CommandStats.val)null!=l[p]&&$("#"+a+p).val(l[p].val);null!=t.BlockEntityTag.val.Color&&$("#"+a+"Color").val(t.BlockEntityTag.val.Color.val),null!=t.BlockEntityTag.val.GlowingText&&$("#"+a+"GlowingText").val(parseInt(t.BlockEntityTag.val.GlowingText.val)),deferOutput=deferJSONOutput=!1,signUpdate(a+"SignPane")}}else if(["command_block","repeating_command_block","chain_command_block"].includes(e)){if(null!=t.BlockEntityTag){var l,c=t.BlockEntityTag.val;for(p in c)if("CommandStats"==p)for(p in l=c[p].val)$("#"+a+p).val(l[p].val);else if("Command"==p)$("#"+a+p).val(c[p].val.replace(/\\"/g,'"').replace(/\\\\\\"/g,'\\"').replace(/\\'/g,"'"));else if("CustomName"==p){try{C=JSON.parse(JSON.parse('"'+c[p].val+'"'))}catch(i){C=JSON.parse(JSON.parse('"'+c[p].val.replace(/"/g,'\\"').replace(/\\'/g,"'")+'"'))}importTellrawJSON(a+"CustomName",C),showHide(a+"CustomNameEntityName",a+"CustomNameEntityNameSH")}else $("#"+a+p).val(parseInt(c[p].val));t.BlockEntityTag.val.CustomName}}else if("structure_block"==e&&null!=t.BlockEntityTag){var p,d=t.BlockEntityTag.val;for(p in d)"ignoreEntities"==p?$("#"+a+p).val(parseInt(d[p].val)):$("#"+a+p).val(d[p].val)}else if("compass"==e)null!=t.LodestoneDimension&&$("#"+a+"Dim").val(extractMinecraftID(t.LodestoneDimension.val)),null!=t.LodestoneTracked&&$("#"+a+"Tracked").val(parseInt(t.LodestoneTracked.val)),null!=t.LodestonePos&&($("#"+a+"X").val(t.LodestonePos.val.X.val),$("#"+a+"Y").val(t.LodestonePos.val.Y.val),$("#"+a+"Z").val(t.LodestonePos.val.Z.val));else if("filled_map"==e)null!=t.map&&$("#"+a+"map").val(t.map.val),null!=t.display&&null!=t.display.val.MapColor&&loadColorIntNBT(a+"MapColor",t.display.val.MapColor.val),null!=t.Decorations&&t.Decorations.val.forEach(function(e){var t=addMapDecoration(a+"Decorations");$("#"+t+"Type").val(parseInt(e.type.val)),$("#"+t+"id").val(e.id.val),$("#"+t+"x").val(parseFloat(e.x.val)),$("#"+t+"z").val(parseFloat(e.z.val)),$("#"+t+"rot").val(parseFloat(e.rot.val))});else if("writable_book"==e&&null!=t.pages)loadWritableBookFromNBT(a+"BookPane",t.pages.val);else if("firework_rocket"!=e&&"fireworks"!=e||null==t.Fireworks)if("firework_star"==e&&null!=t.Explosion)loadExplosionNBT(a+"Explosion_exp_0",t.Explosion.val);else if("armor_stand"==e&&null!=t.EntityTag){var m=e.substr(0,e.indexOf("_"));$("#entity"+entityIndex).val(m),$("#entity"+entityIndex).trigger("change"),o.loadSummonCommand(t.EntityTag.val,entityIndex)}else if("tropical_fish_bucket"!=e&&"cod_bucket"!=e&&"pufferfish_bucket"!=e&&"salmon_bucket"!=e&&"axolotl_bucket"!=e||null==t.EntityTag){if(-1!=e.indexOf("spawn_egg")&&null!=t.EntityTag){m=e.substr(0,e.indexOf("_spawn_egg"));null!=t.EntityTag.val.id?$("#entity"+entityIndex).val(extractMinecraftID(t.EntityTag.val.id.val)):$("#entity"+entityIndex).val(m),$("#entity"+entityIndex).trigger("change"),o.loadSummonCommand(t.EntityTag.val,entityIndex)}else if("potion"==e||"splash_potion"==e||"lingering_potion"==e||"tipped_arrow"==e)null!=t.CustomPotionEffects&&loadCustomEffectsNBT(a+"CustomPotionEffects",t.CustomPotionEffects.val),null!=t.Potion&&$("#"+a+"Potion").val(extractMinecraftID(t.Potion.val)),null!=t.CustomPotionColor&&loadColorIntNBT(a+"CustomPotionColor",t.CustomPotionColor.val);else if("crossbow"==e){var h=["Middle","Left","Right"];if(null!=t.ChargedProjectiles)for(var g,u=t.ChargedProjectiles.val,s=0;s<u.length&&s<3;s++)null!=u[s].id&&(g=extractMinecraftID(u[s].id.val),$("#"+a+h[s]+"Projectile").val(g),$("#"+a+h[s]+"Projectile").trigger("change"),"tipped_arrow"==g?null!=u[s].tag&&(null!=u[s].tag.val.CustomPotionEffects&&loadCustomEffectsNBT(a+h[s]+"ProjectileCustomPotionEffects",u[s].tag.val.CustomPotionEffects.val),null!=u[s].tag.val.Potion&&$("#"+a+h[s]+"ProjectilePotion").val(extractMinecraftID(u[s].tag.val.Potion.val)),null!=u[s].tag.val.CustomPotionColor)&&loadColorIntNBT(a+h[s]+"ProjectileCustomPotionColor",u[s].tag.val.CustomPotionColor.val):"firework_rocket"==g&&null!=u[s].tag&&(null!=u[s].tag.val.Fireworks.val.Flight&&$("#"+a+h[s]+"ProjectileFlight").val(parseInt(u[s].tag.val.Fireworks.val.Flight.val)),loadFireworksItemNBT(a+h[s]+"ProjectileExplosionPane",u[s].tag.val.Fireworks.val)))}else if("suspicious_stew"==e)null!=t.Effects&&loadStewEffectsNBT(a+"StewEffects",t.Effects.val);else if("spawner"==e){if(null!=t.BlockEntityTag)for(var _ in null!=t.BlockEntityTag.val.SpawnData&&loadSpawnPotentialFromNBT(o,"SpawnData",[t.BlockEntityTag.val.SpawnData.val],a),null!=t.BlockEntityTag.val.SpawnPotentials&&loadSpawnPotentialFromNBT(o,"SpawnPotentials",t.BlockEntityTag.val.SpawnPotentials.val,a),mobSpawnerNBT)null!=t.BlockEntityTag.val[_]&&$("#"+_+a).val(t.BlockEntityTag.val[_].val)}else if("bee_nest"==e||"beehive"==e)null!=t.BlockEntityTag&&loadBeeHiveNestFromNBT(o,t.BlockEntityTag.val,a);else if("bundle"==e){if(null!=t.Items){var b=a+"BundleItemsMultiItem";showHide(b+"Pane",b+"PaneSH");for(let e=0;e<t.Items.val.length;e++)addMultiItem(b+"Pane",!1),showHide(b+"Pane_"+e+"Pane",b+"Pane_"+e+"PaneSH"),setupItemSlotForNBT(b+"Pane_"+e,t.Items.val[e],o)}}else if("campfire"==e||"soul_campfire"==e){if(null!=t.BlockEntityTag){if(null!=t.BlockEntityTag.val.CookingTimes)for(var f=t.BlockEntityTag.val.CookingTimes.val,s=0;s<4&&s<f.length;s++)$("#"+a+"CookingTime"+s).val(f[s].trim());if(null!=t.BlockEntityTag.val.CookingTotalTimes)for(f=t.BlockEntityTag.val.CookingTotalTimes.val,s=0;s<4&&s<f.length;s++)$("#"+a+"CookingTotalTime"+s).val(f[s].trim());if(null!=t.BlockEntityTag.val.Items){var v=t.BlockEntityTag.val.Items.val;for(let e=0;e<v.length;e++){var k=replaceAll("b","",v[e].Slot.val);setupItemSlotForNBT(a+"Slot"+k,v[e],o)}}}}else if("painting"==e)null!=t.EntityTag&&null!=t.EntityTag.val.Motive&&$("#"+a+"Motive").val(extractMinecraftID(t.EntityTag.val.Motive.val));else if("item_frame"==e||"glow_item_frame"==e){if(null!=t.EntityTag){null!=t.EntityTag.val.Item&&(setupItemSlotForNBT(a+"ItemInFrame",t.EntityTag.val.Item.val,o),showHide(a+"ItemInFramePane",a+"ItemInFrameSH"));var y=["ItemRotation","Invulnerable","Invisible","Fixed"];for(let e=0;e<y.length;e++)null!=t.EntityTag.val[y[e]]&&$("#"+a+y[e]).val(parseInt(t.EntityTag.val[y[e]].val))}}else if("lectern"==e)null!=t.BlockEntityTag&&(null!=t.BlockEntityTag.val.Page&&$("#"+a+"Page").val(t.BlockEntityTag.val.Page.val),null!=t.BlockEntityTag.val.Book)&&(setupItemSlotForNBT(a+"Book",t.BlockEntityTag.val.Book.val,o),showHide(a+"BookPane",a+"BookSH"));else if("beacon"==e)null!=t.BlockEntityTag&&(null!=t.BlockEntityTag.val.Lock&&$("#"+a+"Lock").val(t.BlockEntityTag.val.Lock.val),null!=t.BlockEntityTag.val.Levels&&$("#"+a+"Levels").val(t.BlockEntityTag.val.Levels.val),null!=t.BlockEntityTag.val.Primary&&$("#"+a+"Primary").val(t.BlockEntityTag.val.Primary.val),null!=t.BlockEntityTag.val.Secondary)&&$("#"+a+"Secondary").val(t.BlockEntityTag.val.Secondary.val);else if(-1!=e.indexOf("banner")||"shield"==e||"barrel"==e||"chest"==e||"trapped_chest"==e||"brewing_stand"==e||"dispenser"==e||"dropper"==e||"furnace"==e||"blast_furnace"==e||"smoker"==e||"hopper"==e||-1!=e.indexOf("shulker_box")){if(null!=t.BlockEntityTag){if(null!=t.BlockEntityTag.val.Lock&&$("#"+a+"Lock").val(t.BlockEntityTag.val.Lock.val),-1!=e.indexOf("banner")||"shield"==e){let e="";var w;null!=t.BlockEntityTag.val.Base&&(e+=",Base:"+t.BlockEntityTag.val.Base.val),null!=t.BlockEntityTag.val.Patterns&&(w=compoundToNBTString(t),e+=",Patterns:"+extractSegment("[","]",w.indexOf("Patterns")+9,w)),e.length&&$("#"+a+"BlockEntityTag").val(e.substr(1))}else"barrel"==e||"chest"==e||"trapped_chest"==e||"dispenser"==e||"dropper"==e||"hopper"==e||-1!=e.indexOf("shulker_box")?(null!=t.BlockEntityTag.val.LootTable&&$("#"+a+"LootTable").val(t.BlockEntityTag.val.LootTable.val),"hopper"==e&&null!=t.BlockEntityTag.val.TransferCooldown&&$("#"+a+"TransferCooldown").val(t.BlockEntityTag.val.TransferCooldown.val)):"brewing_stand"==e?(null!=t.BlockEntityTag.val.BrewTime&&$("#"+a+"BrewTime").val(t.BlockEntityTag.val.BrewTime.val),null!=t.BlockEntityTag.val.Fuel&&$("#"+a+"Fuel").val(parseInt(t.BlockEntityTag.val.Fuel.val))):"furnace"!=e&&"blast_furnace"!=e&&"smoker"!=e||(null!=t.BlockEntityTag.val.BurnTime&&$("#"+a+"BurnTime").val(t.BlockEntityTag.val.BurnTime.val),null!=t.BlockEntityTag.val.CookTime&&$("#"+a+"CookTime").val(t.BlockEntityTag.val.CookTime.val),null!=t.BlockEntityTag.val.CookTimeTotal&&$("#"+a+"CookTimeTotal").val(t.BlockEntityTag.val.CookTimeTotal.val),"furnace"==e&&null!=t.BlockEntityTag.val.RecipesUsed&&loadRecipedUsedFromNBT(a+"RecipesUsed",t.BlockEntityTag.val.RecipesUsed.val));if(null!=t.BlockEntityTag.val.Items){var T=t.BlockEntityTag.val.Items.val;for(let e=0;e<T.length;e++){var S=replaceAll("b","",T[e].Slot.val);setupItemSlotForNBT(a+"Slot"+S,T[e],o)}}if(null!=t.BlockEntityTag.val.CustomName){var C;try{C=JSON.parse(JSON.parse('"'+t.BlockEntityTag.val.CustomName.val+'"'))}catch(i){C=JSON.parse(JSON.parse('"'+t.BlockEntityTag.val.CustomName.val.replace(/"/g,'\\"').replace(/\\'/g,"'")+'"'))}importTellrawJSON(a+"CustomName",C),showHide(a+"CustomNameEntityName",a+"CustomNameEntityNameSH")}}}else if("knowledge_book"==e&&null!=t.Recipes)for(s=0;s<t.Recipes.val.length;s++)addTileFromNBTLoad(a+"Recipes",extractMinecraftID(t.Recipes.val[s]))}else{var m=e.substr(0,e.indexOf("_bucket"));$("#entity"+entityIndex).val(m),$("#entity"+entityIndex).trigger("change"),o.loadSummonCommand(t.EntityTag.val,entityIndex)}else null!=t.Fireworks.val.Flight&&$("#"+a+"Flight").val(parseInt(t.Fireworks.val.Flight.val)),loadFireworksItemNBT(a+"ExplosionPane",t.Fireworks.val)}function setupItemSlotForNBT(e,t,a){var o;null!=t.id&&(o=extractMinecraftID(t.id.val),null!=t.Damage&&$("#"+e+" option[value='"+o+":"+t.Damage.val+"']").length&&(o+=":"+t.Damage.val),showHide(e+"Pane",e+"SH"),$("#"+e).length?($("#"+e).val(o),$("#"+e).trigger("change"),loadItemNBTIntoSlot(t,o,e,a)):(o=replaceAll(",tag{}","",attribConverter(a.traverseObjectToNBT(t,""))),cachedNBT.setNBT(e,","+o),$("#"+e+"itemPart").html("<div class='itemNBT'>{"+o+"}</div>")))}function attribConverter(t){var a=[["maxHealth","max_health"],["followRange","follow_range"],["knockbackResistance","knockback_resistance"],["movementSpeed","movement_speed"],["attackDamage","attack_damage"],["attackSpeed","attack_speed"],["armorToughness","armor_toughness"],["attackKnockback","attack_knockback"],["jumpStrength","jump_strength"],["spawnReinforcements","spawn_reinforcements"],["flyingSpeed","flying_speed"]];for(let e=0;e<a.length;e++)t=replaceAll(a[e][0],a[e][1],t);return t}function getCustomNameAndColor(e,t){e=tellrawJson.getJsonForTellraw(e.substr(1)+t);return e.length?",CustomName:"+jsonConvert(JSON.stringify(e)):""}function getCustomNameForBlock(e,t){return $(e+t).val().length?',CustomName:"'+$(e+t).val()+'"':""}function getTradeNBT(e){let t="";-1!=$("#"+e+"rewardExp").val()&&(t+=",rewardExp:"+$("#"+e+"rewardExp").val()+"b"),$("#"+e+"maxUses").val().length&&(t+=",maxUses:"+$("#"+e+"maxUses").val()),$("#"+e+"uses").val().length&&(t+=",uses:"+$("#"+e+"uses").val()),$("#"+e+"xp").val().length&&(t+=",xp:"+$("#"+e+"xp").val()),$("#"+e+"priceMultiplier").val().length&&(t+=",priceMultiplier:"+$("#"+e+"priceMultiplier").val()+"f"),$("#"+e+"specialPrice").val().length&&(t+=",specialPrice:"+$("#"+e+"specialPrice").val()),$("#"+e+"demand").val().length&&(t+=",demand:"+$("#"+e+"demand").val());var a=getItemNBT(e+"buy");return"{}"!=a&&(t+=",buy:"+a),"{}"!=(a=getItemNBT(e+"buyB"))&&(t+=",buyB:"+a),"{}"!=(a=getItemNBT(e+"sell"))&&(t+=",sell:"+a),t}function getExecuteString(){return $("#exeString").val()+" "}function generateCommand(){if(!(deferJSONOutput||deferOutput||deferHistoryOutput||$("#disableOutput").is(":checked")))if($("#commandOutput").show(),(parseInt($("#commandOutput").css("top"))<0||parseInt($("#commandOutput").css("top"))>$(window).height()||parseInt($("#commandOutput").css("left"))<0||parseInt($("#commandOutput").css("left"))>$(window).width())&&$("#commandOutput").css({top:0,left:$(window).width()-510}),"loot_table"==currentCommand)$("#commandOutput-ta").val(generateLootTable()),$("#commandString").val($("#commandOutput-ta").val()),outputCharacterCount("");else{var e,t,a,o,n,s,i,r,l,c,p,d,m,h=settings.removeSlash?"":"/";h+=settings.commandPrefix.length?settings.commandPrefix+":":"";try{$("#exeString").length&&(h+=getExecuteString()),h+=currentCommand+" ","summon"==currentCommand?(o=getCoordsString("Summon"),settings.namespace.length&&(h+=settings.namespace+":"),h+=$("#entity0").val()+" "+o[0]+" "+o[1]+" "+o[2],s=entityDescriptors.e0.getEntitySpecificCommand(0),cachedNBT.setNBT("e0",s),0<s.length&&(h+=" {"+s.substring(1)+"}")):"execute if entity"==currentCommand||"kill"==currentCommand?(s=entityDescriptors.e0.getEntitySpecificCommand(0),cachedNBT.setNBT("e0",s),$("#nbt0").val("{"+s.substring(1)+"}"),h+=getTargetSelectorString1p13()):"give"==currentCommand?(h+=getTargetSelectorString1p13(),0<(s=getItemNBTForGive1p13("GiveItem0")).length&&(h+=s)):"teleport"==currentCommand?(h+=getTargetSelectorStringGeneric("entity0")+" ","block"==$("#target0").val()?(h+=(o=getCoordsString("Block"))[0]+" "+o[1]+" "+o[2],"facingCoords"==$("#facingType").val()?h+=" facing "+(o=getCoordsString("FacingCoords"))[0]+" "+o[1]+" "+o[2]:"facingEntity"==$("#facingType").val()?(h+=" facing entity "+getTargetSelectorStringGeneric("facingtarget0"),"unset"!=$("#Anchor0").val()&&(h+=" "+$("#Anchor0").val())):"rotation"==$("#facingType").val()&&($("#Yaw0").val().length?h+=" "+$("#Yaw0").val():h+=" 0.0",$("#Pitch0").val().length?h+=" "+$("#Pitch0").val():h+=" 0.0")):h+=getTargetSelectorStringGeneric("target0")):"item"==currentCommand?("modify"==$("#itemCmdMode").val()?h+="modify ":h+="replace ","block"==$("#replaceitem").val()?(h+="block "+(o=getCoordsString("Block"))[0]+" "+o[1]+" "+o[2],$("#Slot0").val().length?h+=" container."+$("#Slot0").val():h+=" container.0"):h+="entity "+getTargetSelectorStringGeneric("replaceitem")+" "+$("#Slot0").val(),"modify"==$("#itemCmdMode").val()?h+=" "+$("#ItemModifier0").val():"copy"==$("#itemCmdMode").val()?(h+=" from","block"==$("#itemCopyType").val()?(h+=" block "+(o=getCoordsString("BlockCopy"))[0]+" "+o[1]+" "+o[2],$("#SlotCopy0").val().length?h+=" container."+$("#SlotCopy0").val():h+=" container.0"):h+=" entity "+getTargetSelectorStringGeneric("itemCopyType")+" "+$("#SlotCopy0").val()):0<(s=getItemNBTForGive1p13("GiveItem0")).length&&(h+=" with"+s)):"setblock"==currentCommand?(h+=(o=getCoordsString("Block"))[0]+" "+o[1]+" "+o[2]+" ",settings.namespace.length&&(h+=settings.namespace+":"),e=block.getBlockNBT(),h+=$("#block").val()+getBlockStates($("#block").val(),"BS0")+e,cachedNBT.setBlockNBT("BS0",e),h+=" "+$("#blockHandle").val()):"fill"==currentCommand?(h=(h+=(o=getCoordsString("Corner"))[0]+" "+o[1]+" "+o[2])+" "+(o=getCoordsString("Opposite"))[0]+" "+o[1]+" "+o[2]+" ",settings.namespace.length&&(h+=settings.namespace+":"),t=block.getBlockNBT(),h+=$("#block").val()+getBlockStates($("#block").val(),"BS0")+t,cachedNBT.setBlockNBT("BS0",t),h+=" "+$("#blockHandle").val(),"destroy"!=$("#blockHandle").val()&&-1!=$("#replaceblock").val()&&(h+=" ",settings.namespace.length&&(h+=settings.namespace+":"),h+=$("#replaceblock").val()+getBlockStates($("#replaceblock").val(),"ReplaceBS0"))):"loot"==currentCommand?(h+=$("#targetType").val(),"spawn"==$("#targetType").val()||"insert"==$("#targetType").val()||"replace block"==$("#targetType").val()?h+=" "+(o=getCoordsString("Loot"))[0]+" "+o[1]+" "+o[2]:"give"!=$("#targetType").val()&&"replace entity"!=$("#targetType").val()||(h+=" "+getTargetSelectorStringGeneric("entity0")),"replace entity"!=$("#targetType").val()&&"replace block"!=$("#targetType").val()||(h+=" "+$("#slot").val()),h+=" "+$("#sourceType").val(),"loot"==$("#sourceType").val()||"fish"==$("#sourceType").val()?(h+=" "+$("#LootTable").val(),"fish"==$("#sourceType").val()&&(h=(h+=" "+(o=getCoordsString("Fishing"))[0]+" "+o[1]+" "+o[2])+(s=getItemNBTForGive1p13("FishingTool0")).substr(0,s.lastIndexOf(" ")))):"mine"==$("#sourceType").val()?h=(h+=" "+(o=getCoordsString("Mining"))[0]+" "+o[1]+" "+o[2])+(s=getItemNBTForGive1p13("MiningTool0")).substr(0,s.lastIndexOf(" ")):"kill"==$("#sourceType").val()&&(h+=" "+getTargetSelectorStringGeneric("kill0"))):"bossbar"==currentCommand?(h+=$("#action").val()+" "+$("#ID0").val().toLowerCase(),"set"!=$("#action").val()||(h+=" "+$("#set").val(),"name"==$("#set").val())?h+=" "+tellrawJson.getJsonForTellraw("bossbarPane"):"players"==$("#set").val()&&(h+=" "+getVersionSpecificTargetSelectorString())):"team"==currentCommand?(h+=$("#add_modify").val()+" "+($("#team").val()||"TeamName")+" ","modify"==$("#add_modify").val()&&(h+=$("#Part0").val()+" "),h+=tellrawJson.getJsonForTellraw("teamPane")):"scoreboard"==currentCommand?(h+="objectives "+$("#add_modify").val()+" "+($("#objective").val()||"ObjectiveName")+" ","add"==$("#add_modify").val()?h+=$("#Criteria0").val()||"dummy":h+="displayname",h+=" "+tellrawJson.getJsonForTellraw("scoreboardPane")):"tellraw"==currentCommand||"title"==currentCommand?(h+=getVersionSpecificTargetSelectorString(),"title"==currentCommand&&(h+=" "+$("#titleType").val()),h+=" "+tellrawJson.getJsonForTellraw("tellrawPane")):"playsound"==currentCommand?(h+=$("#sound").val()+" "+$("#source").val()+" "+getVersionSpecificTargetSelectorString(),a=(o=getCoordsString("Position"))[0]+" "+o[1]+" "+o[2],$("#Position").val().length&&(h+=" "+a,$("#volume").val().length)&&(h+=" "+$("#volume").val(),$("#pitch").val().length)&&(h+=" "+$("#pitch").val(),$("#minvolume").val().length)&&(h+=" "+$("#minvolume").val())):"effect"==currentCommand?(h+="give "+getTargetSelectorStringGeneric("entity0")+" ",settings.namespace.length&&(h+=settings.namespace+":"),h+=statuseffects1p13[$("#effect").val()],$("#seconds").val().length&&(-1!=["saturation","instant_health","instant_damage"].indexOf(statuseffects1p13[$("#effect").val()])?h+=" "+20*parseFloat($("#seconds").val()):h+=" "+$("#seconds").val(),$("#amplifier").val().length)&&(h+=" "+$("#amplifier").val(),"true"==$("#hideParticles").val())&&(h+=" true")):"data merge block"==currentCommand?(o=getCoordsString("Block"),n=block.getBlockNBT(),cachedNBT.setBlockNBT("BS0",n),h+=o[0]+" "+o[1]+" "+o[2]+" "+n):"data merge entity"==currentCommand?(h+=getTargetSelectorString1p13(),s=entityDescriptors.e0.getEntitySpecificCommand(0),cachedNBT.setNBT("e0",s),0<s.length&&(h+=" {"+s.substr(1)+"}")):"particle"==currentCommand&&(h+=$("#name").val(),"vibration"==$("#name").val()&&(i=getCoordsString("FromCoords"),r=getCoordsString("ToCoords"),h+=" "+i[0]+" "+i[1]+" "+i[2]+" "+r[0]+" "+r[1]+" "+r[2]+" ",l=parseInt($("#travelTime0").val())||20,"Seconds"==$("#travelTime0TT").html()?h+=20*l:h+=l),c=(c=getCoordsString("Location"))[0]+" "+c[1]+" "+c[2],d=" "+(p=getCoords("xd","yd","zd",!1))[0]+" "+p[1]+" "+p[2],"dust"==$("#name").val()||"dust_color_transition"==$("#name").val()?(m=$("#mobSpell_color").val(),h+=" "+parseFloat(hexToR(m)/255).toFixed(3)+" "+parseFloat(hexToG(m)/255).toFixed(3)+" "+parseFloat(hexToB(m)/255).toFixed(3)+" "+$("#dustSize").val(),"dust_color_transition"==$("#name").val()&&(m=$("#mobSpell_color_to").val(),h+=" "+parseFloat(hexToR(m)/255).toFixed(3)+" "+parseFloat(hexToG(m)/255).toFixed(3)+" "+parseFloat(hexToB(m)/255).toFixed(3))):"falling_dust"==$("#name").val()||"block"==$("#name").val()?h+=" "+$("#block").val()+getBlockStates($("#block").val(),"BS0"):"item"==$("#name").val()&&(h+=" "+$("#item0").val()),h=(h+=" "+c+d)+" "+$("#speed").val(),$("#count").val().length)&&(h+=" "+$("#count").val()+" "+$("#mode").val(),$("#TSPane").is(":visible"))&&(h+=" "+getVersionSpecificTargetSelectorString()),outputCharacterCount(h),$("#commandOutput-ta").val(h),$("#commandString").val(h),addToHistory(h)}catch(e){$("#commandOutput-ta").val("Could not generate command.\n"+e.toString())}}}function outputCharacterCount(e){let t="";0==e.length?$("#outputLength").html("Loot Table"):($("#outputLength").html("Command Output: "+e.length+" characters"),t=e.length<=256?"This command is short enough to run in the chat bar. (<256)":e.length<=32500?"This command is too long to run in the chat bar. It can only be executed from a command block or function file. (>256)":"This command is too long  to run in the chat bar or a command block. It can only be executed from a function file. (>32500)"),document.getElementById("outputLength").title=t}function clearOutputCharacterCount(){document.getElementById("outputLength").title="",$("#outputLength").html("Command Output")}function getVersionSpecificTargetSelectorString(){return getTargetSelectorString1p13()}function getBlockStates(e,t){if(e in blockStates){var a,o="";for(a in blockStates[e])"unset"!=$("#"+a+t).val()&&(o+=","+a+"="+$("#"+a+t).val());return 0==o.length?"":"["+o.substr(1)+"]"}return""}function getCoordsString(e){if(""==$("#"+e).val().trim())return["~","~","~"];var t=$("#"+e).val().trim().split(" ");for(0==t.length&&(t=[]);t.length<3;)t.push("~");return t}function getCoords(e,t,a,o){return x=0<$("#"+e).val().length&&$("#"+o).is(":checked")?"~"+$("#"+e).val():0<$("#"+e).val().length&&!$("#"+o).is(":checked")?$("#"+e).val():0==$("#"+e).val().length&&$("#"+o).is(":checked")?"~":"0",y=0<$("#"+t).val().length&&$("#"+o).is(":checked")?"~"+$("#"+t).val():0<$("#"+t).val().length&&!$("#"+o).is(":checked")?$("#"+t).val():0==$("#"+t).val().length&&$("#"+o).is(":checked")?"~":"0",z=0<$("#"+a).val().length&&$("#"+o).is(":checked")?"~"+$("#"+a).val():0<$("#"+a).val().length&&!$("#"+o).is(":checked")?$("#"+a).val():0==$("#"+a).val().length&&$("#"+o).is(":checked")?"~":"0",[x,y,z]}function getTargetCompound(e,t){var a;return $("#"+t+"X"+e).val().length&&$("#"+t+"Y"+e).val().length&&$("#"+t+"Z"+e).val().length?(a=","+t+":{X:"+$("#"+t+"X"+e).val(),(a=(a+=",Y:"+$("#"+t+"Y"+e).val())+(",Z:"+$("#"+t+"Z"+e).val()))+"}"):""}function getFWColors(e,t){var a="";return $("#"+e+t+" > .fwColor").each(function(e){a+=","+colourConvert($("#"+this.id+"_colour").val())}),a.length?","+t+":[I;"+a.substr(1)+"]":a}function getHandAndArmorItmes(e){var t="",a=getItemNBT("Holding"+e)+","+getItemNBT("Offhand"+e),a=("{},{}"!=a&&(t+=",HandItems:["+a+"]",hasValue("Holding"+e+"DropChance")||hasValue("Offhand"+e+"DropChance")?t+=",HandDropChances:"+constructDropChance(["Holding"+e+"DropChance","Offhand"+e+"DropChance"]):(null!=cachedNBT.dropChance["Holding"+e]&&""!=cachedNBT.dropChance["Holding"+e]||null!=cachedNBT.dropChance["Offhand"+e]&&""!=cachedNBT.dropChance["Offhand"+e])&&(t+=",HandDropChances:"+constructDropChanceFromCache([cachedNBT.dropChance["Holding"+e],cachedNBT.dropChance["Offhand"+e]]))),getItemNBT("Boot"+e)+","+getItemNBT("Leg"+e)+","+getItemNBT("Body"+e)+","+getItemNBT("Head"+e));return"{},{},{},{}"!=a&&(t+=",ArmorItems:["+a+"]",hasValue("Boot"+e+"DropChance")||hasValue("Leg"+e+"DropChance")||hasValue("Body"+e+"DropChance")||hasValue("Head"+e+"DropChance")?t+=",ArmorDropChances:"+constructDropChance(["Boot"+e+"DropChance","Leg"+e+"DropChance","Body"+e+"DropChance","Head"+e+"DropChance"]):(null!=cachedNBT.dropChance["Boot"+e]&&""!=cachedNBT.dropChance["Boot"+e]||null!=cachedNBT.dropChance["Leg"+e]&&""!=cachedNBT.dropChance["Leg"+e]||null!=cachedNBT.dropChance["Body"+e]&&""!=cachedNBT.dropChance["Body"+e]||null!=cachedNBT.dropChance["Head"+e]&&""!=cachedNBT.dropChance["Head"+e])&&(t+=",ArmorDropChances:"+constructDropChanceFromCache([cachedNBT.dropChance["Boot"+e],cachedNBT.dropChance["Leg"+e],cachedNBT.dropChance["Body"+e],cachedNBT.dropChance["Head"+e]]))),t}function constructDropChance(t){let a="";for(let e=0;e<t.length;e++){var o=t[e].substr(0,t[e].indexOf("DropChance"));$("#"+t[e]).length&&$("#"+t[e]).val().length?a+=","+parseFloat($("#"+t[e]).val()).toFixed(3)+"F":null!=cachedNBT.dropChance[o]&&""!=cachedNBT.dropChance[o]?a+=","+parseFloat(cachedNBT.dropChance[o]).toFixed(3)+"F":a+=",0.085F"}return"["+a.substr(1)+"]"}function constructDropChanceFromCache(t){let a="";for(let e=0;e<t.length;e++)null==t[e]||""==t[e]?a+=",0.085F":a+=","+parseFloat(t[e]).toFixed(3)+"F";return"["+a.substr(1)+"]"}function hasValue(e){return $("#"+e).length&&""!=$("#"+e).val()}function getStatusEffectsNBT(e,t){var a,o="";for(se in statusEffects)"-1"!=statusEffects[se][0]&&$("#"+t+"Amp_"+statusEffects[se][0]).val().length&&$("#"+t+"Ticks_"+statusEffects[se][0]).val().length&&(a=$("#"+t+"Ticks_"+statusEffects[se][0]).val(),"Seconds"==$("#"+t+"Ticks_"+statusEffects[se][0]+"TT").html()&&(a*=20),o+=",{Id:"+statusEffects[se][0]+"b,Amplifier:"+$("#"+t+"Amp_"+statusEffects[se][0]).val()+"b,Duration:"+a,-1!=$("#"+t+"ShowParticles_"+statusEffects[se][0]).val()&&(o+=",ShowParticles:"+$("#"+t+"ShowParticles_"+statusEffects[se][0]).val()),o+="}");return o.length?","+e+":["+o.substr(1)+"]":o}function getStewEffectsNBT(e,t){var a,o="";for(se in statusEffects)-1!=statusEffects[se][0]&&$("#"+t+"Ticks_"+statusEffects[se][0]).val().length&&(a=$("#"+t+"Ticks_"+statusEffects[se][0]).val(),"Seconds"==$("#"+t+"Ticks_"+statusEffects[se][0]+"TT").html()&&(a*=20),o+=",{EffectId:"+statusEffects[se][0]+"b,EffectDuration:"+a+"}");return o.length?","+e+":["+o.substr(1)+"]":o}function getPassengersNBT(e){var t="";return $("#Passengers"+e+"Pane > .passengerContainer").each(function(){var e=parseInt(this.id.substr(this.id.indexOf("_")+1));t+=',{id:"minecraft:'+$("#entity"+e).val()+'"'+entityDescriptors["e"+e].getEntitySpecificCommand(e)+"}",cachedNBT.setNBT("e"+e,',id:"minecraft:'+$("#entity"+e).val()+'"'+entityDescriptors["e"+e].getEntitySpecificCommand(e))}),t.length?",Passengers:["+t.substr(1)+"]":t}function getSpawnPotentailsNBT(e,t){var a="",o=[];if($("#SpawnPotential"+e+"Pane > .spawnPotentialContainer").each(function(e){var t=parseInt(this.id.substr(this.id.indexOf("_")+1));o[e]=[],o[e].entity='{id:"minecraft:'+$("#entity"+t).val()+'"'+entityDescriptors["e"+t].getEntitySpecificCommand(t)+getMotion(t,"Pos")+"}",o[e].weight=$("#Weight"+t).val().length?$("#Weight"+t).val():1,cachedNBT.setNBT("e"+t,',id:"minecraft:'+$("#entity"+t).val()+'"'+entityDescriptors["e"+t].getEntitySpecificCommand(t)+getMotion(t,"Pos"))}),1<o.length||t){if(0<o.length){for(var n=0;n<o.length;n++)a+=",{Weight:"+o[n].weight+",Entity:"+o[n].entity+"}";return",SpawnData:"+o[0].entity+",SpawnPotentials:["+a.substr(1)+"]"}return a}return 1==o.length?",SpawnData:"+o[0].entity:a}function getBeesForHiveNBT(e){let o="";return $("#Bees"+e+"Pane > .spawnPotentialContainer").each(function(e){var t=parseInt(this.id.substr(this.id.indexOf("_")+1)),a=getNBTforKey("MinOccupationTicks",{type:"ticks"},t),a=(a+=getNBTforKey("TicksInHive",{type:"ticks"},t))+(',EntityData:{id:"minecraft:'+$("#entity"+t).val()+'"'+entityDescriptors["e"+t].getEntitySpecificCommand(t)+"}");o+=",{"+a.substr(1)+"}"}),o.length?",Bees:["+o.substr(1)+"]":""}function getItemNBT(e,t){let a="";if(-1!=$("#"+e).val()&&null!=$("#"+e).val()){if(a+=getItemTag($("#"+e).val()),null==t)try{a+=",Count:",0<$("#"+e+"Count").val().length?a+=$("#"+e+"Count").val()+"b":a+="1b"}catch(e){a+="1b"}else"CountOptional"==t&&(0<$("#"+e+"Count").val().length&&(a+=",Count:"+$("#"+e+"Count").val()+"b"),0<$("#"+e+"Slot").val().length)&&(a+=",Slot:"+$("#"+e+"Slot").val()+"b");a+=getItemTagNBT(e,!0),cachedNBT.setNBT(e,","+a),$("#"+e+"DropChance").length&&(cachedNBT.dropChance[e]=$("#"+e+"DropChance").val())}else{t=cachedNBT.getNBT(e);if(t)return t}return"{"+a+"}"}function getItemNBTForGive1p13(t){var a=" ";if(-1!=$("#"+t).val()&&null!=$("#"+t).val()){var o=$("#"+t).val();settings.namespace.length&&(a+=settings.namespace+":"),a+=o.split(":")[0];let e="";o=getItemTagNBT(t,!1);o.length&&(a+="{"+o.substr(1)+"}");try{0<$("#"+t+"Count").val().length?(a+=" "+$("#"+t+"Count").val(),e=",Count:"+$("#"+t+"Count").val()):a+=" 1"}catch(e){a+=" 1"}e+=getItemTagNBT(t,!0),cachedNBT.setNBT(t,e)}else{o=cachedNBT.getNBT(t);if(o)return o}return a}function getItemTagNBT(e,t){for(var a=getCanPlaceOnOrDestroy(e,"CanPlaceOn"),o=(a=(a+=getCanPlaceOnOrDestroy(e,"CanDestroy"))+getItemDisplayNBT(e),0),n=1,s=0;s<flags.length;s++)$("#"+e+"HF"+flags[s]).is(":checked")&&(o+=n),n*=2;return 0!=o&&(a+=",HideFlags:"+o),0!=$("#"+e+"RepairCost").length&&$("#"+e+"RepairCost").val().length&&(a+=",RepairCost:"+$("#"+e+"RepairCost").val()),0!=$("#"+e+"Unbreakable").length&&-1!=$("#"+e+"Unbreakable").val()&&(a+=",Unbreakable:"+$("#"+e+"Unbreakable").val()+"b"),0!=$("#"+e+"Damage").length&&$("#"+e+"Damage").val().length&&(a+=",Damage:"+$("#"+e+"Damage").val()),0!=$("#"+e+"CustomModelData").length&&$("#"+e+"CustomModelData").val().length&&(a+=",CustomModelData:"+$("#"+e+"CustomModelData").val()),0!=$("#"+e+"CustomTags").length&&$("#"+e+"CustomTags").val().length&&(a+=","+$("#"+e+"CustomTags").val()),0<(a=(a=(a=(a+=getEnchantments(e,"Enchantments"))+getItemAttributeModifiers(e))+getItemSpecificNBT(e))+getItemBlockStates(e)).length&&t?",tag:{"+a.substr(1)+"}":a}function getItemBlockStates(e){var t=$("#"+e).val();if(t in blockStates){var a,o="";for(a in blockStates[t])$("#"+a+e).length&&"unset"!=$("#"+a+e).val()&&(o+=","+a+':"'+$("#"+a+e).val()+'"');return 0==o.length?"":",BlockStateTag:{"+o.substr(1)+"}"}return""}function getItemDisplayNBT(e){var t="",a=tellrawJson.getJsonForTellraw(e+"ItemName"),a=(a.length&&(t+=",Name:"+jsonConvert(JSON.stringify(a))),tellrawJson.getJsonForLore(e+"Lore"));return a.length&&(t+=",Lore:["+a.substr(1)+"]"),isLeatherArmor($("#"+e).val())?t+=getColorInteger(e+"Color","color"):"filled_map"==$("#"+e).val()&&(t+=getColorInteger(e+"MapColor","MapColor")),0<t.length?",display:{"+t.substr(1)+"}":t}function jsonConvert(e){e=replaceAll('\\\\"',"DOUBLE_QUOTE_PLACEHOLDER",e=e.substr(1,e.length-2));return e=replaceAll('\\"','"',e),"'"+(e=replaceAll("DOUBLE_QUOTE_PLACEHOLDER",'\\"',e)).replace(/'/g,"\\'")+"'"}function getColorInteger(e,t){return $("#"+e+"_customcol").is(":checked")?","+t+":"+colourConvert($("#"+e+"_color").val()):""}function colourConvert(e){return 65536*hexToR(e)+256*hexToG(e)+hexToB(e)}function getCanPlaceOnOrDestroy(e,t){var a="";return $("#"+e+t+"TilePane > .anchorButton").each(function(){a+='"minecraft:'+this.innerHTML.split(" ")[0]+'",'}),0<a.length?","+t+":["+a.substr(0,a.length-1)+"]":""}function getEnchantments(e,t){var a="";return $("#"+e+t+" .enchantCB").each(function(){var e;$("#"+this.id).is(":checked")&&(e=this.id.substr(this.id.lastIndexOf("_")+1),a+=',{id:"minecraft:'+replaceAll(" ","_",enchantables[e][0]).toLowerCase()+'",lvl:',$("#"+this.id+"_lvl").val().length?(e=parseInt($("#"+this.id+"_lvl").val()),a+=(e=255<e?255:e)+"s}"):a+="1s}")}),0<a.length?",Enchantments:["+a.substr(1)+"]":$("#"+e+"Enchantments_enc_glintOnly").is(":checked")?",Enchantments:[{}]":a}function getItemAttributeModifiers(e){var a="";return $("#"+e+"AMtable .amRow").each(function(){var e,t=this.id.substr(0,this.id.lastIndexOf("_"));$("#"+t+"_amount").val().length&&(e=$("#"+t+"_mods").val(),a+=',{AttributeName:"generic.'+e+'",Name:"generic.'+e+'",Amount:'+$("#"+t+"_amount").val()+",Operation:"+$("#"+t+"_operation").val(),settings.randmizeUUIDs&&convertHexUUIDToArray(t+"_UUID",getRandomUUIDv4()),(e=getUUIDArray(t+"_UUID")).length&&(a+=",UUID:"+e),"Any"!=$("#"+t+"_slot").val()&&(a+=',Slot:"'+$("#"+t+"_slot").val()+'"'),a+="}")}),0<a.length?",AttributeModifiers:["+a.substr(1)+"]":a}function getItemTag(e){var t;return null==e?"":(-1!=e.indexOf(":")?(t=e.split(":")[0],e.split(":")[1]):t=e,'id:"minecraft:'+t+'"')}function getRandomUUIDv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}function getOwnerUUIDNBT(e){return $("#OwnerUUIDLeast"+e).val().length&&$("#OwnerUUIDMost"+e).val().length?",Owner:{OwnerUUIDLeast:"+$("#OwnerUUIDLeast"+e).val()+",OwnerUUIDMost:"+$("#OwnerUUIDMost"+e).val()+"}":""}function getRecipesUsed(e){var t="";return $("."+e+" > .recipeUsedQTY").each(function(){var e=this.id.split("-");t+=',"minecraft:'+e[2]+'":'+$("#"+this.id).val()}),0<t.length?",RecipesUsed:{"+t.substr(1)+"}":""}function getUUIDArray(e){return $("#"+e+0).val()&&$("#"+e+1).val()&&$("#"+e+2).val()&&$("#"+e+3).val()?"[I;"+$("#"+e+0).val()+","+$("#"+e+1).val()+","+$("#"+e+2).val()+","+$("#"+e+3).val()+"]":""}function getAngryAt(e){e=getUUIDArray("AngryAt"+e);return e.length?",AngryAt:"+e:""}function getNBTforKey(e,t,a){if("special"==t.format)return"";var o="";if("text"==t.type)$("#"+e+a).val()&&(o=$("#"+e+a).val());else if("choice"==t.type||"makeSelect"==t.type||"makeSelectWithIndexes"==t.type)-1!=$("#"+e+a).val()&&(o=$("#"+e+a).val());else if("ticks"==t.type){if($("#"+e+a).val())return o=$("#"+e+a).val(),"Seconds"==$("#"+e+a+"TT").html()?","+e+":"+20*o:","+e+":"+o}else if("UUIDArray"==t.type)o=getUUIDArray(e+a);else if("colorChooser"==t.type)return getColorInteger(e+a,e);return 0<o.length?"b"==t.format?","+e+":"+o+"b":"f"==t.format?","+e+":"+o+"f":"string"==t.format?","+e+":"+JSON.stringify(o):"short"!=t.format&&"long"!=t.format&&"int"!=t.format&&"d"==t.format?","+e+":"+o+"d":","+e+":"+o:""}function getRotation(e){var t=0<$("#Yaw"+e).val().length?$("#Yaw"+e).val()+"F":"0F";return 0<$("#Pitch"+e).val().length?t+=","+$("#Pitch"+e).val()+"F":t+=",0F","0F,0F"!=t?",Rotation:["+t+"]":""}function getMotion(t,a){if(0==$("#"+a+"X"+t).val().length&&0==$("#"+a+"Y"+t).val().length&&0==$("#"+a+"Z"+t).val().length)return"";{let e=","+a+":[";return $("#"+a+"X"+t).val().length?(e+=$("#"+a+"X"+t).val(),-1==$("#"+a+"X"+t).val().indexOf(".")&&(e+=".0")):e+="0.0",$("#"+a+"Y"+t).val().length?(e+=","+$("#"+a+"Y"+t).val(),-1==$("#"+a+"Y"+t).val().indexOf(".")&&(e+=".0")):e+=",0.0",$("#"+a+"Z"+t).val().length?(e+=","+$("#"+a+"Z"+t).val(),-1==$("#"+a+"Z"+t).val().indexOf(".")&&(e+=".0")):e+=",0.0",e+"]"}}function getPotion(e,t){return"-1"!=$("#"+t).val()?","+e+':"minecraft:'+$("#"+t).val()+'"':""}function hexToR(e){return parseInt(cutHex(e).substring(0,2),16)}function hexToG(e){return parseInt(cutHex(e).substring(2,4),16)}function hexToB(e){return parseInt(cutHex(e).substring(4,6),16)}function cutHex(e){return"#"==e.charAt(0)?e.substring(1,7):e}function floatToHex(e){e=(1<=e?255:e<=0?0:Math.floor(256*e)).toString(16);return 1==e.length?"0"+e:e}function getFireworksItemNBT(e){var t="",a=($("#"+e+"Flight").val().length&&(t+=",Flight:"+$("#"+e+"Flight").val()+"b"),"");return $("#"+e+"ExplosionPane > .explosion").each(function(e){var t=this.id;a+=getExplosionNBT(t)}),a.length&&(t+=",Explosions:["+a.substr(1)+"]"),t.length?",Fireworks:{"+t.substr(1)+"}":""}function getExplosionNBT(e){var t=",{Type:"+$("#"+e+"Type").val();return $("#"+e+"Flicker").is(":checked")&&(t+=",Flicker:1b"),$("#"+e+"Trail").is(":checked")&&(t+=",Trail:1b"),t=(t+=getFWColors(e,"Colors"))+(getFWColors(e,"FadeColors")+"}")}function compoundToNBTString(e){var t,a="";for(t in e){var o=e[t];if("raw"==o.type)a+=","+t+":"+o.val;else if("string"==o.type)a+=","+t+':"'+o.val+'"';else if("compound"==o.type)a+=","+t+":"+compoundToNBTString(o.val);else if("arrayOfVals"==o.type||"arrayOfStrings"==o.type){a+=","+t+":[";var n="";if("arrayOfVals"==o.type)for(var s=0;s<o.val.length;s++)n+=","+o.val[s];else for(s=0;s<o.val.length;s++)n+=',"'+o.val[s]+'"';a+=n.substr(1)+"]"}else if("arrayOfCompounds"==o.type){a+=","+t+":[";for(n="",s=0;s<o.val.length;s++)n+=","+compoundToNBTString(o.val[s]);a+=n.substr(1)+"]"}}return"{"+a.substr(1)+"}"}function getItemSpecificNBT(o){var n="";if("enchanted_book"==(h=$("#"+o).val()))n+=replaceAll("Enchantments","StoredEnchantments",getEnchantments(o,"StoredEnchantments"));else if("player_head"==h)(n=$("#"+o+"SkullOwner").val()).length&&(n=-1!=n.indexOf("SkullOwner:{")?",SkullOwner:"+(n=extractSegment("{","}",n.indexOf("SkullOwner:{")+11,n)):',SkullOwner:"'+n+'"');else if("written_book"==h)n=getWrittenBookNBT(o+"BookPane");else if(["command_block","repeating_command_block","chain_command_block"].includes(h)){var e="",t=getCommandBlockFieldsFormNBT();for(f in t)e+=getNBTforKey(o+f,t[f],"");var e=replaceAll(o,"",e),a="";for(f in i=getCommandStatsFormNBT())a+=getNBTforKey(o+f,i[f],"");a.length&&(e+=",CommandStats:{"+replaceAll(o,"",a.substr(1))+"}");var s=jsonConvert(JSON.stringify(tellrawJson.getJsonForTellraw(o+"CustomName")));2<s.length&&(e+=",CustomName:"+s),e.length&&(n=",BlockEntityTag:{"+e.substr(1)+"}")}else if(-1!=h.indexOf("sign")){var i,a="";for(f in i=getCommandStatsFormNBT())a+=getNBTforKey(o+f,i[f],"");a.length&&(n+=",CommandStats:{"+replaceAll(o,"",a.substr(1))+"}"),"unset"!=$("#"+o+"Color").val()&&(n+=',Color:"'+$("#"+o+"Color").val()+'"'),-1!=$("#"+o+"GlowingText").val()&&(n+=",GlowingText:"+$("#"+o+"GlowingText").val()+"b"),n=",BlockEntityTag:{"+(n+=signJson.getJsonForSign(o+"SignPane")).substr(1)+"}"}else if("structure_block"==h){var r="";for(f in structureBlockNBT)r+=getNBTforKey(o+f,structureBlockNBT[f],"");r.length&&(n+=",BlockEntityTag:{"+replaceAll(o,"",r.substr(1))+"}")}else if("compass"==h)"unset"!=$("#"+o+"Dim").val()&&(n+=',LodestoneDimension:"minecraft:'+$("#"+o+"Dim").val()+'"',-1!=$("#"+o+"Tracked").val()&&(n+=",LodestoneTracked:"+$("#"+o+"Tracked").val()+"b"),$("#"+o+"X").val().length)&&$("#"+o+"Y").val().length&&$("#"+o+"Z").val().length&&(n+=",LodestonePos:{X:"+$("#"+o+"X").val()+",Y:"+$("#"+o+"Y").val()+",Z:"+$("#"+o+"Z").val()+"}");else if("filled_map"==h){$("#"+o+"map").val().length&&(n+=",map:"+$("#"+o+"map").val());let t="";$("#"+o+"Decorations  > .map_decoration").each(function(e){$("#"+this.id+"id").val().length&&$("#"+this.id+"x").val().length&&$("#"+this.id+"z").val().length&&$("#"+this.id+"rot").val().length&&(t+=",{x:"+parseFloat($("#"+this.id+"x").val()).toFixed(1)+"d,z:"+parseFloat($("#"+this.id+"z").val()).toFixed(1)+"d,type:"+$("#"+this.id+"Type").val()+"b,rot:"+parseFloat($("#"+this.id+"rot").val()).toFixed(1)+'d,id:"'+$("#"+this.id+"id").val()+'"}')}),t.length&&(n+=",Decorations:["+t.substr(1)+"]")}else if("writable_book"==h)n=getWritableBookNBT(o+"BookPane");else if("firework_rocket"==h||"fireworks"==h)n=getFireworksItemNBT(o);else if("firework_star"==h)n=",Explosion:"+getExplosionNBT(o+"Explosion_exp_0").substr(1);else if("armor_stand"==h){var l=$("#"+o+"_entID").val();n=entityDescriptors["e"+l].getEntitySpecificCommand(l),cachedNBT.setNBT("e"+l,n),0<n.length&&(n=",EntityTag:{"+n.substr(1)+"}")}else if("tropical_fish_bucket"==h||"cod_bucket"==h||"pufferfish_bucket"==h||"salmon_bucket"==h||"axolotl_bucket"==h){l=$("#"+o+"_entID").val();n=entityDescriptors["e"+l].getEntitySpecificCommand(l),cachedNBT.setNBT("e"+l,n),0<n.length&&(n=",EntityTag:{"+n.substr(1)+"}")}else if(-1!=h.indexOf("spawn_egg")){l=$("#"+o+"_entID").val();h.substr(0,h.indexOf("_spawn_egg"))!=$("#entity"+l).val()&&(n+=',id:"minecraft:'+$("#entity"+l).val()+'"'),n+=entityDescriptors["e"+l].getEntitySpecificCommand(l),cachedNBT.setNBT("e"+l,n),0<n.length&&(n=",EntityTag:{"+n.substr(1)+"}")}else if("potion"==h||"splash_potion"==h||"lingering_potion"==h||"tipped_arrow"==h)n=(n=(n+=getStatusEffectsNBT("CustomPotionEffects",o+"CustomPotionEffects"))+getPotion("Potion",o+"Potion"))+getColorInteger(o+"CustomPotionColor","CustomPotionColor");else if("crossbow"==h){var s=getProjectile(o,"MiddleProjectile")+getProjectile(o,"LeftProjectile")+getProjectile(o,"RightProjectile");",{},{},{}"!=s&&(n+=",ChargedProjectiles:["+s.substr(1)+"],Charged:1b")}else if("suspicious_stew"==h)n+=getStewEffectsNBT("Effects",o+"StewEffects");else if("bundle"==h){let a="";$("#"+o+"BundleItemsMultiItemPane  > .itemSelectControl").each(function(e){var t=this.id.substr(0,this.id.lastIndexOf("Pane"));"-1"!=$("#"+t).val()&&(a+=","+getItemNBT(t))}),a.length&&(n+=",Items:["+a.substr(1)+"]")}else if("campfire"==h||"soul_campfire"==h){for(var l="",c="",p="",d="",m=0;m<4;m++)"{}"!=(u=getItemNBT(o+"Slot"+m))&&(d+=",{Slot:"+m+"b,"+u.substr(1));d.length&&(l=",Items:["+d.substr(1)+"]");for(m=0;m<4;m++)$("#"+o+"CookingTime"+m).val().length?c+=","+$("#"+o+"CookingTime"+m).val():c+=",0",$("#"+o+"CookingTotalTime"+m).val().length?p+=","+$("#"+o+"CookingTotalTime"+m).val():p+=",0";",0,0,0,0"!=c&&(l+=",CookingTimes:[I;"+c.substr(1)+"]"),",0,0,0,0"!=p&&(l+=",CookingTotalTimes:[I;"+p.substr(1)+"]"),l.length&&(n+=",BlockEntityTag:{"+l.substr(1)+"}")}else if("painting"==h)"unset"!=$("#"+o+"Motive").val()&&(n+=',EntityTag:{Motive:"minecraft:'+$("#"+o+"Motive").val()+'"}');else if("item_frame"==h||"glow_item_frame"==h){let t="";"{}"!=(h=getItemNBT(o+"ItemInFrame"))&&(t+=",Item:"+h);var h,g=["ItemRotation","Invulnerable","Invisible","Fixed"];for(let e=0;e<g.length;e++)-1!=$("#"+o+g[e]).val()&&(t+=","+g[e]+":"+$("#"+o+g[e]).val()+"b");t.length&&(n+=",EntityTag:{"+t.substr(1)+"}")}else if("lectern"==h){let e="";"{}"!=(h=getItemNBT(o+"Book"))&&(e+=",Book:"+h),$("#"+o+"Page").val().length&&(e+=",Page:"+$("#"+o+"Page").val()),e.length&&(n+=",BlockEntityTag:{"+e.substr(1)+"}")}else if("beacon"==h){let e="";$("#"+o+"Lock").val().length&&(e+=',Lock:"'+$("#"+o+"Lock").val()+'"'),$("#"+o+"Levels").val().length&&(e+=",Levels:"+$("#"+o+"Levels").val()),0!=$("#"+o+"Primary").val()&&(e+=",Primary:"+$("#"+o+"Primary").val()),0!=$("#"+o+"Secondary").val()&&(e+=",Secondary:"+$("#"+o+"Secondary").val()),e.length&&(n+=",BlockEntityTag:{"+e.substr(1)+"}")}else if("barrel"==h||"chest"==h||"trapped_chest"==h||"brewing_stand"==h||"dispenser"==h||"dropper"==h||"furnace"==h||"blast_furnace"==h||"smoker"==h||"hopper"==h||-1!=h.indexOf("shulker_box")){for(var u,_,d="",b={chest:27,trapped_chest:27,brewing_stand:5,dropper:9,dispenser:9,blast_furnace:3,smoker:3,furnace:3,hopper:5,barrel:27}[h]||27,m=0;m<b;m++)"{}"!=(u=getItemNBT(o+"Slot"+m))&&(d+=",{Slot:"+m+"b,"+u.substr(1));d.length&&(n=",Items:["+d.substr(1)+"]"),$("#"+o+"Lock").val().length&&(n+=',Lock:"'+$("#"+o+"Lock").val()+'"'),"barrel"==h||"chest"==h||"trapped_chest"==h||"dispenser"==h||"dropper"==h||"hopper"==h||-1!=h.indexOf("shulker_box")?($("#"+o+"LootTable").val().length&&(n+=',LootTable:"'+$("#"+o+"LootTable").val()+'"'),"hopper"==h&&$("#"+o+"TransferCooldown").val().length&&(n+=",TransferCooldown:"+$("#"+o+"TransferCooldown").val())):"brewing_stand"==h?($("#"+o+"BrewTime").val().length&&(n+=",BrewTime:"+$("#"+o+"BrewTime").val()),$("#"+o+"Fuel").val().length&&(n+=",Fuel:"+$("#"+o+"Fuel").val()+"b")):"furnace"!=h&&"blast_furnace"!=h&&"smoker"!=h||($("#"+o+"BurnTime").val().length&&(n+=",BurnTime:"+$("#"+o+"BurnTime").val()),$("#"+o+"CookTime").val().length&&(n+=",CookTime:"+$("#"+o+"CookTime").val()),$("#"+o+"CookTimeTotal").val().length&&(n+=",CookTimeTotal:"+$("#"+o+"CookTimeTotal").val()),"furnace"==h&&(n+=getRecipesUsed(o+"RecipesUsed"))),2<(_=jsonConvert(JSON.stringify(tellrawJson.getJsonForTellraw(o+"CustomName")))).length&&(n+=",CustomName:"+_),0<n.length&&(n=",BlockEntityTag:{"+n.substr(1)+"}")}else if("spawner"==h){initMobSpawnerNBT();var f,v="";for(f in mobSpawnerNBT){var k={id:f+o};Object.assign(k,mobSpawnerNBT[f]),v+=getNBTforKey(f,k,o)}(v+=getSpawnPotentailsNBT(o,!0)).length&&(n+=",BlockEntityTag:{"+v.substr(1)+"}")}else{if("beehive"==h||"bee_nest"==h)return s=getFlowerCoords("FlowerPos",o),(s+=getBeesForHiveNBT(o)).length?",BlockEntityTag:{"+s.substr(1)+"}":s;if(-1!=h.indexOf("banner")||"shield"==h)return(n=$("#"+o+"BlockEntityTag").val()).length&&(n=","+(n=-1!=n.indexOf("BlockEntityTag:")?(n=(n=n.substr(n.indexOf("BlockEntityTag:{"))).replace("BlockEntityTag:{","")).replace("}}",""):n)),-1!=h.indexOf("banner")&&(n+=getCustomNameAndColor("#"+o+"CustomName",0)),2<(_=jsonConvert(JSON.stringify(tellrawJson.getJsonForTellraw(o+"CustomName")))).length&&(n+=",CustomName:"+_),n=0<n.length?",BlockEntityTag:{"+n.substr(1)+"}":n;"knowledge_book"==h&&(n=getCanPlaceOnOrDestroy(o,"Recipes"))}return n}function getFlowerCoords(e,t){return $("#"+e+"X"+t).val().length&&$("#"+e+"Y"+t).val().length&&$("#"+e+"Z"+t).val().length?","+e+":{X:"+$("#"+e+"X"+t).val()+",Y:"+$("#"+e+"Y"+t).val()+",Z:"+$("#"+e+"Z"+t).val()+"}":""}function getProjectile(e,t){try{if("arrow"==$("#"+e+t).val()||"spectral_arrow"==$("#"+e+t).val())return',{id:"minecraft:'+$("#"+e+t).val()+'",Count:1b}';var a,o;if("tipped_arrow"==$("#"+e+t).val())return 0==(a=getStatusEffectsNBT("CustomPotionEffects",e+t+"CustomPotionEffects")+getPotion("Potion",e+t+"Potion")+getColorInteger(e+t+"CustomPotionColor","CustomPotionColor")).length?',{id:"minecraft:tipped_arrow",Count:1b}':',{id:"minecraft:tipped_arrow",Count:1b,tag:{'+a.substr(1)+"}}";if("firework_rocket"==$("#"+e+t).val())return 0==(o=getFireworksItemNBT(e+t)).length?',{id:"minecraft:firework_rocket",Count:1b}':',{id:"minecraft:firework_rocket",Count:1b,tag:{'+o.substr(1)+"}}"}catch(e){}return",{}"}function getEnchantNumFromString(e){var t=extractMinecraftID(e);for(enc in enchantables)if(replaceAll(" ","_",enchantables[enc][0]).toLowerCase()==t)return enc;return-1}function showImport(){$("#commandInput").css({top:mouse.y,left:mouse.x}),$("#commandInput").show()}function showCommunity(){$("#intro").remove(),$("#community").show(),showSearch()}function baseCoords(e,t,a,o){o="<span class='fLabel200'> "+o+" "+e[0]+"</span><input type='text' id='"+t[0]+"' class='medTF'>"+makeTip(o,"coords")+"<br><span class='fLabel200'>"+e[1]+"</span><input type='text' id='"+t[1]+"' class='medTF'><br><span class='fLabel200'>"+e[2]+"</span><input type='text' id='"+t[2]+"' class='medTF'>";return null!=a&&(o+="<br><span class='fLabel200'>Relative Coordinates</span><input type='checkbox' id='"+a+"' CHECKED>"),o}function makeCoords(e,t,a,o,n){var s="<span class='fLabel200'> "+t+" Coordinates</span><input type='text' id='"+e+"' class='bigTF'>";return null!=a&&(s+="<a href=\"javascript:prefixCoords('"+e+"','~')\" class='greenPlus' title='Make the coordinates relative'>~</a>"),null!=o&&(s+="<a href=\"javascript:prefixCoords('"+e+"','^')\" class='greenPlus' title='Make the coordinates directional'>^</a>"),(a||o)&&(s+="<a href=\"javascript:prefixCoords('"+e+"','c')\" class='greenPlus' title='Clear the relative or directional symbols'>C</a>"),s+makeTip(n||t,"coords")}function prefixCoords(e,t){for(var a=getCoordsString(e),o=0;o<a.length;o++)"~"==t?a[o]="~"+replaceAll("~","",replaceAll("^","",a[o])):"^"==t?a[o]="^"+replaceAll("~","",replaceAll("^","",a[o])):"c"==t&&(a[o]=replaceAll("~","",replaceAll("^","",a[o])));$("#"+e).val(a[0]+" "+a[1]+" "+a[2]),-1!=e.indexOf("BlockNBT")?-1!=e.indexOf("tellrawPane")?tellrawUpdate(e.substr(0,e.indexOf("BlockNBT"))):-1!=e.indexOf("BookPane")?bookUpdate(e.substr(0,e.indexOf("BlockNBT"))):-1!=e.indexOf("SignPane")&&signUpdate(e.substr(0,e.indexOf("BlockNBT"))):generateCommand()}function loadForm(e){clearOutputCharacterCount(),$("#intro").remove(),cachedNBT.clear(),currentCommand=e,$("#commandOutput").css({top:0,left:$(window).width()-510}),$("#commandForm").html(""),entityIndex=0,entityDescriptors=[],$("#disableOutput").prop("checked",!0),"execute if entity"!=e&&makeExecutePane("commandForm"),"give"==e?makeGivePane("commandForm","givePane"):"setblock"==e?makeBlockPane("commandForm","blockPane"):"item"==e?makeReplaceItemPane("commandForm","replaceItemPane"):"teleport"==e?makeTeleportPane("commandForm","replaceItemPane"):"fill"==e?makeBlockPaneFill("commandForm","blockPane"):"blockdata"==e||"data merge block"==e?makeBlockDataPane("commandForm","blockPane"):"execute if entity"==e||"kill"==e?makeAddEntityAndPlayerPane("commandForm","rootEntity"):"tellraw"==e||"title"==e?makeTellrawPane("commandForm","tellrawPane"):"summon"==e||"entitydata"==e||"data merge entity"==e?makeAddEntityPane("commandForm","rootEntity"):"particle"==e?makeParticlePane("commandForm","particlePane"):"effect"==e?makeEffectPane("commandForm","effectPane"):"playsound"==e?makePlaySoundPane("commandForm","soundPane"):"team"==e?makeTeamPane("commandForm","teamPane"):"scoreboard"==e?makeScoreboardPane("commandForm","scoreboardPane"):"bossbar"==e?makeBossbarPane("commandForm","bossbarPane"):"loot"==e?makeLootPane("commandForm","lootPane"):"loot_table"==e&&makeLootTableGenerator("commandForm"),$("#disableOutput").prop("checked",!1),$("#commandOutput-ta").val("Fill out the form to get a command.")}function makeExecutePane(e){$("#"+e).html("<div id='executePane' class='roundedDiv'><a href=\"javascript:createExecuteForm()\" class='navButton'>make /execute command</a></div>")}function appendTS(){$("#exeString").val($("#exeString").val().trim()+" "+getTargetSelectorStringGeneric("execute0")),generateCommand()}function insertTextAtCursor(){var e=jQuery("#exeString"),t=e[0].selectionStart,a=e.val(),o=getTargetSelectorStringGeneric("execute0");e.val(a.substring(0,t)+o+a.substring(t))}function removeExecute(){$("#executePane").html("<a href=\"javascript:createExecuteForm()\" class='navButton'>make /execute command</a>"),generateCommand()}function createExecuteForm(){$("#disableOutput").prop("checked",!0);var e="<span class='fLabel200'>Execute String</span><textarea id='exeString'>execute</textarea><a href='javascript:removeExecute()' class='redX fRight'>&#9747;</a><br><br><span class='fLabel200'>Target Type</span><select id='execute0' onchange=\"javascript:teleportEntityChange('execute0')\"><option value='player'>player</option><option value='entity'>entity</option></select><a href=\"javascript:appendTS()\" class='greenPlus'>&#8657; Append</a><a href=\"javascript:insertTextAtCursor()\" class='greenPlus'>&#8657; Insert at cursor </a><div id='execute0_ts'></div>"+makeTip("effect","Entity");$("#executePane").html(e),bindGenCom("exeString","keyup"),$("#executePane br:first").remove(),teleportEntityChange("execute0"),$("#disableOutput").prop("checked",!1),generateCommand()}function makeTeamPane(e,t){$("#"+e).append("<br><div id='"+t+"' class='roundedDiv'></div>");e="<span class='fLabel100'>Command Type</span><select id='add_modify' onchange=\"javascript:teamChange()\"><option value='add'>Add</option><option value='modify'>Modify</option></select>"+makeTip("team","commandType")+"<span id='teamSpan'></span>";$("#"+t).append(e),createComponent(t,"Team",{id:"team",type:"text",tip:"team",cssClass:"fLabel100",fwClass:"bigTF"},0),$("#"+t).append("<div id='"+t+"ItemPane'></div>"),createTellrawForm(t,0)}function teamChange(){$("#teamSpan").html(""),"modify"==$("#add_modify").val()&&createComponent("teamSpan","Part",{type:"makeSelect",cssClass:"fLabel100",values:["displayName","prefix","suffix"],tip:"team"},0),generateCommand()}function makeScoreboardPane(e,t){$("#"+e).append("<br><div id='"+t+"' class='roundedDiv'></div>");e="<span class='fLabel100'>Command Type</span><select id='add_modify' onchange=\"javascript:sbChange()\"><option value='add'>Add</option><option value='modify'>Modify</option></select>"+makeTip("scoreboard","commandType")+"<span id='sbSpan'></span>";$("#"+t).append(e),createComponent(t,"Objective",{id:"objective",type:"text",fwClass:"bigTF",cssClass:"fLabel100",tip:"scoreboard"},0),$("#"+t).append("<div id='"+t+"ItemPane'></div>"),sbChange(),createTellrawForm(t,0)}function sbChange(){$("#sbSpan").html(""),"add"==$("#add_modify").val()&&createComponent("sbSpan","Criteria",{type:"text",fwClass:"bigTF",cssClass:"fLabel100",tip:"scoreboard"},0),generateCommand()}function makeLootPane(e,t){$("#"+e).append("<br><div id='"+t+"' class='roundedDiv'></div>"),$("#"+t).append("<span class='fLabel200'>Target</span><select id='targetType' onchange=\"javascript:lootTargetChange()\"><option value='spawn'>spawn</option><option value='give'>give</option><option value='insert'>insert</option><option value='replace entity'>replace entity</option><option value='replace block'>replace block</option></select>"+makeTip("loot","target")+"<br><span id='targetSpan'></span>"),$("#"+t).append("<br><span class='fLabel200'>Source</span><select id='sourceType' onchange=\"javascript:lootSourceChange()\"><option value='loot'>loot</option><option value='kill'>kill</option><option value='mine'>mine</option><option value='fish'>fish</option></select>"+makeTip("loot","source")+"<br><span id='sourceSpan'></span>"),lootTargetChange(),lootSourceChange()}function lootSourceChange(){$("#sourceSpan").html(""),"loot"==$("#sourceType").val()||"fish"==$("#sourceType").val()?(createComponent("sourceSpan","Loot Table",{id:"LootTable",type:"text",fwClass:"bigTF",tip:"loot.loottable"},0),"fish"==$("#sourceType").val()&&($("#sourceSpan").append("<br>"+makeCoords("Fishing","Fishing",!0,!0)),bindGenCom("Fishing","keyup"),createComponent("sourceSpan","FishingTool",{type:"itemselect",forceConstruct:!0,format:"special",hide:!1,tip:"loot"},0))):"mine"==$("#sourceType").val()?($("#sourceSpan").append("<br>"+makeCoords("Mining","Mining",!0,!0)),bindGenCom("Mining","keyup"),createComponent("sourceSpan","MiningTool",{type:"itemselect",forceConstruct:!0,format:"special",hide:!1,tip:"loot"},0)):"kill"==$("#sourceType").val()&&($("#sourceSpan").append("<input type='hidden' id='kill0' value='entity'><div id='kill0_ts'></div>"),loadTargetSelectorsGeneric("kill0_ts",!0,!1,"kill0")),generateCommand()}function lootTargetChange(){$("#targetSpan").html(""),"spawn"==$("#targetType").val()||"insert"==$("#targetType").val()||"replace block"==$("#targetType").val()?($("#targetSpan").append(makeCoords("Loot","Loot",!0,!0)),bindGenCom("Loot","keyup")):"give"!=$("#targetType").val()&&"replace entity"!=$("#targetType").val()||($("#targetSpan").append("<span class='fLabel200'>Entity/Player</span><select id='entity0' onchange=\"javascript:lootEntityChange('entity0')\"><option value='player'>player</option><option value='entity'>entity</option></select><div id='entity0_ts'></div>"),lootEntityChange("entity0")),"replace entity"!=$("#targetType").val()&&"replace block"!=$("#targetType").val()||createComponent("targetSpan","Slot",{id:"slot",type:"makeSelect",values:getLootSlots("replace entity"==$("#targetType").val()),tip:"loot.slots"},0),generateCommand()}function lootEntityChange(e){$("#"+e+"_ts").html(""),loadTargetSelectorsGeneric(e+"_ts","player"!=$("#"+e).val(),"player"==$("#"+e).val(),e),$("#"+e+"_ts br:first").remove(),generateCommand()}function getLootSlots(e){if(e){a=["armor.head","armor.chest","armor.legs","armor.feet"];for(var t=0;t<27;t++)a.push("enderchest."+t);for(t=0;t<15;t++)a.push("horse."+t);a=a.concat(["horse.armor","horse.chest","horse.saddle"]);for(t=0;t<9;t++)a.push("hotbar."+t);for(t=0;t<27;t++)a.push("inventory."+t);for(t=0;t<8;t++)a.push("villager."+t);a=a.concat(["weapon","weapon.mainhand","weapon.offhand"])}else for(var a=[],t=0;t<54;t++)a.push("container."+t);return a}function lootTargetSetChange(){$("#lootSetSpan").html(""),"name"==$("#set").val()?$("#bossbarPaneItemPane").show():"players"==$("#set").val()&&($("#bossbarPaneItemPane").hide(),loadTargetSelectors("bbSetSpan",!1,!0)),generateCommand()}function makeBossbarPane(e,t){$("#"+e).append("<br><div id='"+t+"' class='roundedDiv'></div>");e="<span class='fLabel100'>Action</span><select id='action' onchange=\"javascript:bbChange()\"><option value='add'>add</option><option value='set'>set</option></select>"+makeTip("bossbar","action");$("#"+t).append(e),createComponent(t,"ID",{type:"text",fwClass:"bigTF",cssClass:"fLabel100",tip:"bossbar"},0),$("#"+t).append("<span id='bbSpan'></span><div id='"+t+"ItemPane'></div>"),bbChange(),createTellrawForm(t,0)}function bbChange(){var e;$("#bbSpan").html(""),"add"==$("#action").val()?$("#bossbarPaneItemPane").show():"set"==$("#action").val()&&(e="<br><span class='fLabel100'>Set</span><select id='set' onchange=\"javascript:bbSetChange()\"><option value='name'>Name</option><option value='players'>Players</option></select>"+makeTip("bossbar","set")+"<span id='bbSetSpan'></span>",$("#bbSpan").append(e),bbSetChange()),generateCommand()}function bbSetChange(){$("#bbSetSpan").html(""),"name"==$("#set").val()?$("#bossbarPaneItemPane").show():"players"==$("#set").val()&&($("#bossbarPaneItemPane").hide(),loadTargetSelectors("bbSetSpan",!1,!0)),generateCommand()}function makeTellrawPane(e,t){$("#"+e).append("<br><div id='"+t+"' class='roundedDiv'></div>"),"title"==currentCommand&&createComponent(t,"Type",{id:"titleType",type:"makeSelect",values:["title","subtitle","actionbar"],tip:"title.Type"},0),loadTargetSelectors(t,!1,!0),$("#"+t).append("<div id='"+t+"ItemPane'></div>"),$("#"+t+" br:first").remove(),createTellrawForm(t,0)}function makeEffectPane(e,t){$("#"+e).append("<br><div id='"+t+"' class='roundedDiv'></div>");e="<span class='fLabel200'>Entity</span><select id='entity0' onchange=\"javascript:teleportEntityChange('entity0')\"><option value='player'>player</option><option value='entity'>entity</option></select>"+makeTip("effect","Entity")+"<div id='entity0_ts'></div>",$("#"+t).append(e),e=statusEffects.slice(0);e.splice(0,1),createComponent(t,"Effect",{id:"effect",type:"choice",values:e,tip:"effect"},0),createComponent(t,"Seconds",{id:"seconds",type:"text",tip:"effect"},0),createComponent(t,"Amplifier",{id:"amplifier",type:"text",tip:"effect"},0),createComponent(t,"Hide Particles",{id:"hideParticles",type:"makeSelect",values:["false","true"],tip:"effect.hideParticles"},0),teleportEntityChange("entity0")}function makeParticlePane(e,t){$("#"+e).append("<br><div id='"+t+"' class='roundedDiv'></div>"),createComponent(t,"Name",{id:"name",type:"makeSelect",values:particles,tip:"particle"},0),$("#"+t).append("<div id='blockFallingDustSettings'></div>"),$("#"+t).append("<div id='itemSettings'></div>"),$("#"+t).append("<div id='directionSettings'></div>"),$("#"+t).append("<span id='vibrationSettings'><br>"+makeCoords("FromCoords","From",!0,!0)+"<br>"+makeCoords("ToCoords","To",!0,!0)+"</span>"),createComponent("vibrationSettings","travelTime",{label:"Travel Time",type:"ticks",cssClass:"fLabel200",tip:"particle.TravelTime"},0);let a=makeCoords("Location","Location",!0,!0);for(var o in $("#"+t).append("<br>"+a),bindGenCom("Location","keyup"),bindGenCom("FromCoords","keyup"),bindGenCom("ToCoords","keyup"),bindGenCom("travelTime","keyup"),$("#directionSettings").html("<br>"+baseCoords(["X","Y","Z"],["xd","yd","zd"],null,"Direction")),bindGenCom("xd","keyup"),bindGenCom("yd","keyup"),bindGenCom("zd","keyup"),createComponent(t,"Speed",{id:"speed",type:"text",value:"1",tip:"particle"},0),createComponent(t,"Count",{id:"count",type:"text",tip:"particle113.Count",value:"0"},0),createComponent(t,"Mode",{id:"mode",type:"makeSelect",values:["normal","force"],format:"string",tip:"particle"},0),$("#"+t).append("<span id='dustsettings'><br><span class='fLabel200'>Dust Size</span><input id='dustSize' type='text' value='1' class='medTF' >"+makeTip("particle113","dustSize")+"</span><span id='colsettings'><br><span class='fLabel200'>Effect Color</span><input id='mobSpell_color' value='FF0000' onchange='generateCommand()'>"+makeTip("particle113","color")+"</span><span id='colsettingsTo'><br><span class='fLabel200'>To Color</span><input id='mobSpell_color_to' value='FF0000' onchange='generateCommand()'>"+makeTip("particle113","colorTo")+"</span>"),loadTargetSelectors(t,!1,!0),$("#"+t).append(makeTip("particle","player")),showHide("TSPane","TSPaneSH"),a="<br><span class='fLabel200'>Block</span>",a+="<select id='block' onchange='javascript:blockChange(true);'>",itemsAndBlocks)"i"!=itemsAndBlocks[o].c&&(a+="<option value='"+o+"'>"+itemsAndBlocks[o].d+"</option>");for(var n in a+="</select><input type='text' id='block_filter' placeholder='Filter' class='medTF' onkeyup=\"updateBlockOptions('block')\"><span id='blockSpec0'></span>",$("#blockFallingDustSettings").append(a),a="<br><span class='fLabel200'>Item</span>",a+="<select id='item0' onchange='javascript:generateCommand();'>",itemsAndBlocks)"t"!=itemsAndBlocks[n].c&&(a+="<option value='"+n+"'>"+itemsAndBlocks[n].d+"</option>");a+="</select><input type='text' id='item0_filter' placeholder='Filter' class='medTF' onkeyup=\"updateItemSelectOptions('#item0')\">",$("#itemSettings").append(a),$("#blockFallingDustSettings").hide(),$("#itemSettings").hide(),$("#vibrationSettings").hide(),$("#colsettingsTo").hide(),bindGenCom("dustSize","keyup"),$("#name").bind("change",function(){-1!=$("#name").val().indexOf("entity_effect")?($("#vibrationSettings").hide(),$("#colsettingsTo").hide(),$("#colsettings").show(),$("#directionSettings").show(),$("#dustsettings").hide(),$("#blockFallingDustSettings").hide(),$("#itemSettings").hide()):"falling_dust"==$("#name").val()||"block"==$("#name").val()?($("#vibrationSettings").hide(),$("#colsettingsTo").hide(),$("#colsettings").hide(),$("#directionSettings").show(),$("#dustsettings").hide(),$("#blockFallingDustSettings").show(),$("#itemSettings").hide()):"dust"==$("#name").val()?($("#vibrationSettings").hide(),$("#colsettingsTo").hide(),$("#colsettings").show(),$("#directionSettings").show(),$("#dustsettings").show(),$("#blockFallingDustSettings").hide(),$("#itemSettings").hide()):"dust_color_transition"==$("#name").val()?($("#vibrationSettings").hide(),$("#colsettingsTo").show(),$("#colsettings").show(),$("#directionSettings").show(),$("#dustsettings").show(),$("#blockFallingDustSettings").hide(),$("#itemSettings").hide()):"vibration"==$("#name").val()?($("#vibrationSettings").show(),$("#colsettingsTo").hide(),$("#colsettings").hide(),$("#directionSettings").show(),$("#dustsettings").hide(),$("#blockFallingDustSettings").hide(),$("#itemSettings").hide()):"item"==$("#name").val()?($("#vibrationSettings").hide(),$("#colsettingsTo").hide(),$("#colsettings").hide(),$("#directionSettings").show(),$("#dustsettings").hide(),$("#blockFallingDustSettings").hide(),$("#itemSettings").show()):($("#vibrationSettings").hide(),$("#colsettingsTo").hide(),$("#colsettings").hide(),$("#directionSettings").show(),$("#dustsettings").hide(),$("#blockFallingDustSettings").hide(),$("#itemSettings").hide())}),$("#mobSpell_color").bind("change",function(){"dust"!=$("#name").val()&&"dust_color_transition"!=$("#name").val()?changeParticelXdYdZd($("#mobSpell_color").val()):generateCommand()}),$("#mobSpell_color_to").bind("change",function(){generateCommand()}),new jscolor.color(document.getElementById("mobSpell_color"),{}).fromString("FF0000"),new jscolor.color(document.getElementById("mobSpell_color_to"),{}).fromString("FF0000")}function changeParticelXdYdZd(e){$("#xd").val(parseFloat(hexToR(e)/255).toFixed(3)),$("#yd").val(parseFloat(hexToG(e)/255).toFixed(3)),$("#zd").val(parseFloat(hexToB(e)/255).toFixed(3)),generateCommand()}function makePlaySoundPane(e,t){$("#"+e).append("<br><div id='"+t+"' class='roundedDiv'></div>"),$("#"+t).append("<span class='fLabel200'>Sound Effect</span><select id='sound'></select><input type='text' id='sound_filter' placeholder='Filter' class='medTF' onkeyup=\"updateSoundSelect('sound')\">"+makeTip("sound","effect")),bindGenCom("sound","change"),createComponent("soundPane","Source",{id:"source",type:"makeSelect",values:["master","music","record","weather","block","hostile","neutral","player","ambient","voice"],tip:"sound.source"},0),loadTargetSelectors("soundPane",!1,!0);e=makeCoords("Position","Position",!0,!0)+makeTip("sound","relative");$("#soundPane").append("<br>"+e),bindGenCom("Position","keyup"),createComponent("soundPane","Volume",{id:"volume",type:"text",tip:"sound.volume"},0),createComponent("soundPane","Pitch",{id:"pitch",type:"text",tip:"sound.pitch"},0),createComponent("soundPane","Minimum Volume",{id:"minvolume",type:"text",tip:"sound.minvolume"},0),loadSoundOptions()}function loadSoundOptions(){for(var e=[],t=0;t<soundList.length;t++)e.push('<option value="',soundList[t],'">',soundList[t],"</option>");$("#sound").html(e.join(""))}function updateSoundSelect(e){for(var t=$("#"+e).val(),a=$("#"+e+"_filter").val(),o=[],n=0;n<soundList.length;n++)0!=a.length&&-1==soundList[n].indexOf(a)||o.push('<option value="',soundList[n],'">',soundList[n],"</option>");$("#"+e).html(o.join("")),t!=$("#"+e).val()&&$("#"+e).trigger("change")}function makeBlockDataPane(e,t){$("#"+e).append("<br><div id='"+t+"' class='roundedDiv'>"+makeCoords("Block","Block",!0,!0)+"</div>"),bindGenCom("Block","keyup");$("#"+t).append("<br><span class='fLabel200'>Block</span><select id='block' onchange='javascript:blockChange(false);'></select><input type='text' id='block_filter' placeholder='Filter' class='medTF' onkeyup=\"updateBlockDataSelect('block')\"><span id='blockSpec0'></span>"),updateBlockDataSelect("block")}function updateBlockDataSelect(e){var t,a=$("#"+e+"_filter").val().toLowerCase(),o=[];for(t in itemsAndBlocks)-1==hasBlockData.indexOf(t)||"i"==itemsAndBlocks[t].c||0!=a.length&&-1==t.indexOf(a)&&-1==itemsAndBlocks[t].d.toLowerCase().indexOf(a)||o.push('<option value="',t,'">',itemsAndBlocks[t].d,"</option>");$("#"+e).html(o.join("")),blockChange(!1)}function makeBlockPane(e,t){$("#"+e).append("<br><div id='"+t+"' class='roundedDiv'>"+makeCoords("Block","Block",!0,!0)+"</div>"),bindGenCom("Block","keyup"),createComponent(t,"Old Block Handling",{id:"blockHandle",type:"makeSelect",values:["replace","destroy","keep"],hide:!1,tip:"setblock.Handling"},0);var a,o="<br><span class='fLabel200'>Block</span>";for(a in o+="<select id='block' onchange='javascript:blockChange(true);'>",itemsAndBlocks)"i"!=itemsAndBlocks[a].c&&(o+="<option value='"+a+"'>"+itemsAndBlocks[a].d+"</option>");o+="</select><input type='text' id='block_filter' placeholder='Filter' class='medTF' onkeyup=\"updateBlockOptions('block')\"><span id='blockSpec0'></span>",$("#"+t).append(o)}function makeBlockPaneFill(e,t){$("#"+e).append("<br><div id='"+t+"' class='roundedDiv'>"+makeCoords("Corner","Corner",!0,!0)+"<br>"+makeCoords("Opposite","Opposite",!0,!0)+"</div>"),bindGenCom("Corner","keyup"),bindGenCom("Opposite","keyup"),createComponent(t,"Old Block Handling",{id:"blockHandle",type:"makeSelect",values:["replace","destroy","hollow","keep","outline"],hide:!1,tip:"setblock.Handling"},0);var a,o="";for(a in itemsAndBlocks)"i"!=itemsAndBlocks[a].c&&(o+="<option value='"+a+"'>"+itemsAndBlocks[a].d+"</option>");e="<br><span class='fLabel200'>Block</span><select id='block' onchange='javascript:blockChange(true);'>"+o+"</select><input type='text' id='block_filter' placeholder='Filter' class='medTF' onkeyup=\"updateBlockOptions('block')\"><span id='blockSpec0'></span><div id='replacePanel'><span class='fLabel200'>Replace Block</span><select id='replaceblock'  onchange='javascript:replaceBlockChange();'>"+o+"</select><input type='text' id='replaceblock_filter' placeholder='Filter' class='medTF' onkeyup=\"updateBlockOptions('replaceblock')\"><span id='replaceBlockSpec'></span></div>";$("#"+t).append(e),$("#blockHandle").bind("change",function(){"destroy"==$("#blockHandle").val()?$("#replacePanel").hide():$("#replacePanel").show()})}function fallingBlockChange(e){if(e=e||0,$("#blockSpec"+e).html(""),$("#block"+e).val()in blockStates){var t,a=blockStates[$("#block"+e).val()];for(t in a){var o=a[t].slice();$.isArray(o[0])?(o.unshift(["unset","unset"]),createComponent("blockSpec"+e,t,{id:t+"BS"+e,type:"choice",values:o},e)):(o.unshift("unset"),createComponent("blockSpec"+e,t,{id:t+"BS"+e,type:"makeSelect",values:o},e))}}blocks[e]=loadBlockClass($("#block"+e).val()),"falling_block"==entityDescriptors["e"+e].entityType&&blocks[e].generateFormForFalling(e),$("#blockSpec"+e).html().length?($("#blockSpec"+e).addClass("fallingBlock"),$("#blockSpec"+e+" br:first").remove()):$("#blockSpec"+e).removeClass("fallingBlock"),generateCommand()}function blockChange(e){if($("#blockSpec0").html(""),e&&$("#block").val()in blockStates){var t,a=blockStates[$("#block").val()];for(t in a){var o=a[t].slice();$.isArray(o[0])?(o.unshift(["unset","unset"]),createComponent("blockSpec0",t,{id:t+"BS0",type:"choice",values:o},0)):(o.unshift("unset"),createComponent("blockSpec0",t,{id:t+"BS0",type:"makeSelect",values:o},0))}}"particle"!=currentCommand&&((block=loadBlockClass($("#block").val())).generateForm(),cachedNBT.loadCachedBlockNBT("BS0")),generateCommand()}function detectBlockChange(){if($("#detect_blockSpec").html(""),$("#detect_block").val()in blockStates){var e,t=blockStates[$("#detect_block").val()];for(e in t){var a=t[e].slice();$.isArray(a[0])?(a.unshift(["unset","unset"]),createComponent("detect_blockSpec",e,{id:e+"detect_BS0",type:"choice",values:a},0)):(a.unshift("unset"),createComponent("detect_blockSpec",e,{id:e+"detect_BS0",type:"makeSelect",values:a},0))}}generateCommand()}function replaceBlockChange(){if($("#replaceBlockSpec").html(""),$("#replaceblock").val()in blockStates){var e,t=blockStates[$("#replaceblock").val()];for(e in t){var a=t[e].slice();$.isArray(a[0])?(a.unshift(["unset","unset"]),createComponent("replaceBlockSpec",e,{id:e+"ReplaceBS0",type:"choice",values:a},0)):(a.unshift("unset"),createComponent("replaceBlockSpec",e,{id:e+"ReplaceBS0",type:"makeSelect",values:a},0))}}generateCommand()}function updateFallingBlockOptions(e,t){var a=$("#"+e+t).val(),o=getFilteredBlocks($("#"+e+"_filter"+t).val().toLowerCase());$("#"+e+t).html(o.join("")),a!=$(name).val()&&$("#"+e+t).trigger("change")}function getFilteredBlocks(e){var t,a=[];for(t in itemsAndBlocks)0!=e.length&&("i"==itemsAndBlocks[t].c||-1==t.indexOf(e)&&-1==itemsAndBlocks[t].d.toLowerCase().indexOf(e))||a.push('<option value="',t,'">',itemsAndBlocks[t].d,"</option>");return a}function updateBlockOptions(e){var t=$("#"+e).val(),a=getFilteredBlocks($("#"+e+"_filter").val().toLowerCase());$("#"+e).html(a.join("")),t!=$("#"+e).val()&&(cachedNBT.updateFilterLastUsed(),$("#"+e).trigger("change"))}function makeTeleportPane(e,t){t="<br><div id='"+t+"' class='passengerContainer roundedDiv stackerAltColorA'><span class='fLabel200'>Teleport</span><select id='entity0' onchange=\"javascript:teleportEntityChange('entity0')\"><option value='player'>player</option><option value='entity'>entity</option></select><div id='entity0_ts'></div><span class='fLabel200'>Destination</span><select id='target0' onchange=\"javascript:changeTeleportType()\"><option value='player'>Player</option><option value='entity'>Entity</option><option value='block'>Coordinates</option></select>"+makeTip("teleport","type")+"<div id='cmdTypeSpecificContainer'></div>";$("#"+e).append(t),teleportEntityChange("entity0"),$("#teleporttype").bind("change",function(){changeTeleportType()}),changeTeleportType()}function changeTeleportType(){"block"==$("#target0").val()?($("#cmdTypeSpecificContainer").html(makeCoords("Block","Destination",!0,!0)+"<br><span class='fLabel200'>Facing Type</span><select id='facingType'><option value='unset'>Unset</option><option value='facingCoords'>Face Coordinates</option><option value='facingEntity'>Face Entity</option><option value='rotation'>Rotation</option></select>"+makeTip("teleport","facing")+"<div id='facingContainer'></div>"),bindGenCom("Block","keyup"),$("#facingType").bind("change",function(){teleportFacingChange()}),teleportFacingChange()):($("#cmdTypeSpecificContainer").html("<div id='target0_ts'></div>"),$("#cmdTypeSpecificContainer br:first").remove(),teleportEntityChange("target0")),generateCommand()}function teleportFacingChange(){"unset"==$("#facingType").val()?$("#facingContainer").html(""):"facingCoords"==$("#facingType").val()?($("#facingContainer").html(makeCoords("FacingCoords","Facing")),bindGenCom("FacingCoords","keyup")):"facingEntity"==$("#facingType").val()?($("#facingContainer").html("<span class='fLabel200'>Facing Entity/Player</span><select id='facingtarget0' onchange=\"javascript:teleportEntityChange('facingtarget0')\"><option value='player'>player</option><option value='entity'>entity</option></select><div id='facingtarget0_ts'></div>"),$("#facingContainer br:first").remove(),teleportEntityChange("facingtarget0"),createComponent("facingContainer","Anchor",{type:"makeSelect",values:["unset","eyes","feet"],cssClass:"fLabel200",tip:"teleport",fwClass:"medTF"},0)):"rotation"==$("#facingType").val()&&($("#facingContainer").html(""),createComponent("facingContainer","Yaw",{type:"text",cssClass:"fLabel200",format:"float",tip:"entity",fwClass:"medTF"},0),createComponent("facingContainer","Pitch",{type:"text",cssClass:"fLabel200",format:"float",tip:"entity",fwClass:"medTF"},0),$("#facingContainer br:first").remove()),generateCommand()}function teleportEntityChange(e){$("#"+e+"_ts").html(""),loadTargetSelectorsGeneric(e+"_ts","player"!=$("#"+e).val(),"player"==$("#"+e).val(),e),$("#"+e+"_ts br:first").remove(),generateCommand()}function makeReplaceItemPane(e,t){$("#"+e).append("<br><div id='"+t+"' class='passengerContainer roundedDiv stackerAltColorA'><br><span class='fLabel200'>Mode</span><select id='itemCmdMode'><option value='replace'>replace item with</option><option value='modify'>modify item</option><option value='copy'>copy item from</option></select>"+makeTip("itemcmd","mode")+"<br><span class='fLabel200'>Destination Type</span><select id='replaceitem'><option value='block'>Block</option><option value='player'>Player</option><option value='entity'>Entity</option></select>"+makeTip("itemcmd","desttype")+"<div id='cmdTypeSpecificContainer'></div><div id='cmdModeContainer'><br></div></div>"),$("#replaceitem").bind("change",function(){changeReplaceItemCommandType()}),$("#itemCmdMode").bind("change",function(){changeReplaceItemCommandMode()}),$("#"+t+" br:first").remove(),changeReplaceItemCommandType(),changeReplaceItemCommandMode()}function changeReplaceItemCommandType(){"block"==$("#replaceitem").val()?($("#cmdTypeSpecificContainer").html(makeCoords("Block","Destination",!0,!0,"DestItem")),bindGenCom("Block","keyup"),createComponent("cmdTypeSpecificContainer","Slot",{type:"text",format:"short",tip:"itemcmd.destcontainerslot",label:"Destination Slot"},0)):($("#cmdTypeSpecificContainer").html("<div id='replaceitem_ts'></div>"),$("#cmdTypeSpecificContainer br:first").remove(),teleportEntityChange("replaceitem"),createComponent("cmdTypeSpecificContainer","Slot",{type:"choice",values:[],format:"string",tip:"itemcmd.destentityslot",label:"Destination Slot"},0),changeEntType("replaceitem","Slot0")),generateCommand()}function changeReplaceItemCommandMode(){$("#cmdModeContainer").html(""),"replace"==$("#itemCmdMode").val()?createComponent("cmdModeContainer","GiveItem",{label:"Replace Item",type:"itemselect",forceConstruct:!0,format:"special",hide:!1},0):"modify"==$("#itemCmdMode").val()?createComponent("cmdModeContainer","ItemModifier",{label:"Item Modifier",type:"text",tip:"itemcmd.modifier",fwClass:"bigTF"},0):"copy"==$("#itemCmdMode").val()&&($("#cmdModeContainer").html("<br><span class='fLabel200'>Source Type</span><select id='itemCopyType'><option value='block'>Block</option><option value='player'>Player</option><option value='entity'>Entity</option></select>"+makeTip("itemcmd","sourcetype")+"<div id='copyTypeSpecificContainer'></div>"),$("#itemCopyType").bind("change",function(){changeCopyType()}),changeCopyType()),$("#cmdModeContainer br:first").remove(),generateCommand()}function changeCopyType(){"block"==$("#itemCopyType").val()?($("#copyTypeSpecificContainer").html(makeCoords("BlockCopy","Source",!0,!0,"SourceItem")),bindGenCom("BlockCopy","keyup"),createComponent("copyTypeSpecificContainer","SlotCopy",{type:"text",format:"short",tip:"itemcmd.sourcecontainerslot",label:"Source Slot"},0)):($("#copyTypeSpecificContainer").html("<div id='itemCopyType_ts'></div>"),$("#copyTypeSpecificContainer br:first").remove(),teleportEntityChange("itemCopyType"),createComponent("copyTypeSpecificContainer","SlotCopy",{type:"choice",values:[],format:"string",label:"Source Slot",tip:"itemcmd.sourceentityslot"},0),changeEntType("itemCopyType","SlotCopy0")),generateCommand()}function changeEntType(e,t){let a="<option value='armor.head'>armor.head</option><option value='armor.chest'>armor.chest</option><option value='armor.legs'>armor.legs</option><option value='armor.feet'>armor.feet</option><option value='weapon.mainhand'>weapon.mainhand</option><option value='weapon.offhand'>weapon.offhand</option>";if("player"==$("#"+e).val()){for(var o=0;o<9;o++)a+="<option value='hotbar."+o+"'>hotbar."+o+"</option>";for(o=0;o<27;o++)a+="<option value='enderchest."+o+"'>enderchest."+o+"</option>";for(o=0;o<27;o++)a+="<option value='inventory."+o+"'>inventory."+o+"</option>"}else{a+="<option value='horse.saddle'>horse.saddle</option><option value='horse.chest'>horse.chest</option><option value='horse.armor'>horse.armor</option>";for(o=0;o<15;o++)a+="<option value='horse."+o+"'>horse."+o+"</option>";for(o=0;o<8;o++)a+="<option value='villager."+o+"'>villager."+o+"</option>"}for(o=0;o<54;o++)a+="<option value='container."+o+"'>container."+o+"</option>";$("#"+t).html(a),generateCommand()}function makeGivePane(e,t){$("#"+e).append("<br><div id='"+t+"' class='roundedDiv'></div>"),loadTargetSelectors(t,!0,!0),createComponent(t,"GiveItem",{type:"itemselect",format:"special",hide:!1,tip:"give",forceConstruct:!0},0),$("#"+t+" br:first").remove(),$("#targetType0_choice").trigger("change")}function makeAddEntityAndPlayerPane(e,t,a){for(var a=a||!1,o=a?"spawnPotentialContainer":"passengerContainer",n=(n=mkShowHide(t,t+"SH")+"<div id='"+t+"' class='"+o+" roundedDiv stackerAltColorA'>")+("<span class='fLabel200'>Entity</span><select id='entity"+entityIndex+"' onchange='javascript:entityChange("+entityIndex+","+a+");'>")+"<option value='player'>player</option>",s=0;s<entities.length;s++)n+="<option value='"+entities[s]+"'>"+entities[s]+"</option>";n+="</select><input type='text' id='entity"+entityIndex+"_filter' placeholder='Filter' class='medTF' onkeyup=\"updateEntitySelectOptions('#entity"+entityIndex+"',"+entityIndex+","+a+",true)\"><br><div id='entityPane"+entityIndex+"' class='entityWrapper'></div></div>",$("#"+e).html().length&&(n="<br>"+n),$("#"+e).append(n),entityChange(entityIndex,a)}function makeAddBeePane(e,t){var a="",a=(a=(a+=mkShowHide(t,t+"SH"))+("<div id='"+t+"' class='spawnPotentialContainer roundedDiv stackerAltColorB'>")+("<a class='redX' href=\"javascript:removePassenger('"+t+"','"+entityIndex+"')\">&#9747;</a>"))+("<a class='redX' href=\"javascript:copyEntityNBT('"+entityIndex+"')\">Copy</a><a class='redX' href=\"javascript:pasteEntityNBT('"+entityIndex+"')\">Paste</a><br>")+("<input type='hidden' id='entity"+entityIndex+"' value='bee'><br><div id='entityPane"+entityIndex+"' class='entityWrapper'></div></div>");$("#"+e).html().length&&(a="<br>"+a),$("#"+e).append(a),entityChangeSpawnEgg(entityIndex),createComponent(t,"MinOccupationTicks",{label:"MinOccupationTicks",type:"ticks",cssClass:"fLabel100",tip:"bee_nest.MinOccupationTicks"},entityIndex),createComponent(t,"TicksInHive",{label:"TicksInHive",type:"ticks",cssClass:"fLabel100",tip:"bee_nest.TicksInHive"},entityIndex)}function makeAddEntityPane(e,t,a){var a=a||!1,o=a?"spawnPotentialContainer":"passengerContainer",n="";0!=entityIndex&&(n+=mkShowHide(t,t+"SH")),n+="<div id='"+t+"' class='"+o+" roundedDiv'>",0!=entityIndex&&(n+="<a class='redX' href=\"javascript:removePassenger('"+t+"','"+entityIndex+"')\">&#9747;</a>");for(var n=n+("<a class='redX' href=\"javascript:copyEntityNBT('"+entityIndex+"')\">Copy</a><a class='redX' href=\"javascript:pasteEntityNBT('"+entityIndex+"')\">Paste</a><br>")+("<span class='fLabel200'>Entity</span><select id='entity"+entityIndex+"' onchange='javascript:entityChange("+entityIndex+","+a+");'>"),s=0;s<entities.length;s++)n+="<option value='"+entities[s]+"'>"+entities[s]+"</option>";n+="</select><input type='text' id='entity"+entityIndex+"_filter' placeholder='Filter' class='medTF' onkeyup=\"updateEntitySelectOptions('#entity"+entityIndex+"',"+entityIndex+","+a+")\"><br><div id='entityPane"+entityIndex+"' class='entityWrapper'></div></div>",$("#"+e).html().length&&(n="<br>"+n),$("#"+e).append(n),$("#"+t).addClass(getAltCSSClass(e)),entityChange(entityIndex,a)}function getAltCSSClass(e){var t=$("#"+e).parents().map(function(){return this.id}).get();for(let e=0;e<t.length;e++)if(t[e].length){if($("#"+t[e]).hasClass("stackerAltColorA"))return"stackerAltColorB";if($("#"+t[e]).hasClass("stackerAltColorB"))return"stackerAltColorA"}return"stackerAltColorA"}function makeAddEntityPaneforSpawnEgg(e,t,a,o){for(var n=(n=mkShowHide(t,t+"SH")+"<div id='"+t+"' class='spawnPotentialContainer roundedDiv stackerAltColorB'>")+("<a class='redX' href=\"javascript:copyEntityNBT('"+entityIndex+"')\">Copy</a><a class='redX' href=\"javascript:pasteEntityNBT('"+entityIndex+"')\">Paste</a><br>")+("<span class='fLabel200'>Entity</span><select id='entity"+entityIndex+"' onchange='javascript:entityChangeSpawnEgg("+entityIndex+");'>"),s=0;s<entities.length;s++)n+="<option value='"+entities[s]+"'>"+entities[s]+"</option>";n=(n+="</select><input type='text' id='entity"+entityIndex+"_filter' placeholder='Filter' class='medTF' onkeyup=\"updateEntitySelectOptionsForSpawnEgg('#entity"+entityIndex+"', "+entityIndex+',false)">'+makeTip("spawn_egg","override")+"<br>")+"<div id='entityPane"+entityIndex+"' class='entityWrapper'></div></div>",$("#"+e).html().length&&(n="<br>"+n),$("#"+e).append(n),$("#entity"+entityIndex).val(o),entityChangeSpawnEgg(entityIndex)}function entityChange(e,t){var a;$("#entityPane"+e).html("<div id='entityPane"+e+"L' class='entityL'></div><div id='entityPane"+e+"R' class='entityR'></div><div id='entityPane"+e+"B' class='entityB'></div>"),0==e&&"data merge entity"!=currentCommand&&"execute if entity"!=currentCommand&&"kill"!=currentCommand?($("#entityPane"+e+"L").append(makeCoords("Summon","Summon",!0,!0)),bindGenCom("Summon","keyup")):"data merge entity"!=currentCommand&&"execute if entity"!=currentCommand&&"kill"!=currentCommand||0==e&&loadTargetSelectors("entityPane"+e+"L",!(a="player"==$("#entity"+e).val()),a),entityDescriptors["e"+e]=loadEntityClass($("#entity"+e).val(),e),null!=entityDescriptors["e"+e]&&(t&&entityDescriptors["e"+e].addSpawnPotentialFields(),entityDescriptors["e"+e].generateForm(),0==e&&"entitydata"!=currentCommand&&"data merge entity"!=currentCommand||$("#entityPane"+e+"L br:first").remove(),$("#entityPane"+e+"R br:first").remove()),cachedNBT.loadCachedEntityNBT(e),generateCommand()}function entityChangeSpawnEgg(e){$("#entityPane"+e).html("<div id='entityPane"+e+"L' class='entityL'></div><div id='entityPane"+e+"R' class='entityR'></div><div id='entityPane"+e+"B' class='entityB'></div>"),entityDescriptors["e"+e]=loadEntityClass($("#entity"+e).val(),e),entityDescriptors["e"+e].passengersAllowed=!1,entityDescriptors["e"+e].generateForm(),$("#entityPane"+e+"L br:first").remove(),$("#entityPane"+e+"R br:first").remove(),cachedNBT.loadCachedEntityNBT(e),generateCommand()}function updateEntitySelectOptionsForSpawnEgg(e,t){for(var a=$(e).val(),o=$(e+"_filter").val().toLowerCase(),n=[],s=0;s<entities.length;s++)0!=o.length&&-1==entities[s].toLowerCase().indexOf(o)&&-1==entities[s].toLowerCase().replaceAll("_"," ").indexOf(o.replaceAll("_"," "))||n.push('<option value="',entities[s],'">',entities[s],"</option>");$(e).html(n.join("")),a!=$(e).val()&&(cachedNBT.updateFilterLastUsed(),entityChangeSpawnEgg(t))}function removePassenger(e,t){$("#"+e).parent().children("br:first").remove(),$("#"+e).remove(),$("#"+e+"SH").remove(),delete entityDescriptors["e"+t],generateCommand()}function removeSpawnPotential(e){$("#spawnPotentialEntity_"+e).parent().children("br:first").remove(),$("#spawnPotentialEntity_"+e).remove(),$("#spawnPotentialEntity_"+e+"SH").remove(),delete entityDescriptors["e"+e],generateCommand()}function showClipboard(){$("#clipBoard").css({top:mouse.y+200,left:mouse.x}),$("#clipBoard").show(),$("#clipBoard-ta").val(clipboard[$("#nbtType").val()])}function setupItemTradeSlotForNBT(e,t,a){var o;null!=t.id&&(o=extractMinecraftID(t.id.val),null!=t.Damage&&$("#"+e+" option[value='"+o+":"+t.Damage.val+"']").length&&(o+=":"+t.Damage.val),$("#"+e).length?($("#"+e).val(o),$("#"+e).trigger("change"),loadItemNBTIntoSlot(t,o,e,a)):(o=replaceAll(",tag{}","",attribConverter(a.traverseObjectToNBT(t,""))),cachedNBT.setNBT(e,","+o),$("#"+e+"Pane > .itemNBT").remove(),$("#"+e+"itemPart").html("<div class='itemNBT'>{"+o+"}</div>")))}function bindGenCom(e,t){$("#"+e).bind(t,function(){generateCommand()})}function loadPlayerUUID(e,t){var a;t.length?(t=JSON.parse(t).id,(a=new DataView(new ArrayBuffer(16))).setBigUint64(0,BigInt("0x"+t.substring(0,16)),!1),a.setBigUint64(8,BigInt("0x"+t.substring(16)),!1),$("#"+e+0).val(a.getInt32(0)),$("#"+e+1).val(a.getInt32(4)),$("#"+e+2).val(a.getInt32(8)),$("#"+e+3).val(a.getInt32(12)),generateCommand()):alertify.alert(playerName+" Not Found")}function createComponent(e,t,a,o){var n,s=a.id||t+o,i=a.eventClass||"",r=a.cssClass||"fLabel200",l="string"==a.format?"bigTF":a.fwClass||"medTF",c=a.label||t,p=a.value||"";if(-1!=e.indexOf("entityPane")&&(e+=a.align||"L"),"panel"==a.type)n=a.showHide?mkShowHide(a.panelID,a.panelID+"SH"):"",a.label?$("#"+e).append("<br><span class='"+r+"'>"+c+"</span>"+n+"<span id='"+a.panelID+"'></span>"):$("#"+e).append("<br>"+n+"<span id='"+a.panelID+"'></span>");else{if($("#"+e).append("<br><span class='"+r+"'>"+c+"</span>"),"text"==a.type)$("#"+e).append("<input type='text'  value='"+p+"' id='"+s+"' class='"+i+" "+l+"'>"),bindGenCom(s,"keyup",i);else if("UUIDArray"==a.type){$("#"+e).append("<span id='"+s+"FourFields'></span>");for(let e=0;e<4;e++)$("#"+s+"FourFields").append("<input type='text' id='"+s+e+"' class='"+i+" medTF'>"),bindGenCom(s+e,"keyup",i);a.playerLookup&&($("#"+e).append("<span id='"+s+"LookUpContainer'></span>"),$("#"+s+"LookUpContainer").hide(),$("#"+s+"LookUpContainer").append("<input type='text' id='"+s+"lookupname' class='bigTF'><button id='"+s+"getUUID' title=\"This requires an active internet connection so that the UUID can be obtained from Mojang's API.\" class='greenPlus'>Get UUID</button><button id='"+s+"cancel' class='greenPlus'>Cancel</button>"),$("#"+s+"FourFields").append("<button id='"+s+"lookup' class='greenPlus'>Look up</button>"),$("#"+s+"lookup").on("click",function(){$("#"+s+"lookupname").val(localStorage.playerLookup||""),$("#"+s+"LookUpContainer").show(),$("#"+s+"FourFields").hide(),$("#"+s+"getUUID").off().on("click",function(){var e;"undefined"!=typeof offlineMode?(e=localStorage.lastNameAndUUID||"",e=prompt("Open https://api.mojang.com/users/profiles/minecraft/"+$("#"+s+"lookupname").val()+" in a new tab and copy the text shown into the field below",e),localStorage.lastNameAndUUID=e,loadPlayerUUID(s,e),$("#"+s+"LookUpContainer").hide(),$("#"+s+"FourFields").show()):$.get("https://mcstacker.net/uuid_lookup.php?name="+$("#"+s+"lookupname").val(),function(e,t){loadPlayerUUID(s,e),$("#"+s+"LookUpContainer").hide(),$("#"+s+"FourFields").show()})}),$("#"+s+"cancel").bind("click",function(){$("#"+s+"LookUpContainer").hide(),$("#"+s+"FourFields").show()})}))}else if("choice"==a.type){for(var d="",m=0;m<a.values.length;m++)d+="<option value='"+a.values[m][0]+"'>"+a.values[m][1]+"</option>";$("#"+e).append("<select id='"+s+"' class='"+i+"'>"+d+"</select>"),bindGenCom(s,"change")}else if("ticks"==a.type)$("#"+e).append("<input type='text' value='"+p+"' id='"+s+"' class='"+i+" "+l+"'>"+mkTicksSecs(s+"TT")),bindGenCom(s,"keyup");else if("choicetext"==a.type){$("#"+e).append("<input type='text'  value='"+p+"' id='"+s+"_txt' class='"+i+" "+l+"'>"),bindGenCom(s+"_txt","keyup");for(d="",m=0;m<a.values.length;m++)$.isArray(a.values[m])?d+="<option value='"+a.values[m][0]+"'>"+a.values[m][1]+"</option>":d+="<option value='"+a.values[m]+"'>"+a.values[m]+"</option>";$("#"+e).append("<select id='"+s+"_choice' class='"+i+"'>"+d+"</select>"),bindGenCom(s+"_choice","change")}else if("jsonFormats"==a.type){for(var h=["unset","true","false"],g=["bold","italic","underlined","strikethrough","obfuscated"],d="<table class='aTable' style='display:inline;position:relative;left:-80px'><tr><td></td><td width=40 align=left>Unset</td><td width=40 align=left>True</td><td width=40 align=left>False</td></tr>",u=0;u<g.length;u++){d+="<tr><td align='right'>"+(c=g[u].charAt(0).toUpperCase()+g[u].slice(1))+"</td>";for(m=0;m<h.length;m++)d+="<td><input type='radio' id='"+s+g[u]+h[m]+"' name='"+s+g[u]+"' value='"+h[m]+"' class='"+i+"' title='"+h[m]+"'></td>";$("#"+s+g[u]+h[0]).prop("checked",!0),d+="</tr>"}d+="</table>",$("#"+e).append(d);for(u=0;u<g.length;u++)$("#"+s+g[u]+h[0]).prop("checked",!0)}else if("makeSelect"==a.type){for(d="",m=0;m<a.values.length;m++)d+="<option value='"+a.values[m]+"'>"+a.values[m]+"</option>";$("#"+e).append("<select id='"+s+"' class='"+i+"'>"+d+"</select>"),bindGenCom(s,"change")}else if("makeSelectWithIndexAndValues"==a.type){for(d="",m=0;m<a.values.length;m++)d+="<option value='"+a.values[m][0]+"'>"+a.values[m][1]+"</option>";$("#"+e).append("<select id='"+s+"' class='"+i+"'>"+d+"</select>"),bindGenCom(s,"change")}else if("makeSelectWithIndexes"==a.type)$("#"+e).append(""+makeSelectWithIndexes(s,a.values,null!=a.hasUnset&&a.hasUnset)),bindGenCom(s,"change");else if("colorChooser"==a.type)$("#"+e).append("<input type='checkbox' id='"+s+"_customcol' ><span id='"+s+"_colsettings'><input id='"+s+"_color' value='FF0000' onchange='generateCommand()'></span>"),$("#"+s+"_customcol").bind("change",function(){enableCustomCol(s+"_customcol",s)}),new jscolor.color(document.getElementById(s+"_color"),{}).fromString("FF0000"),$("#"+s+"_colsettings").hide();else if("cb"==a.type)$("#"+e).append("<input type='checkbox' id='"+s+"' class='"+i+"'>"),bindGenCom(s,"change");else if("tileselect"==a.type){$("#"+e).append("<span id='"+s+"Pane' class='tileSelectControl'></span>");var _,b="<select id='"+s+"'>";for(_ in itemsAndBlocks)"i"!=itemsAndBlocks[_].c&&(b+="<option value='"+_+"'>"+itemsAndBlocks[_].d+"</option>");b+="</select><input type='text' id='"+s+"_filter' class='"+l+"' placeholder='Filter'><a href=\"javascript:addTile('"+s+"')\" class='greenPlus'>+</a><span id='"+s+"TilePane'></span>",$("#"+s+"Pane").append(b),$("#"+s+"_filter").bind("keyup",function(){updateTileSelectOptions("#"+s)}),$("#"+s).bind("change",function(){generateCommand()})}else if("itemselectOnly"==a.type){var f,b="<select id='"+s+"'>";for(f in itemsAndBlocks)"t"!=itemsAndBlocks[f].c&&(b+="<option value='"+f+"'>"+itemsAndBlocks[f].d+"</option>");b+="</select><input type='text' id='"+s+"_filter' class='"+l+"' placeholder='Filter'>",$("#"+e).append(b),$("#"+s+"_filter").bind("keyup",function(){updateItemSelectOptions("#"+s)}),$("#"+s).bind("change",function(){generateCommand()})}else if("statusEffects"==a.type)$("#"+e).append(mkShowHide(s+"Pane",s+"SH")+"<div id='"+s+"Pane' class='AEControl roundedDiv'></div>"),makeStatusEffects(s+"Pane",s),showHide(s+"Pane",s+"SH");else if("stewEffects"==a.type)$("#"+e).append(mkShowHide(s+"Pane",s+"SH")+"<div id='"+s+"Pane' class='AEControl roundedDiv'></div>"),makeStewEffects(s+"Pane",s);else if("passenger"==a.type)$("#"+e).append("<br><span style='display:inline;white-space: nowrap;'><a href=\"javascript:addPassenger('"+s+"Pane')\" class='greenPlus'>+</a><div id='"+s+"Pane' class='PassengerPane'></div></span>");else if("spawnPotential"==a.type)$("#"+e).append("<span style='display:inline;white-space: nowrap;'><a href=\"javascript:addSpawnPotential('"+s+"Pane')\" class='greenPlus'>+</a><div id='"+s+"Pane' class='SpawnPotentialPane'></div></span>");else if("customNameJSON"==a.type)$("#"+e).append(mkShowHide(s+"EntityName",s+"EntityNameSH")+"<div id='"+s+"EntityName' class='roundedDiv JSONEditor'></div>"),createTellrawForm(s,o,"EntityName",!0),showHide(s+"EntityName",s+"EntityNameSH"),$("#"+s+"EntityName br:first").remove(),$("#"+s+"EntityName br:first").remove();else if("multiitem"==a.type)$("#"+e).append(mkShowHide(s+"MultiItemPane",s+"SH")+"<div id='"+s+"MultiItemPane' class='multiitemSelectControl roundedDiv'></div>"),$("#"+s+"MultiItemPane").append(makeButton("Add Item","addMultiItem('"+s+"MultiItemPane',"+(a.slotNumbers?1:0)+")","Targeted player must have all of these selected items in their inventory.")),a.wildcardSlots&&$("#"+s+"MultiItemPane").append(makeButton("Add Wildcard Slot","addWildcardSlot('"+s+"MultiItemPane')","Targeted player can have any item in specified slot")),a.hide&&showHide(s+"MultiItemPane",s+"SH");else if("itemselect"==a.type)$("#"+e).append(mkShowHide(s+"Pane",s+"SH")+"<div id='"+s+"Pane' class='itemSelectControl roundedDiv'></div>"),a.forceConstruct||settings.loadItemUI?(createItemSelectComponent(s,a,l,i,o,a.forceConstruct),null!=cachedNBT.getNBT(s)&&($("#"+s).val(cachedNBT.getItemType(s)),$("#"+s).trigger("change"))):closeItemSelectComponent(s,a,l,i,o),a.hide&&showHide(s+"Pane",s+"SH");else if("fwExplosion"==a.type)$("#"+e).append("<span style='display:inline;white-space: nowrap;'><a href=\"javascript:addExplosion('"+s+"Pane')\" class='greenPlus'>+</a><div id='"+s+"Pane' class='ExplosionPane'></div></span>");else if("villTrade"==a.type)$("#"+e).append("<span style='display:inline;white-space: nowrap;'><a href=\"javascript:addTrade('"+s+"Pane',"+o+")\" class='greenPlus'>+</a><div id='"+s+"Pane' class='TradePane'></div></span>");else if("gossips"==a.type)$("#"+e).append("<span style='display:inline;white-space: nowrap;'><a href=\"javascript:addGossip('"+s+"Pane',"+o+")\" class='greenPlus'>+</a><div id='"+s+"Pane' class='GossipPane'></div></span>");else if("memories"==a.type){$("#"+e).append("<span style='display:inline;white-space: nowrap;'>"+mkShowHide(s+"Pane",s+"PaneSH")+"<div id='"+s+"Pane' class='roundedDiv'></div>"),showHide(s+"Pane",s+"MemoriesSH");for(var v=["meeting_point","home","job_site"],m=0;m<v.length;m++){var k=s+v[m];$("#"+s+"Pane").append("<div id="+k+" class='MemoriesControl roundedDiv'>"+v[m]+"</div>"),createComponent(k,"dimension",{id:k+"Dim",type:"makeSelect",values:["overworld","the_end","the_nether"],format:"special",cssClass:"fLabel70",tip:"memories",align:"R"},o),createComponent(k,"X",{id:k+"X",type:"text",format:"int",cssClass:"fLabel70",tip:"memories"},o),createComponent(k,"Y",{id:k+"Y",type:"text",format:"int",cssClass:"fLabel70"},o),createComponent(k,"Z",{id:k+"Z",type:"text",format:"int",cssClass:"fLabel70"},o)}}else if("beeforHive"==a.type)$("#"+e).append("<span style='display:inline;white-space: nowrap;'><a href=\"javascript:addBee('"+s+"Pane')\" class='greenPlus'>+</a><div id='"+s+"Pane' class='BeePane'></div></span>");else if("itemForRecipes"==a.type){$("#"+e).append("<span id='"+s+"Pane' class='tileSelectControl'></span>");for(b="<select id='"+s+"'>",m=0;m<knowledgeList.length;m++)b+="<option value='"+knowledgeList[m]+"'>"+knowledgeList[m]+"</option>";b+="</select><input type='text' id='"+s+"_filter' class='"+l+"' placeholder='Filter'><a href=\"javascript:addTile('"+s+"')\" class='greenPlus'>+</a><span id='"+s+"TilePane'></span>",$("#"+s+"Pane").append(b),$("#"+s+"_filter").bind("keyup",function(){updateItemSelectForRecipes("#"+s)})}else if("RecipesUsed"==a.type){$("#"+e).append("<span id='"+s+"Pane' class='tileSelectControl'></span>");var y,b="<select id='"+s+"'>";for(y in itemsAndBlocks)"t"!=itemsAndBlocks[y].c&&(b+="<option value='"+y+"'>"+itemsAndBlocks[y].d+"</option>");b+="</select><input type='text' id='"+s+"_filter' class='"+l+"' placeholder='Filter'><a href=\"javascript:addRecipesUsed('"+s+"')\" class='greenPlus'>+</a><span id='"+s+"TilePane'></span>",$("#"+s+"Pane").append(b),$("#"+s+"_filter").bind("keyup",function(){updateItemSelectForRecipesUsed("#"+s)})}null!=a.tip&&$("#"+e).append(makeTip(a.tip,t))}}function jsonHexColorUpdate(e,t){"Hex Code"==$("#"+e+"color").val()?$("#"+e+"_colsettings").show():$("#"+e+"_colsettings").hide(),("book"==t?bookUpdate:"sign"==t?signUpdate:tellrawUpdate)(e)}function addMultiItem(e,t){for(var a=0;$("#"+e+"_"+a).length;)a++;var o=e+"_"+a;createComponent(e,o+"Slot",{type:"itemselect",format:"special",cssClass:"fLabel40",label:"Item",id:o,forceConstruct:!0,hasSlot:t},-1)}function addWildcardSlot(e){for(var t=0;$("#"+e+"_"+t).length;)t++;var a=e+"_"+t;$("#"+e).append("<div id='"+a+"Panel' class='wildcardSlot'></div>"),createComponent(a+"Panel",a+"Slot",{type:"text",format:"special",cssClass:"fLabel40",label:"Slot ",id:a},-1),$("#"+a+"Panel").append("<a class='redX' href=\"javascript:removeContainer('"+a+"Panel')\">&#9747;</a>"),$("#"+a+"Panel br:first").remove()}function closeItemSelectComponent(e,t,a,o,n){$("#"+e+"Pane").html("<button id='createItemUI_"+e+"'class='showHide'>Edit Item</button><div id='"+e+"itemPart'></div><div id='"+e+"dropChancePart'></div>"),$("#createItemUI_"+e).bind("click",function(){createItemSelectComponent(e,t,a,o,n,!1),null!=cachedNBT.getNBT(e)&&($("#"+e).val(cachedNBT.getItemType(e)),$("#"+e).trigger("change"))});var s=cachedNBT.getNBT(e);null!=s&&($("#"+e+"itemPart").html("<div class='itemNBT'>"+s+"</div>"),null!=cachedNBT.dropChance[e]&&""!=cachedNBT.dropChance[e]?$("#"+e+"dropChancePart").html("Drop Chance="+cachedNBT.dropChance[e]):$("#"+e+"dropChancePart").html(""))}function isDurable(e){for(enc in enchantables)for(i=0;i<enchantables[enc][1].length;i++)if(enchantables[enc][1][i]==e)return!0;return!1}function createItemSelectComponent(s,i,e,r,l,t){cachedNBT.setMetaForNBT(s,i,e,r,l);var a,o="<span class='fLabel100'>Item</span><select id='"+s+"'>";for(a in itemsAndBlocks)"t"!=itemsAndBlocks[a].c&&(o+="<option value='"+a+"'>"+itemsAndBlocks[a].d+"</option>","-1"==a)&&i.addNoneAfterUnset&&(o+="<option value='none'>none</option>");o+="</select><input type='text' class='"+e+"' id='"+s+"_filter' placeholder='Filter'><a class='redX' href=\"javascript:unsetItem('"+s+"')\">&#9747;</a><a class='redX' href=\"javascript:copyItemNBT('"+s+"')\">Copy</a><a class='redX' href=\"javascript:pasteItemNBT('"+s+"')\">Paste</a>",t||(o+="<button id='closeItemUI_"+s+"' class='showHide'>Close Item</button>"),o+="<div id='"+s+"ItemPane'></div>",$("#"+s+"Pane").html(o),t||$("#closeItemUI_"+s).bind("click",function(){cachedNBT.setMetaForNBT(s,i,e,r,l);getItemNBT(s);closeItemSelectComponent(s,i,e,r,l)}),$("#"+s+"_filter").bind("keyup",function(){updateItemSelectOptions("#"+s)}),$("#"+s).bind("change",function(){if($("#"+s+"ItemPane").html(""),"-1"!=$("#"+s).val()){var e=cachedNBT.getNBT(s);$("#"+s+"ItemPane").append("<span class='fLabel100'>Name</span>"+mkShowHide(s+"ItemName",s+"ItemNameSH")+"<div id='"+s+"ItemName' class='roundedDiv JSONEditor'></div>"),createTellrawForm(s,l,"ItemName",!0,"ItemName"),showHide(s+"ItemName",s+"ItemNameSH"),$("#"+s+"ItemName br:first").remove(),$("#"+s+"ItemName br:first").remove(),$("#"+s+"ItemPane").append("<br><span class='fLabel100'>Lore</span>"+mkShowHide(s+"Lore",s+"LoreSH")+"<div id='"+s+"Lore' class='roundedDiv JSONEditor'></div>"),createTellrawForm(s,l,"Lore",!0,"Lore"),showHide(s+"Lore",s+"LoreSH"),$("#"+s+"Lore br:first").remove(),$("#"+s+"Lore br:first").remove(),isDurable($("#"+s).val())&&(createComponent(s+"ItemPane","Damage",{id:s+"Damage",type:"text",cssClass:"fLabel100",tip:"item.Damage"},l),createComponent(s+"ItemPane","RepairCost",{id:s+"RepairCost",type:"text",cssClass:"fLabel100",tip:"item.RepairCost"},l),createComponent(s+"ItemPane","Unbreakable",{id:s+"Unbreakable",type:"choice",values:unsetTrueFalse,format:"b",cssClass:"fLabel100",tip:"item.Unbreakable"},l)),null!=i.doDropChance&&i.doDropChance&&(createComponent(s+"ItemPane","DropChance",{id:s+"DropChance",type:"text",cssClass:"fLabel100",tip:"item.DropChance"},l),null!=cachedNBT.dropChance[s])&&$("#"+s+"DropChance").val(cachedNBT.dropChance[s]),null==i.noCount&&createComponent(s+"ItemPane","Count",{id:s+"Count",type:"text",cssClass:"fLabel100",tip:"item.Count"},l),1==i.hasSlot&&createComponent(s+"ItemPane","Slot",{id:s+"Slot",type:"text",cssClass:"fLabel100",tip:"item.Slot"},l),createComponent(s+"ItemPane","CustomModelData",{id:s+"CustomModelData",type:"text",cssClass:"fLabel100",tip:"item.CustomModelData",fwClass:"verybigTF"},l),createComponent(s+"ItemPane","CustomTags",{id:s+"CustomTags",type:"text",cssClass:"fLabel100",tip:"item.CustomTags",fwClass:"verybigTF"},l),createComponent(s+"ItemPane","CanPlaceOn",{id:s+"CanPlaceOn",type:"tileselect",cssClass:"fLabel100",tip:"item.CanPlaceOn"},l),createComponent(s+"ItemPane","CanDestroy",{id:s+"CanDestroy",type:"tileselect",cssClass:"fLabel100",tip:"item.CanDestroy"},l),$("#"+s+"ItemPane").append("<br><span class='fLabel100'>HideFlags</span>"+mkShowHide(s+"HideFlags",s+"HideFlagsSH")+"<div id='"+s+"HideFlags' class='HideFlagsControl roundedDiv'></div>"+makeTip("item.HideFlags"));for(var t=0;t<flags.length;t++)$("#"+s+"HideFlags").append("<span style='width:400;'><span class='fLabel100'>"+flags[t]+"</span><input type='checkbox' id='"+s+"HF"+flags[t]+"' class='"+r+"'></span>"),bindGenCom(s+"HF"+flags[t],"change");if(showHide(s+"HideFlags",s+"HideFlagsSH"),$("#"+s+"ItemPane").append("<br><span class='fLabel100'>Enchantments</span>"+mkShowHide(s+"Enchantments",s+"EnchantmentsSH")+"<div id='"+s+"Enchantments' class='EnchantmentsControl roundedDiv'></div>"+makeTip("item.Enchantments")),makeEnchantments(s+"Enchantments",!1,$("#"+s).val()),showHide(s+"Enchantments",s+"EnchantmentsSH"),$("#"+s+"ItemPane").append("<br><span class='fLabel100'>Modifiers</span>"+mkShowHide(s+"AM",s+"AMSH")+"<div id='"+s+"AM' class='roundedDiv AMControl'></div>"+makeTip("item.AttributeModifiers")),makeAMUI(s+"AM"),showHide(s+"AM",s+"AMSH"),$("#"+s).val()in blockStates){$("#"+s+"ItemPane").append("<br><span class='fLabel100'>Block States</span>"+mkShowHide(s+"BlockStates",s+"BlockStatesSH")+"<div id='"+s+"BlockStates' class='AEControl roundedDiv'></div>"+makeTip("item.BlockStates")),showHide(s+"BlockStates",s+"BlockStatesSH");var a,o=blockStates[$("#"+s).val()];for(a in o){var n=o[a].slice();$.isArray(n[0])?(n.unshift(["unset","unset"]),createComponent(s+"BlockStates",a,{id:a+s,cssClass:"fLabel100",type:"choice",values:n},0)):(n.unshift("unset"),createComponent(s+"BlockStates",a,{id:a+s,cssClass:"fLabel100",type:"makeSelect",values:n},0))}$("#"+s+"BlockStates br:first").remove()}loadItemSpecificOptions(s,l),null!=e&&(cachedNBT.nbt[s]=e,cachedNBT.loadCachedItemNBT(s))}else delete cachedNBT.nbt[s];generateCommand()})}function makeTip(e,t){return"<a href=\"javascript:showTip('"+(-1==e.indexOf(".")?e+"."+t:e)+"')\" class='greenPlus' tabindex='-1'>?</a>"}function showTip(e){$("#dialogbox").load("tips/en/"+e+".txt",function(e,t){"success"==t?(t=200<$("#dialogbox").height()?200:$("#dialogbox").height(),$("#dialogbox").css({top:mouse.y-t,left:mouse.x,"max-height":200,"overflow-y":"auto"}),$("#dialogbox").show(),$("#dialogbox").has("a").length||($("#dialogbox").focus(),$("#dialogbox").blur(function(){$("#dialogbox").hide()})),$("#dialogbox").prepend("<a href=\"javascript:hideTip()\" class='redX' style='float:right;'>X</a>")):$("#dialogbox").hide()})}function hideTip(){$("#dialogbox").hide()}function addTrade(e){for(var t=0;$("#"+e+"_Trade_"+t).length;)t++;var a=e+"_Trade_"+t;$("#"+e).append("<div id='"+a+"' class='trade roundedDiv'><a class='redX' href=\"javascript:removeContainer('"+a+"')\">&#9747;</a><a class='redX' href=\"javascript:copyTradeNBT('"+a+"')\">Copy Trade</a><a class='redX' href=\"javascript:pasteTradeNBT('"+a+"')\">Paste Trade</a><a class='redX' href=\"javascript:moveTrade('"+a+"',-1)\">&#8679;</a><a class='redX' href=\"javascript:moveTrade('"+a+"',1)\">&#8681;</a></div>"),createComponent(a,"rewardExp",{id:a+"rewardExp",type:"choice",values:[[-1,"unset"],["1","Yes"],["0","No"]],format:"b",cssClass:"fLabel70",tip:"villager"},-1),createComponent(a,"maxUses",{id:a+"maxUses",type:"text",format:"int",cssClass:"fLabel70",tip:"villager"},-1),createComponent(a,"uses",{id:a+"uses",type:"text",format:"int",cssClass:"fLabel70",tip:"villager"},-1),createComponent(a,"xp",{id:a+"xp",type:"text",format:"int",cssClass:"fLabel70",tip:"villager.xp_"},-1),createComponent(a,"priceMultiplier",{id:a+"priceMultiplier",type:"text",format:"int",cssClass:"fLabel70",tip:"villager"},-1),createComponent(a,"specialPrice",{id:a+"specialPrice",type:"text",format:"int",cssClass:"fLabel70",tip:"villager"},-1),createComponent(a,"demand",{id:a+"demand",type:"text",format:"int",cssClass:"fLabel70",tip:"villager"},-1),createComponent(a,"buy",{id:a+"buy",type:"itemselect",format:"special",cssClass:"fLabel70",tip:"villager"},-1),createComponent(a,"buyB",{id:a+"buyB",type:"itemselect",format:"special",cssClass:"fLabel70",tip:"villager"},-1),createComponent(a,"sell",{id:a+"sell",type:"itemselect",format:"special",cssClass:"fLabel70",tip:"villager"},-1),generateCommand()}function addGossip(e){for(var t=0;$("#"+e+"_"+t).length;)t++;var a=e+"_"+t;$("#"+e).append("<div id='"+a+"' class='gossip roundedDiv'><a class='redX' href=\"javascript:removeContainer('"+a+"')\">&#9747;</a></div>"),createComponent(a,"Type",{id:a+"Type",type:"makeSelect",values:["major_negative","minor_negative","major_positive","minor_positive","trading","golem"],format:"special",cssClass:"fLabel70",tip:"gossip"},-1),createComponent(a,"Value",{id:a+"Value",type:"text",format:"int",cssClass:"fLabel70",tip:"gossip"},-1),createComponent(a,"Target",{id:a+"Target",type:"UUIDArray",format:"intArray",cssClass:"fLabel70",playerLookup:!0,tip:"gossip"},-1),generateCommand()}function addExplosion(e,t){for(var a=0;$("#"+e+"_exp_"+a).length;)a++;var o=e+"_exp_"+a;$("#"+e).append("<div id='"+o+"' class='explosion roundedDiv'></div>"),null==t&&$("#"+o).append("<a class='redX' href=\"javascript:removeContainer('"+o+"')\">&#9747;</a>"),createComponent(o,"Type",{id:o+"Type",type:"choice",values:[[0,"Small Ball"],[1,"Large Ball"],[2,"Star-shaped"],[3,"Creeper-shaped"],[4,"Burst"]],format:"short",cssClass:"fLabel70",tip:"fireworks_rocket"},-1),createComponent(o,"Flicker",{id:o+"Flicker",type:"cb",format:"b",cssClass:"fLabel70",tip:"fireworks_rocket"},-1),createComponent(o,"Trail",{id:o+"Trail",type:"cb",format:"b",cssClass:"fLabel70",tip:"fireworks_rocket"},-1),$("#"+o).append("<br><span class='fLabel70'>Colors</span><a href=\"javascript:addFWColor('"+o+"Colors')\" class='greenPlus'>+</a><div id='"+o+"Colors' class='ExplosionPane'></div>"+makeTip("fireworks_rocket","Colors")+"</span>"),$("#"+o).append("<br><span class='fLabel70'>FadeColors</span><a href=\"javascript:addFWColor('"+o+"FadeColors')\" class='greenPlus'>+</a><div id='"+o+"FadeColors' class='ExplosionPane'></div>"+makeTip("fireworks_rocket","FadeColors")+"</span>"),null!=t&&$("#"+o+" br:first").remove(),generateCommand()}function addFWColor(e){for(var t=0;$("#"+e+"_col_"+t).length;)t++;var a=e+"_col_"+t;$("#"+e).append("<span class='fwColor' id='"+a+"'><a class='redX' href=\"javascript:removeContainer('"+a+"')\">&#9747;</a><input id='"+a+"_colour' value='FF0000' class='medTF'><span>"),new jscolor.color(document.getElementById(a+"_colour"),{}).fromString("FF0000"),bindGenCom(a+"_colour","change"),generateCommand()}function removeContainer(e){$("#"+e).remove(),generateCommand()}function makeStewEffects(e,t){var a="<table class='aTable'><tr><th>Effect</th><th colspan=2>Duration</th></tr>";for(se in statusEffects)"-1"!=statusEffects[se][0]&&(a+="<tr><td><span class='fLabel100'>"+statusEffects[se][1]+"</span></td><td><input type='text' class='medTF' id='"+t+"Ticks_"+statusEffects[se][0]+"'></td><td>"+mkTicksSecs(t+"Ticks_"+statusEffects[se][0]+"TT")+"</td></tr>");for(se in $("#"+e).append(a+"</table>"),statusEffects)bindGenCom(t+"Ticks_"+statusEffects[se][0],"keyup")}function makeStatusEffects(e,t){var a="<table class='aTable'><tr><th>Effect</th><th>Amplifier"+makeTip("status_effect","amplifier")+"</th><th colspan=2>Duration"+makeTip("status_effect","duration")+"</th><th>Show<br>Particles"+makeTip("status_effect","show_particles")+"</th></tr>";for(se in statusEffects)"-1"!=statusEffects[se][0]&&(a+="<tr><td><span class='fLabel100'>"+statusEffects[se][1]+"</span></td><td><input type='text' class='smallTF' id='"+t+"Amp_"+statusEffects[se][0]+"'></td><td><input type='text' class='medTF' id='"+t+"Ticks_"+statusEffects[se][0]+"'></td><td>"+mkTicksSecs(t+"Ticks_"+statusEffects[se][0]+"TT")+"</td><td><select id='"+t+"ShowParticles_"+statusEffects[se][0]+"'><option value='-1'>unset</option><option value='1b'>Yes</option><option value='0b'>No</option></select></td></tr>");for(se in $("#"+e).append(a+"</table>"),statusEffects)bindGenCom(t+"Amp_"+statusEffects[se][0],"keyup"),bindGenCom(t+"Ticks_"+statusEffects[se][0],"keyup"),bindGenCom(t+"ShowParticles_"+statusEffects[se][0],"change")}function mkTicksSecs(e){return"<a id='"+e+"' href=\"javascript:toggleTicks('"+e+"')\" class='ticks'>Ticks</a>"}function toggleTicks(e){"Ticks"==$("#"+e).html()?$("#"+e).html("Seconds"):$("#"+e).html("Ticks"),generateCommand()}function mkShowHide(e,t){return"<a id='"+t+"' href=\"javascript:showHide('"+e+"','"+t+"')\" class='showHide'><span>H</span></a>"}function showHide(e,t){$("#"+e).is(":visible")?($("#"+e+", #"+t).addClass("hiding").removeClass("shown"),$("#"+e).hide(),$("#"+t).html("<span>S</span>")):($("#"+e+", #"+t).addClass("shown").removeClass("hiding"),$("#"+e).show(),$("#"+t).html("<span>H</span>"))}function addPassenger(e){makeAddEntityPane(e,"passengerEntity_"+ ++entityIndex,!1)}function addSpawnPotential(e){makeAddEntityPane(e,"spawnPotentialEntity_"+ ++entityIndex,!0)}function addBee(e){$("#"+e+" > .spawnPotentialContainer").length<3?makeAddBeePane(e,"beeEntity_"+ ++entityIndex):alertify.alert("A maximum of three bees can be added. ")}function enableCustomCol(e,t){$("#"+e).is(":checked")?$("#"+t+"_colsettings").show():$("#"+t+"_colsettings").hide(),generateCommand()}function addAM(t,e){for(var a=0;$("#"+t+"_"+a+"_rowNum").length;)a++;for(var o=t+"_"+a,n="<tr id='"+o+"_rowNum' class='amRow'><td><select id='"+o+"_mods'>",s=0;s<attributeModifiers116.length;s++)n+="<option value='"+attributeModifiers116[s]+"'>"+attributeModifiers116[s]+"</option>";n+="</select></td><td><input type='text' class='medTF'  id='"+o+"_amount' value='1'></td><td>"+makeSelectWithIndexes(o+"_operation",["amount","percentage","multiplicative"],!1)+"</td><td>"+makeSelect(o+"_slot",["Any","mainhand","offhand","feet","legs","chest","head"])+"</td><td>";for(let e=0;e<4;e++)n+="<input type='text' class='medTF'  id='"+o+"_UUID"+e+"'>";n+="</td><td><a href=\"javascript:removeAM('"+o+"_rowNum','"+t+"')\" class='redX'>&#9747;</a></td></tr>",$("#"+t+"table > tbody:last-child").append(n),convertHexUUIDToArray(o+"_UUID",getRandomUUIDv4()),$("#"+o+"_mods").bind("change",function(){checkAMconflicts(t)}),$("#"+o+"_amount").bind("keyup",function(){checkAMconflicts(t)}),$("#"+o+"_operation").bind("change",function(){checkAMconflicts(t)}),$("#"+o+"_slot").bind("change",function(){checkAMconflicts(t)});for(let e=0;e<4;e++)$("#"+o+"_UUID"+e).bind("keyup",function(){checkAMconflicts(t)});if(checkAMconflicts(t),e)return a}function removeAM(e,t){$("#"+e).remove(),checkAMconflicts(t)}function checkAMconflicts(e){var o="",n={},s=[];$("#"+e+"table .amRow").each(function(){var e=this.id.substr(0,this.id.lastIndexOf("_")),t=$("#"+e+"_mods").val()+"_"+$("#"+e+"_slot").val(),a=$("#"+e+"_mods").val()+"_Any";t in n||a in n||-1!=s.indexOf($("#"+e+"_mods").val())&&"Any"==$("#"+e+"_slot").val()?($("#"+e+"_rowNum").addClass("amErrorRow"),o="Attribute Modifiers highlighted in red are in conflict with another modifier. You should not use the same modifier with the same slot as it may cause unpredictable behavior in game."):($("#"+e+"_rowNum").removeClass("amErrorRow"),n[t]=e+"_rowNum"),s.push($("#"+e+"_mods").val())}),0<o.length?($("#"+e+"_errors").html(o),$("#"+e+"_errors").addClass("amErrorMessage")):($("#"+e+"_errors").html(""),$("#"+e+"_errors").removeClass("amErrorMessage")),generateCommand()}function makeAMUI(e){var t=makeButton("Add Attribute Modifier","addAM('"+e+"',false)","Click to add and Attribute Modifier")+"<table class='aTable' id='"+e+"table'><tr id='"+e+"_head'><th>Attribute</th><th>Amount</th><th>Operation</th><th>Slot</th><th>UUID</th></tr>";$("#"+e).append(t+"</table><span id='"+e+"_errors'></span>")}function makeSelect(e,t){for(var a="<select id='"+e+"'>",o=0;o<t.length;o++)a+="<option value='"+t[o]+"'>"+t[o]+"</option>";return a+"</select>"}function makeSelectWithIndexes(e,t,a){var o="<select id='"+e+"'>";a&&(o+="<option value='-1'>unset</option>");for(var n=0;n<t.length;n++)o+="<option value='"+n+"'>"+t[n]+"</option>";return o+"</select>"}function makeSelectWithIndexAndValues(e,t){for(var a="<select id='"+e+"'>",o=0;o<t.length;o++)a+="<option value='"+t[o][0]+"'>"+t[o][1]+"</option>";return a+"</select>"}function enableLevelBox(e,t){$("#"+e).is(":checked")?$("#"+t+"_span").show():$("#"+t+"_span").hide(),generateCommand()}function makeEnchantments(t,e,a){var o=e?" CHECKED":"";for(enc in $("#"+t).html("<span style='width:400;'><span class='fLabel180'>Show All</span><input type='checkbox' id='"+t+"_enc_showAll'"+o+"></span><span style='width:400;'><span class='fLabel180'>Glint Only</span><input type='checkbox' id='"+t+"_enc_glintOnly'></span>"),$("#"+t+"_enc_showAll").bind("change",function(e){makeEnchantments(t,$("#"+t+"_enc_showAll").is(":checked"),a)}),$("#"+t+"_enc_glintOnly").bind("change",function(e){generateCommand()}),enchantables)for(i=0;i<enchantables[enc][1].length;i++)if(e||enchantables[enc][1][i]==a){$("#"+t).append("<span style='width:400;'><span class='fLabel180'>"+enchantables[enc][0]+"</span><input type='checkbox' id='"+t+"_enc_"+enc+"' class='enchantCB' onclick=\"enableLevelBox('"+t+"_enc_"+enc+"','"+t+"_enc_"+enc+"_lvl')\"><span id='"+t+"_enc_"+enc+"_lvl_span' class='enchantLevel'> LVL <input type='text' id='"+t+"_enc_"+enc+"_lvl' value='1' class='smallTF'></span></span>"),$("#"+t+"_enc_"+enc+"_lvl_span").hide(),$("#"+t+"_enc_"+enc+"_lvl").bind("change keyup",function(){generateCommand()});break}}function addTile(e){-1==$("#"+e).val()||null==$("#"+e).val()||$("#"+e+"_"+$("#"+e).val()).length||($("#"+e+"TilePane").append("<a class='anchorButton' href=\"javascript:removeContainer('"+e+"_"+$("#"+e).val()+"')\" id='"+e+"_"+$("#"+e).val()+"'>"+$("#"+e).val()+" <span class='redX noBorder'>&#9747;</span></a> "),generateCommand())}function addRecipesUsed(e){-1==$("#"+e).val()||null==$("#"+e).val()||$("#"+e+"_"+$("#"+e).val()).length||($("#"+e+"TilePane").append("<span id='"+e+"_"+$("#"+e).val()+"' class='"+e+"'><br><span class='fLabel200'></span><a class='redX' href=\"javascript:removeContainer('"+e+"_"+$("#"+e).val()+"')\">&#9747;</a> <input type='text' class='medTF recipeUsedQTY' id='qty-"+e+"-"+$("#"+e).val()+"' value='1'> of "+$("#"+e).val()+" </span> "),bindGenCom("qty-"+e+"-"+$("#"+e).val(),"keyup"),generateCommand())}function addTileFromNBTLoad(e,t){$("#"+e+"TilePane").append("<a class='anchorButton' href=\"javascript:removeContainer('"+e+"_"+t+"')\" id='"+e+"_"+t+"'>"+t+" <span class='redX noBorder'>&#9747;</span></a> ")}function getFilteredItems(e){var t,a=[];for(t in itemsAndBlocks)0!=e.length&&("t"==itemsAndBlocks[t].c||-1==t.indexOf(e)&&-1==itemsAndBlocks[t].d.toLowerCase().indexOf(e))||a.push('<option value="',t,'">',itemsAndBlocks[t].d,"</option>");return a}function updateItemSelectOptions(e){var t=$(e).val(),a=getFilteredItems($(e+"_filter").val().toLowerCase());$(e).html(a.join("")),t!=$(e).val()&&(cachedNBT.updateFilterLastUsed(),$(e).trigger("change"))}function updateItemSelectForRecipes(e){for(var t=$(e).val(),a=$(e+"_filter").val().toLowerCase(),o=[],n=0;n<knowledgeList.length;n++)0!=a.length&&-1==knowledgeList[n].indexOf(a)||o.push('<option value="',knowledgeList[n],'">',knowledgeList[n],"</option>");$(e).html(o.join("")),t!=$(e).val()&&$(e).trigger("change")}function updateItemSelectForRecipesUsed(e){var t=$(e).val(),a=getFilteredItems($(e+"_filter").val().toLowerCase());$(e).html(a.join("")),t!=$(e).val()&&$(e).trigger("change")}function updateTileSelectOptions(e){var t=$(e).val(),a=getFilteredBlocks($(e+"_filter").val().toLowerCase());$(e).html(a.join("")),t!=$(e).val()&&$(e).trigger("change")}function updateEntitySelectOptions(e,t,a,o){var o=o||!1,n=$(e).val(),s=$(e+"_filter").val().toLowerCase(),i=[];!o||0!=s.length&&-1=="player".indexOf(s)||i.push("<option value='player'>player</option>");for(var r=0;r<entities.length;r++)0!=s.length&&-1==entities[r].toLowerCase().indexOf(s)&&-1==entities[r].toLowerCase().replaceAll("_"," ").indexOf(s.replaceAll("_"," "))||i.push('<option value="',entities[r],'">',entities[r],"</option>");$(e).html(i.join("")),n!=$(e).val()&&(cachedNBT.updateFilterLastUsed(),entityChange(t,a))}function isLeatherArmor(e){return"leather_helmet"==e||"leather_chestplate"==e||"leather_leggings"==e||"leather_boots"==e||"leather_horse_armor"==e}function loadItemSpecificOptions(e,t){var a=$("#"+e).val();if(isLeatherArmor(a))createComponent(e+"ItemPane","Color",{id:e+"Color",type:"colorChooser",cssClass:"fLabel100",tip:"item.leatherArmor"},t);else if("enchanted_book"==a)$("#"+e+"ItemPane").append("<br><span class='fLabel100'>StoredEnchantments</span>"+mkShowHide(e+"StoredEnchantments",e+"StoredEnchantmentsSH")+"<div id='"+e+"StoredEnchantments' class='EnchantmentsControl roundedDiv'></div>"+makeTip("item.enchantment_book")),makeEnchantments(e+"StoredEnchantments",!0,$("#"+e).val());else if("player_head"==a)createComponent(e+"ItemPane","SkullOwner",{id:e+"SkullOwner",type:"text",cssClass:"fLabel100",fwClass:"bigTF",tip:"item.skullOwner"},t);else if("written_book"==a)createWrittenBookForm(e,t);else if(-1!=a.indexOf("sign")){for(n in createComponent(e+"ItemPane","Color",{id:e+"Color",type:"makeSelect",values:signColors,format:"string",tip:"sign",hasUnset:!0,align:"R"},t),createComponent(e+"ItemPane","GlowingText",{id:e+"GlowingText",type:"choice",values:unsetTrueFalse,format:"b",tip:"sign",align:"R"},t),l=getCommandStatsFormNBT()){var o={id:e+n};Object.assign(o,l[n]),createComponent(e+"ItemPane",n,o,t)}createSignForm(e,t)}else if("structure_block"==a)for(var n in structureBlockNBT){o={id:e+n};Object.assign(o,structureBlockNBT[n]),createComponent(e+"ItemPane",n,o,t)}else if("compass"==a)createComponent(e+"ItemPane","LodestoneDimension",{id:e+"Dim",type:"makeSelect",values:["unset","overworld","the_end","the_nether"],format:"special",cssClass:"fLabel100",tip:a,align:"R"},t),createComponent(e+"ItemPane","LodestoneTracked",{id:e+"Tracked",type:"choice",values:unsetTrueFalse,format:"special",cssClass:"fLabel100",tip:a,align:"R"},t),createComponent(e+"ItemPane","X",{id:e+"X",type:"text",cssClass:"fLabel100",format:"int",fwClass:"medTF",tip:a},t),createComponent(e+"ItemPane","Y",{id:e+"Y",type:"text",cssClass:"fLabel100",format:"int",fwClass:"medTF"},t),createComponent(e+"ItemPane","Z",{id:e+"Z",type:"text",cssClass:"fLabel100",format:"int",fwClass:"medTF"},t);else if("filled_map"==a)createComponent(e+"ItemPane","map",{id:e+"map",type:"text",cssClass:"fLabel100",fwClass:"smallTF",format:"int",tip:a},t),createComponent(e+"ItemPane","MapColor",{id:e+"MapColor",type:"colorChooser",cssClass:"fLabel100",tip:a},t),createComponent(e+"ItemPane","Decorations",{type:"panel",cssClass:"fLabel100",label:"Decorations",panelID:e+"Decorations",tip:a},t),$("#"+e+"Decorations").append("<button id='"+e+"addDecoration' class='greenPlus'>Add</button>"),$("#"+e+"addDecoration").bind("click",function(){addMapDecoration(e+"Decorations")});else if("writable_book"==a)createWritableBookForm(e,t);else if("firework_rocket"==a||"fireworks"==a)createComponent(e+"ItemPane","Flight",{id:e+"Flight",type:"text",cssClass:"fLabel100",format:"b",tip:"rocket"},t),createComponent(e+"ItemPane","Explosion",{type:"fwExplosion",id:e+"Explosion",forItem:!0,entDescID:"e"+entityIndex+"_"+e,format:"special",cssClass:"fLabel100",tip:"fireworks_rocket.Explosion"},entityIndex);else if("firework_star"==a)$("#"+e+"ItemPane").append("<br><span class='fLabel100'>Explosion</span><span style='display:inline;white-space: nowrap;'><div id='"+e+"Explosion' class='ExplosionPane'></div></span>"),addExplosion(e+"Explosion",!0);else if(-1!=a.indexOf("spawn_egg"))entityIndex++,$("#"+e+"ItemPane").append("<input type='hidden' id='"+e+"_entID' value='"+entityIndex+"'>"),makeAddEntityPaneforSpawnEgg(e+"ItemPane","spawnEggMob_"+entityIndex,!0,a.substr(0,a.indexOf("_spawn_egg")));else if("potion"==a||"splash_potion"==a||"lingering_potion"==a||"tipped_arrow"==a)createComponent(e+"ItemPane","Potion",{id:e+"Potion",cssClass:"fLabel100",type:"makeSelectWithIndexAndValues",values:potions,format:"string",tip:"potion"},t),createComponent(e+"ItemPane","CustomPotionColor",{id:e+"CustomPotionColor",cssClass:"fLabel100",type:"colorChooser",format:"long",tip:"potion"},t),createComponent(e+"ItemPane","CustomPotionEffects",{id:e+"CustomPotionEffects",cssClass:"fLabel100",type:"statusEffects",format:"special",tip:"potion"},t);else if("crossbow"==a){var s=["unset","arrow","tipped_arrow","spectral_arrow","firework_rocket"];createComponent(e+"ItemPane","Left Projectile",{id:e+"LeftProjectile",cssClass:"fLabel100",type:"makeSelect",values:s,format:"special"},t),$("#"+e+"ItemPane").append("<br><div id='"+e+"LeftProjectilePane' class='crossbowItem'></div>"),createComponent(e+"ItemPane","Middle Projectile",{id:e+"MiddleProjectile",cssClass:"fLabel100",type:"makeSelect",values:s,format:"special"},t),$("#"+e+"ItemPane").append("<br><div id='"+e+"MiddleProjectilePane' class='crossbowItem'></div>"),createComponent(e+"ItemPane","Right Projectile",{id:e+"RightProjectile",cssClass:"fLabel100",type:"makeSelect",values:s,format:"special"},t),$("#"+e+"ItemPane").append("<br><div id='"+e+"RightProjectilePane'></div>"),$("#"+e+"LeftProjectile").bind("change",function(){updateCrossbowForm(e,"LeftProjectile",t)}),$("#"+e+"MiddleProjectile").bind("change",function(){updateCrossbowForm(e,"MiddleProjectile",t)}),$("#"+e+"RightProjectile").bind("change",function(){updateCrossbowForm(e,"RightProjectile",t)})}else if("suspicious_stew"==a)createComponent(e+"ItemPane","Effects",{id:e+"StewEffects",cssClass:"fLabel100",type:"stewEffects",format:"special",tip:"potion"},t);else if("armor_stand"==a)entityIndex++,$("#"+e+"ItemPane").append("<input type='hidden' id='"+e+"_entID' value='"+entityIndex+"'>"),i=(i=mkShowHide(p="armorStand"+entityIndex,p+"SH")+"<div id='"+p+"' class='spawnPotentialContainer roundedDiv stackerAltColorB'>")+("<input type='hidden' id='entity"+entityIndex+"' value='armor_stand'>")+("<div id='entityPane"+entityIndex+"' class='entityWrapper'></div></div>"),$("#"+e+"ItemPane").html().length&&(i="<br>"+i),$("#"+e+"ItemPane").append(i),entityChangeSpawnEgg(entityIndex);else if("tropical_fish_bucket"==a||"cod_bucket"==a||"pufferfish_bucket"==a||"salmon_bucket"==a||"axolotl_bucket"==a){var i,s=a.substr(0,a.indexOf("_bucket"));entityIndex++,$("#"+e+"ItemPane").append("<input type='hidden' id='"+e+"_entID' value='"+entityIndex+"'>"),i=(i=mkShowHide(p="armorStand"+entityIndex,p+"SH")+"<div id='"+p+"' class='spawnPotentialContainer roundedDiv stackerAltColorB'>")+("<input type='hidden' id='entity"+entityIndex+"' value='"+s+"'>")+("<div id='entityPane"+entityIndex+"' class='entityWrapper'></div></div>"),$("#"+e+"ItemPane").html().length&&(i="<br>"+i),$("#"+e+"ItemPane").append(i),entityChangeSpawnEgg(entityIndex)}else if(["command_block","repeating_command_block","chain_command_block"].includes(a)){var r=getCommandBlockFieldsFormNBT(),l=getCommandStatsFormNBT();for(n in Object.assign(r,l),r){o={id:e+n};Object.assign(o,r[n]),createComponent(e+"ItemPane",n,o,t)}}else if("bundle"==a)createComponent(e+"ItemPane","BundleItems",{type:"multiitem",tip:"item.bundle",slotNumbers:!1,cssClass:"fLabel100",hide:!0,label:"Items",id:e+"BundleItems"},entityIndex);else if("campfire"==a||"soul_campfire"==a)for(var c=0;c<4;c++)createComponent(e+"ItemPane",c+"Slot",{type:"itemselect",format:"special",cssClass:"fLabel100",hide:!0,label:"Slot "+c,id:e+"Slot"+c},entityIndex),createComponent(e+"ItemPane",c+"CookingTime",{type:"ticks",format:"special",cssClass:"fLabel100",tip:"campfire.CookingTime",label:"CookingTime "+c,id:e+"CookingTime"+c},entityIndex),createComponent(e+"ItemPane",c+"CookingTotalTime",{type:"ticks",format:"special",cssClass:"fLabel100",tip:"campfire.CookingTotalTime",label:"CookingTotalTime "+c,id:e+"CookingTotalTime"+c},entityIndex);else if("painting"==a){var p=paintingMotives.slice();p.unshift("unset"),createComponent(e+"ItemPane","Motive",{id:e+"Motive",type:"makeSelect",cssClass:"fLabel100",values:p,format:"special",tip:"painting",align:"R"},entityIndex)}else if("item_frame"==a||"glow_item_frame"==a)createComponent(e+"ItemPane","Item",{id:e+"ItemInFrame",type:"itemselect",forceConstruct:settings.loadItemUI,tip:"item"},entityIndex),createComponent(e+"ItemPane","ItemRotation",{id:e+"ItemRotation",type:"choice",values:[[-1,"unset"],["1","45&deg;"],["2","90&deg;"],["3","135&deg;"],["4","180&deg;"],["5","225&deg;"],["6","270&deg;"],["7","315&deg;"]],format:"b",tip:"item_frame"},entityIndex),createComponent(e+"ItemPane","Invulnerable",{id:e+"Invulnerable",type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},entityIndex),createComponent(e+"ItemPane","Invisible",{id:e+"Invisible",type:"choice",values:unsetTrueFalse,format:"b",tip:"item_frame"},entityIndex),createComponent(e+"ItemPane","Fixed",{id:e+"Fixed",type:"choice",values:unsetTrueFalse,format:"b",tip:"item_frame"},entityIndex);else if("lectern"==a)createComponent(e+"ItemPane","Page",{id:e+"Page",type:"text",format:"int",tip:"lectern"},entityIndex),createComponent(e+"ItemPane","Book",{id:e+"Book",type:"itemselect",forceConstruct:settings.loadItemUI,tip:"lectern"},entityIndex);else if("beacon"==a){s=statusEffects.slice();s.splice(0,1,[0,"None"]),createComponent(e+"ItemPane","Lock",{id:e+"Lock",type:"text",format:"string",tip:"block.Lock"},entityIndex),createComponent(e+"ItemPane","Levels",{id:e+"Levels",type:"text",format:"int",tip:"beacon.Levels"},entityIndex),createComponent(e+"ItemPane","Primary",{id:e+"Primary",type:"choice",values:s,format:"int",tip:"beacon.Primary"},entityIndex),createComponent(e+"ItemPane","Secondary",{id:e+"Secondary",type:"choice",values:s,format:"int",tip:"beacon.Secondary"},entityIndex)}else if("barrel"==a||"chest"==a||"trapped_chest"==a||"brewing_stand"==a||"dispenser"==a||"dropper"==a||"furnace"==a||"blast_furnace"==a||"smoker"==a||"hopper"==a||-1!=a.indexOf("shulker_box")){createComponent(e+"ItemPane","CustomName",{id:e+"CustomName",type:"customNameJSON",format:"special",cssClass:"fLabel100",tip:"block.CustomName"},entityIndex),createComponent(e+"ItemPane","Lock",{id:e+"Lock",type:"text",cssClass:"fLabel100",format:"string",tip:"block.Lock"},entityIndex),"barrel"==a||"chest"==a||"trapped_chest"==a||"dispenser"==a||"dropper"==a||"hopper"==a||-1!=a.indexOf("shulker_box")?(createComponent(e+"ItemPane","LootTable",{id:e+"LootTable",type:"text",cssClass:"fLabel100",fwClass:"bigTF",format:"string",tip:"chest.LootTable"},entityIndex),"hopper"==a&&createComponent(e+"ItemPane","TransferCooldown",{id:e+"TransferCooldown",cssClass:"fLabel100",type:"ticks",format:"short",tip:"hopper.TransferCooldown"},entityIndex)):"brewing_stand"==a?(createComponent(e+"ItemPane","BrewTime",{id:e+"BrewTime",cssClass:"fLabel100",type:"ticks",tip:"brewing_stand.BrewTime"},entityIndex),createComponent(e+"ItemPane","Fuel",{id:e+"Fuel",cssClass:"fLabel100",type:"text",format:"b",tip:"brewing_stand.Fuel"},entityIndex)):"furnace"!=a&&"blast_furnace"!=a&&"smoker"!=a||(createComponent(e+"ItemPane","BurnTime",{id:e+"BurnTime",cssClass:"fLabel100",type:"ticks",tip:"furnace.BurnTime"},entityIndex),createComponent(e+"ItemPane","CookTime",{id:e+"CookTime",cssClass:"fLabel100",type:"ticks",tip:"furnace.CookTime"},entityIndex),createComponent(e+"ItemPane","CookTimeTotal",{id:e+"CookTimeTotal",cssClass:"fLabel100",type:"ticks",tip:"furnace.CookTimeTotal"},entityIndex),"furnace"==a&&createComponent(e+"ItemPane","RecipesUsed",{id:e+"RecipesUsed",cssClass:"fLabel100",type:"RecipesUsed",format:"special",tip:"furnace.RecipesUsed"},entityIndex));for(var d={chest:27,trapped_chest:27,brewing_stand:5,dropper:9,dispenser:9,blast_furnace:3,smoker:3,furnace:3,hopper:5,barrel:27}[a]||27,c=0;c<d;c++)createComponent(e+"ItemPane",c+"Slot",{type:"itemselect",format:"special",cssClass:"fLabel100",hide:!0,label:"Slot "+c,id:e+"Slot"+c},entityIndex)}else if("spawner"==a)for(var n in initMobSpawnerNBT(),mobSpawnerNBT){o={id:n+e};Object.assign(o,mobSpawnerNBT[n]),createComponent(e+"ItemPane",n,o,t)}else if("beehive"==a||"bee_nest"==a)for(var n in initBeeHiveNestNBT(),beeHiveNestNBT){o={id:n+e};Object.assign(o,beeHiveNestNBT[n]),createComponent(e+"ItemPane",n,o,t)}else-1!=a.indexOf("_banner")||"shield"==a?(createComponent(e+"ItemPane","BlockEntityTag",{id:e+"BlockEntityTag",type:"text",cssClass:"fLabel100",fwClass:"bigTF",tip:"item."+("shield"==a?"shield":"banner")},t),-1!=a.indexOf("_banner")&&createComponent(e+"ItemPane","CustomName",{id:e+"CustomName",type:"customNameJSON",format:"special",cssClass:"fLabel100",tip:"banner.CustomName"},entityIndex)):"knowledge_book"==a&&createComponent(e+"ItemPane","Recipes",{id:e+"Recipes",cssClass:"fLabel100",type:"itemForRecipes",tip:"item.Recipes"},t)}function addMapDecoration(e){for(var t=0;$("#"+e+"_dec_"+t).length;)t++;let a=["Player","Frame","Red Marker","Blue Marker","White X","Red Triangle","Large White Dot","Small White Dot","Woodland Mansion","Ocean Monument"];woolDyes.forEach(e=>{a.push(e+" Banner")}),a.push("Red X");var o=e+"_dec_"+t;return $("#"+e).append("<span id='"+o+"' class='map_decoration roundedDiv' style='display:block;width:230px;margin-left:170px;margin-bottom:2px'></span>"),$("#"+o).append("<a class='redX' href=\"javascript:removeContainer('"+o+"')\">&#9747;</a>"),createComponent(o,"ID",{id:o+"id",type:"text",fwClass:"bigTF",format:"string",cssClass:"fLabel70",tip:"mapdecoration",value:getRandomInt(1,99999999)},-1),createComponent(o,"Type",{id:o+"Type",type:"makeSelectWithIndexes",values:a,format:"b",hasUnset:!1,cssClass:"fLabel70",tip:"mapdecoration"},-1),createComponent(o,"X",{id:o+"x",type:"text",fwClass:"medTF",format:"int",cssClass:"fLabel70",tip:"mapdecoration"},-1),createComponent(o,"Z",{id:o+"z",type:"text",fwClass:"medTF",format:"int",cssClass:"fLabel70",tip:"mapdecoration"},-1),createComponent(o,"Rotation",{id:o+"rot",type:"text",fwClass:"medTF",format:"int",cssClass:"fLabel70",value:180,tip:"mapdecoration"},-1),generateCommand(),o}function updateCrossbowForm(e,t,a){$("#"+e+t+"Pane").html(""),"arrow"!=$("#"+e+t).val()&&"spectral_arrow"!=$("#"+e+t).val()&&("tipped_arrow"==$("#"+e+t).val()?(createComponent(e+t+"Pane","Potion",{id:e+t+"Potion",cssClass:"fLabel100",type:"makeSelectWithIndexAndValues",values:potions,format:"string",tip:"potion"},a),createComponent(e+t+"Pane","CustomPotionColor",{id:e+t+"CustomPotionColor",cssClass:"fLabel100",type:"colorChooser",format:"long",tip:"potion"},a),createComponent(e+t+"Pane","CustomPotionEffects",{id:e+t+"CustomPotionEffects",cssClass:"fLabel100",type:"statusEffects",format:"special",tip:"potion"},a)):"firework_rocket"==$("#"+e+t).val()&&(createComponent(e+t+"Pane","Flight",{id:e+t+"Flight",type:"text",cssClass:"fLabel100",format:"b",tip:"rocket"},a),createComponent(e+t+"Pane","Explosion",{type:"fwExplosion",id:e+t+"Explosion",forItem:!0,entDescID:"e"+entityIndex+"_"+e,format:"special",cssClass:"fLabel100",tip:"fireworks_rocket.Explosion"},entityIndex))),$("#"+e+t+"Pane br:first").remove()}var itemsAndBlocks={},unsetTrueFalse=[[-1,"unset"],["1","True"],["0","False"]],entities=["area_effect_cloud","armor_stand","arrow","axolotl","bat","bee","blaze","boat","cat","cave_spider","chest_minecart","chicken","cod","command_block_minecart","cow","creeper","dolphin","donkey","dragon_fireball","drowned","egg","elder_guardian","end_crystal","ender_dragon","ender_pearl","enderman","endermite","evoker_fangs","evoker","experience_bottle","experience_orb","eye_of_ender","falling_block","fireball","firework_rocket","fishing_bobber","fox","furnace_minecart","ghast","giant","glow_item_frame","glow_squid","goat","guardian","hoglin","horse","hopper_minecart","husk","illusioner","iron_golem","item","item_frame","leash_knot","lightning_bolt","llama","llama_spit","magma_cube","marker","minecart","mooshroom","mule","ocelot","painting","panda","parrot","phantom","pig","piglin","piglin_brute","pillager","polar_bear","potion","pufferfish","rabbit","ravager","salmon","sheep","shulker","shulker_bullet","silverfish","skeleton","skeleton_horse","slime","small_fireball","snowball","snow_golem","spawner_minecart","spectral_arrow","spider","squid","stray","strider","tnt","tnt_minecart","trader_llama","trident","tropical_fish","turtle","vex","villager","vindicator","witch","wandering_trader","wither","wither_skull","wither_skeleton","wolf","zoglin","zombie","zombie_horse","zombified_piglin","zombie_villager"],custNameColors=["unset","white","black","dark_blue","dark_green","dark_aqua","dark_red","dark_purple","gold","gray","dark_gray","blue","green","aqua","red","light_purple","yellow","reset"];let slots=["mainhand","offhand","feet","legs","chest","head"];var entityDescriptors,mobSpawnerNBT,beeHiveNestNBT,settings,entityIndex=0,mouse={x:0,y:0},currentCommand="",tsScoreObjectiveCount=0,processing=!1,formats=["Bold","Italic","Underlined","Strikethrough","Obfuscated"],block=new Block("stone",{}),blocks=[],clipboard=["","","",""],cachedNBT=new CachedNBT,deferJSONOutput=!1,deferOutput=!1,deferHistoryOutput=!1,cmdHistory={MAX_COMMANDS:100,index:0,commands:[]},hasBlockData=[],structureBlockNBT={name:{type:"text",format:"string",tip:"structure_block"},author:{type:"text",format:"string",tip:"structure_block"},metadata:{type:"text",format:"string",tip:"structure_block"},posX:{type:"text",format:"int",tip:"structure_block"},posY:{type:"text",format:"int",tip:"structure_block"},posZ:{type:"text",format:"int",tip:"structure_block"},sizeX:{type:"text",format:"int",tip:"structure_block"},sizeY:{type:"text",format:"int",tip:"structure_block"},sizeZ:{type:"text",format:"int",tip:"structure_block"},rotation:{type:"makeSelect",values:["NONE","CLOCKWISE_90","CLOCKWISE_180","COUNTERCLOCKWISE_90"],format:"string",tip:"structure_block"},mirror:{type:"makeSelect",values:["NONE","LEFT_RIGHT","FRONT_BACK"],format:"string",tip:"structure_block"},mode:{type:"makeSelect",values:["SAVE","LOAD","CORNER","DATA"],format:"string",tip:"structure_block"},ignoreEntities:{type:"choice",values:unsetTrueFalse,format:"b",tip:"structure_block"}};function loadItemsAndBlocks(a){function e(e,t){return e[1].length-t[1].length||e[1].localeCompare(t[1])}function o(e,t){return e[0].localeCompare(t[0])}function n(e,t){return e[1].localeCompare(t[1])}$.getJSON("./lang/"+("ids"==a?"en":a)+".json",function(t){switch(itemsAndBlocks={},settings.sortMode){case"item_id":t=t.sort(o);break;case"item_desc":t=t.sort(n);break;default:t=t.sort(e)}t.unshift(["-1","unset","b"]);for(let e=0;e<t.length;e++)itemsAndBlocks[t[e][0]]={d:t[e]["ids"==a?0:1],c:t[e][2]};itemsAndBlocks[-1].d="unset",t=null,hasBlockData.length||buildListOfBlocksWithData()})}function addToHistory(e){var t;-1==e.indexOf("data merge block")&&(-1==(t=cmdHistory.commands.indexOf(e))?(cmdHistory.commands.length>=cmdHistory.MAX_COMMANDS&&cmdHistory.commands.shift(),cmdHistory.commands.push(e),cmdHistory.index=cmdHistory.commands.length-1,localStorage.cmdHistory=JSON.stringify(cmdHistory)):cmdHistory.index=t)}function loadFromHistory(e){deferHistoryOutput||(deferHistoryOutput=!0,0<=(e=cmdHistory.index+e)&&e<cmdHistory.commands.length&&(parseNBT(cmdHistory.commands[e],CURRENT_VERSION),cmdHistory.index=e),deferHistoryOutput=!1,generateCommand())}function initMobSpawnerNBT(){null==mobSpawnerNBT&&(mobSpawnerNBT={SpawnCount:{type:"text",format:"short",tip:"mob_spawner"},SpawnRange:{type:"text",format:"short",tip:"mob_spawner"},Delay:{type:"ticks",format:"short",tip:"mob_spawner"},MinSpawnDelay:{type:"ticks",format:"short",tip:"mob_spawner"},MaxSpawnDelay:{type:"ticks",format:"short",tip:"mob_spawner"},MaxNearbyEntities:{type:"text",format:"short",tip:"mob_spawner"},RequiredPlayerRange:{type:"text",format:"short",tip:"mob_spawner"},SpawnPotential:{type:"spawnPotential",format:"special",tip:"mob_spawner"}})}function initBeeHiveNestNBT(){null==beeHiveNestNBT&&(beeHiveNestNBT={FlowerPosX:{type:"text",format:"special",align:"R",tip:"beehive.FlowerPos"},FlowerPosY:{type:"text",format:"special",align:"R"},FlowerPosZ:{type:"text",format:"special",align:"R"},Bees:{type:"beeforHive",format:"special"}})}function stripHTMLTags(e){return(new DOMParser).parseFromString(e,"text/html").body.textContent||""}function MCSException(e){this.value=e,this.toString=function(){return this.value}}function loadEntityClass(e,t){switch(e){case"bat":return new Mob(t,e,{BatFlags:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"dolphin":return new Mob(t,e,{TreasurePosX:{type:"text",format:"int",tip:e,align:"R"},TreasurePosY:{type:"text",format:"int",align:"R"},TreasurePosZ:{type:"text",format:"int",align:"R"},CanFindTreasure:{type:"choice",values:unsetTrueFalse,tip:e,format:"b",align:"R"},Moistness:{type:"ticks",tip:e,align:"R"},GotFish:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"pufferfish":return new Mob(t,e,{PuffState:{type:"choice",values:[[-1,"unset"],["0","Deflated"],["1","Half Puffed"],["2","Fully Puffed"]],format:"int",align:"R"}});case"axolotl":return new BreedableMob(t,e,{Variant:{type:"choice",values:[[-1,"unset"],["0","Lucy (Pink)"],["1","Wild (Brown)"],["2","Gold/Yellow"],["3","Cyan"],["4","Blue (Rare)"]],format:"int",tip:e,align:"R"},FromBucket:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"glow_squid":return new Mob(t,e,{DarkTicksRemaining:{type:"ticks",tip:e,align:"R"}});case"cave_spider":case"elder_guardian":case"guardian":case"silverfish":case"skeleton":case"giant":case"spider":case"squid":case"stray":case"wither_skeleton":case"cod":case"salmon":case"zoglin":case"blaze":return new Mob(t,e);case"bee":return new Bee(t,e);case"tropical_fish":return new tropical_fish(t,e);case"piglin":return new Piglin(t,e,{Inventory:{type:"multiitem",hide:!0,slotNumbers:!1,tip:e},IsBaby:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"},IsImmuneToZombification:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"},TimeInOverworld:{type:"ticks",tip:e,align:"R"},CannotHunt:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"piglin_brute":return new Piglin(t,e,{IsImmuneToZombification:{type:"choice",values:unsetTrueFalse,format:"b",tip:"piglin",align:"R"},TimeInOverworld:{type:"ticks",tip:"piglin",align:"R"}});case"husk":case"zombie":return new zombie(t,e,{DrownedConversionTime:{type:"ticks",tip:"zombie",align:"R"},InWaterTime:{type:"ticks",tip:"zombie",align:"R"}});case"drowned":return new zombie(t,e);case"zombified_piglin":return new zombie(t,e,{AngerTime:{type:"ticks",tip:e,align:"R"},AngryAt:{type:"UUIDArray",format:"special",align:"R",playerLookup:!0,tip:e}});case"zombie_villager":return new zombie(t,e,{ConversionTime:{type:"ticks",tip:e,align:"R"},ConversionPlayer:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:e},profession:{type:"makeSelect",values:["unset","none","armorer","butcher","cartographer","cleric","farmer","fisherman","fletcher","leatherworker","librarian","mason","nitwit","shepherd","toolsmith","weaponsmith"],format:"special",tip:e,align:"R"},type:{type:"makeSelect",values:["unset","desert","jungle","plains","savanna","snow","swamp","taiga"],format:"special",tip:"villager.type",align:"R"},level:{type:"makeSelect",values:["unset",1,2,3,4,5,99],format:"special",tip:"villager.level",align:"R"},Trades:{type:"villTrade",format:"special",tip:"villager.Trades",align:"R"},Memories:{type:"memories",format:"special",tip:"villager.memories",align:"R"},Gossips:{type:"gossips",format:"special",tip:"villager.gossips",align:"R"},NoTrades:{label:"Untradable",type:"cb",format:"special",tip:"villager.NoTrades",align:"R"}});case"area_effect_cloud":return new area_effect_cloud(t,e);case"armor_stand":return new armor_stand(t,e);case"trident":return new trident(t,e);case"arrow":case"spectral_arrow":return new arrow(t,e);case"polar_bear":return new BreedableMob(t,e,{AngerTime:{type:"ticks",tip:e,align:"R"},AngryAt:{type:"UUIDArray",align:"R",playerLookup:!0,tip:e}});case"slime":return new Mob(t,e,{Size:{type:"text",format:"int",tip:e,align:"R"},wasOnGround:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"magma_cube":return new Mob(t,e,{Size:{type:"text",format:"int",tip:"slime",align:"R"},wasOnGround:{type:"choice",values:unsetTrueFalse,format:"b",tip:"slime",align:"R"}});case"firework_rocket":return new firework_rocket(t,e);case"phantom":return new Mob(t,e,{AX:{type:"text",format:"int",align:"R"},AY:{type:"text",format:"int",align:"R"},AZ:{type:"text",format:"int",align:"R"},Size:{type:"text",format:"int",align:"R"}});case"enderman":return new enderman(t,e,{AngerTime:{type:"ticks",tip:e,align:"R"},AngryAt:{type:"UUIDArray",align:"R",playerLookup:!0,tip:e}});case"witch":case"pillager":return new pillager(t,e);case"illusioner":return new pillager(t,e,{Spellticks:{type:"ticks",tip:"evoker",align:"R"}});case"evoker":return new pillager(t,e,{SpellTicks:{type:"ticks",tip:e,align:"R"}});case"vindicator":return new pillager(t,e,{Johnny:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"ravager":return new pillager(t,e,{AttackTick:{type:"ticks",tip:e,align:"R"},RoarTick:{type:"ticks",tip:e,align:"R"},StunTick:{type:"ticks",tip:e,align:"R"}});case"endermite":return new Mob(t,e,{Lifetime:{type:"ticks",tip:e,align:"R"},PlayerSpawned:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"dragon_fireball":case"wither_skull":case"small_fireball":return new small_fireball(t,e);case"fireball":return new fireball(t,e);case"potion":return new potion(t,e);case"eye_of_ender":return new eye_of_ender(t,e);case"ender_pearl":case"snowball":case"experience_bottle":case"egg":return new ThrownThings(t,e);case"end_crystal":return new ender_crystal(t,e);case"ender_dragon":return new Mob(t,e,{DragonPhase:{type:"choice",values:[[-1,"unset"],[1,"strafing(preparing to shoot a fireball)"],[2,"flying to the portal to land"],[3,"landing on the portal"],[4,"taking off from the portal"],[5,"landed, performing breath attack"],[6,"landed, looking for a player for breath attack"],[7,"landed, roar before beginning breath attack"],[8,"charging player"],[9,"flying to portal to die"],[10,"hovering with no AI (Default)"]],format:"int",tip:e,align:"R"}});case"evoker_fangs":return new evoker_fangs(t,e);case"falling_block":return new falling_block(t,e);case"item":return new item(t,e);case"glow_item_frame":case"item_frame":return new item_frame(t,e);case"boat":return new Vehicle(t,e,{Type:{type:"makeSelect",values:["oak","spruce","birch","jungle","acacia","dark_oak"],format:"string",tip:e,align:"R"},Fire:{type:"ticks",tip:"entity"},HasVisualFire:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"}});case"ghast":return new Mob(t,e,{ExplosionPower:{type:"text",format:"int",tip:e,align:"R"}});case"minecart":return new minecart(t,e);case"tnt_minecart":return new minecart(t,e,{TNTFuse:{type:"ticks",tip:e,align:"R"}});case"chest_minecart":return new chest_minecart(t,e,27);case"hopper_minecart":return new hopper_minecart(t,e,5);case"furnace_minecart":return new minecart(t,e,{PushX:{type:"text",format:"d",tip:e,align:"R"},PushZ:{type:"text",format:"d",tip:e,align:"R"},Fuel:{type:"ticks",tip:e,align:"R"}});case"spawner_minecart":return new spawner_minecart(t,e);case"command_block_minecart":return new minecart(t,e,{Command:{type:"text",format:"string",tip:e,align:"R"},SuccessCount:{type:"text",format:"int",tip:e,align:"R"},LastOutput:{type:"text",format:"string",tip:e,align:"R"},TrackOutput:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"chicken":return new BreedableMob(t,e,{IsChickenJockey:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"},EggLayTime:{type:"ticks",tip:e,align:"R"}});case"creeper":return new Mob(t,e,{powered:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"},ExplosionRadius:{type:"text",format:"b",tip:e,align:"R"},Fuse:{type:"ticks",tip:e,align:"R"},ignited:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"mooshroom":return new BreedableMob(t,e,{Type:{type:"choice",values:[[-1,"unset"],["brown","Brown"],["red","Red"]],tip:e,format:"string",align:"R"},EffectId:{type:"choice",values:statusEffects,format:"b",align:"R",tip:e},EffectDuration:{type:"ticks",tip:e,align:"R"}});case"goat":return new BreedableMob(t,e,{IsScreamingGoat:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"cow":return new BreedableMob(t,e);case"hoglin":return new BreedableMob(t,e,{IsImmuneToZombification:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"},TimeInOverworld:{type:"ticks",tip:e,align:"R"},CannotBeHunted:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"lightning_bolt":return new lightning_bolt(t,e);case"fishing_bobber":return new fishing_bobber(t,e);case"horse":case"llama":case"trader_llama":case"donkey":case"mule":case"zombie_horse":case"skeleton_horse":return new HorseMob(t,e);case"marker":return new marker(t,e);case"leash_knot":return new SimpleEntity(t,e);case"llama_spit":return new llama_spit(t,e);case"turtle":return new BreedableMob(t,e,{HomePosX:{type:"text",format:"int",align:"R"},HomePosY:{type:"text",format:"int",align:"R"},HomePosZ:{type:"text",format:"int",align:"R"},TravelPosX:{type:"text",format:"int",align:"R"},TravelPosY:{type:"text",format:"int",align:"R"},TravelPosZ:{type:"text",format:"int",align:"R"},HasEgg:{type:"choice",values:unsetTrueFalse,format:"b",align:"R"}});case"fox":return new Fox(t,e);case"wolf":return new BreedableMob(t,e,{Owner:{type:"UUIDArray",format:"intArray",align:"R",tip:"mob.Owner",playerLookup:!0},Sitting:{type:"choice",values:unsetTrueFalse,format:"b",tip:"tameable",align:"R"},AngerTime:{type:"ticks",tip:e,align:"R"},CollarColor:{type:"makeSelectWithIndexes",hasUnset:!0,values:woolDyes,format:"b",tip:e,align:"R"}});case"parrot":return new Mob(t,e,{Owner:{type:"UUIDArray",format:"intArray",align:"R",tip:"mob.Owner",playerLookup:!0},Sitting:{type:"choice",values:unsetTrueFalse,format:"b",tip:"tameable",align:"R"},Variant:{type:"choice",values:[[-1,"unset"],[0,"Red"],[1,"Blue"],[2,"Green"],[3,"Cyan"],[4,"Silver"]],format:"int",tip:e,align:"R"}});case"ocelot":return new BreedableMob(t,e,{Owner:{type:"UUIDArray",format:"intArray",align:"R",tip:"mob.Owner",playerLookup:!0},Sitting:{type:"choice",values:unsetTrueFalse,format:"b",tip:"tameable",align:"R"}});case"cat":return new BreedableMob(t,e,{Owner:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:"mob.Owner"},Sitting:{type:"choice",values:unsetTrueFalse,format:"b",tip:"tameable",align:"R"},CatType:{type:"choice",values:[[0,"Tabby"],[1,"Tuxedo"],[2,"Red Tabby"],[3,"Siamese"],[4,"British Shorthair"],[5,"Calico"],[6,"Persian"],[7,"Ragdoll"],[8,"White"],[9,"Jellie"],[10,"Panther"]],format:"int",tip:e,align:"R"},CollarColor:{type:"makeSelectWithIndexes",hasUnset:!0,values:woolDyes,format:"b",align:"R",tip:e}});case"strider":case"pig":return new BreedableMob(t,e,{Saddle:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"panda":return new BreedableMob(t,e,{MainGene:{type:"makeSelect",values:["normal","aggressive","weak","lazy","worried","playful","brown"],format:"string",tip:e,align:"R"},HiddenGene:{type:"makeSelect",values:["normal","aggressive","weak","lazy","worried","playful","brown"],format:"string",tip:e,align:"R"}});case"painting":return new painting(t,e,{Facing:{type:"choice",values:[[-1,"unset"],["0","South"],["1","West"],["2","North"],["3","East"]],format:"b",tip:e,align:"R"},Motive:{type:"makeSelect",values:paintingMotives,format:"special",tip:e,align:"R"},Invulnerable:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"}});case"rabbit":return new BreedableMob(t,e,{RabbitType:{type:"choice",values:[[-1,"unset"],[0,"Brown"],[1,"White"],[2,"Black"],[3,"Black &amp; White"],[4,"Gold"],[5,"Salt &amp; Pepper"],[99,"Killer Bunny"]],format:"int",tip:e,align:"R"},MoreCarrotTicks:{type:"ticks",tip:e,align:"R"}});case"sheep":return new BreedableMob(t,e,{Sheared:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"},Color:{type:"makeSelectWithIndexes",values:woolDyes,format:"b",tip:e,hasUnset:!0,align:"R"}});case"shulker":return new Mob(t,e,{Peek:{type:"text",format:"b",tip:e,align:"R"},AttachFace:{type:"choice",values:[[0,"Above"],[1,"Below"],[2,"South"],[3,"North"],[4,"East"],[5,"West"]],format:"b",tip:e,align:"R"},Color:{type:"makeSelectWithIndexes",values:woolDyes.concat("Default"),format:"b",tip:e,hasUnset:!0,align:"R"},APX:{type:"text",format:"int",tip:"shulker.AP",align:"R"},APY:{type:"text",format:"int",tip:"shulker.AP",align:"R"},APZ:{type:"text",format:"int",tip:"shulker.AP",align:"R"}});case"shulker_bullet":return new shulker_bullet(t,e);case"snow_golem":return new Mob(t,e,{Pumpkin:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"tnt":return new SimpleEntity(t,e,{Fuse:{type:"ticks",tip:e,align:"R"}});case"vex":return new Mob(t,e,{BoundX:{type:"text",format:"int",tip:"vex.Bound",align:"R"},BoundY:{type:"text",format:"int",tip:"vex.Bound",align:"R"},BoundZ:{type:"text",format:"int",tip:"vex.Bound",align:"R"},LifeTicks:{type:"ticks",tip:e,align:"R"}});case"wandering_trader":case"villager":return new villager(t,e);case"iron_golem":return new Mob(t,e,{PlayerCreated:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"},AngerTime:{type:"ticks",tip:e,align:"R"},AngryAt:{type:"UUIDArray",align:"R",playerLookup:!0,tip:e}});case"wither":return new Mob(t,e,{Invul:{type:"ticks",tip:e,align:"R"}});case"experience_orb":return new SimpleEntity(t,e,{Age:{type:"ticks",tip:"xp_orb",align:"R"},Health:{type:"text",format:"b",tip:"xp_orb",align:"R"},Value:{type:"text",format:"short",tip:"xp_orb",align:"R"}});case"player":return new Player(t,e)}return null}function loadBlockClass(e){if(-1!=e.indexOf("shulker_box"))return new BlockWithSlots(e,{LootTable:{type:"text",fwClass:"bigTF",format:"string",tip:"chest.LootTable"}},27);switch(e){case"white_banner":case"orange_banner":case"magenta_banner":case"light_blue_banner":case"yellow_banner":case"lime_banner":case"pink_banner":case"gray_banner":case"light_gray_banner":case"cyan_banner":case"purple_banner":case"blue_banner":case"brown_banner":case"green_banner":case"red_banner":case"black_banner":case"white_wall_banner":case"orange_wall_banner":case"magenta_wall_banner":case"light_blue_wall_banner":case"yellow_wall_banner":case"lime_wall_banner":case"pink_wall_banner":case"gray_wall_banner":case"light_gray_wall_banner":case"cyan_wall_banner":case"purple_wall_banner":case"blue_wall_banner":case"brown_wall_banner":case"green_wall_banner":case"red_wall_banner":case"black_wall_banner":return new Banner(e,{BlockEntityTag:{type:"text",fwClass:"bigTF",format:"special",tip:"banner"},CustomName:{type:"customNameJSON",format:"special",tip:"banner.CustomName"}});case"enchanting_table":return new Block(e,{CustomName:{type:"customNameJSON",format:"special",tip:"block.CustomName"}});case"beacon":return new Beacon(e);case"bee_nest":case"beehive":return new BeeHiveNest(e);case"chest":case"barrel":case"trapped_chest":return new BlockWithSlots(e,{LootTable:{type:"text",fwClass:"bigTF",format:"string",tip:"chest.LootTable"}},27);case"brewing_stand":return new BlockWithSlots(e,{BrewTime:{type:"ticks",tip:e},Fuel:{type:"text",format:"b",tip:e}},5);case"dropper":case"dispenser":return new BlockWithSlots(e,{LootTable:{type:"text",fwClass:"bigTF",format:"string",tip:"chest.LootTable"}},9);case"blast_furnace":case"smoker":return new BlockWithSlots(e,{BurnTime:{type:"ticks",tip:e},CookTime:{type:"ticks",tip:e},CookTimeTotal:{type:"ticks",tip:e}},3);case"furnace":return new BlockWithSlots(e,{BurnTime:{type:"ticks",tip:e},CookTime:{type:"ticks",tip:e},CookTimeTotal:{type:"ticks",tip:e},RecipesUsed:{type:"RecipesUsed",tip:e}},3);case"soul_campfire":case"campfire":return new campfire(e,{},4);case"hopper":return new BlockWithSlots(e,{TransferCooldown:{type:"text",tip:e,format:"short"},LootTable:{type:"text",fwClass:"bigTF",format:"string",tip:"chest.LootTable"}},5);case"comparator":return new Block(e,{OutputSignal:{type:"text",tip:"comparator.OutputSignal",format:"int"}});case"command_block":case"repeating_command_block":case"chain_command_block":return new CommandBlock(e);case"end_gateway":return new EndGateway(e,{Age:{type:"text",tip:e,format:"long"},ExactTeleport:{type:"choice",values:unsetTrueFalse,tip:e,format:"b"},X:{type:"text",label:"Exit Portal X",tip:"end_gateway.ExitPortal",format:"int"},Y:{type:"text",format:"int"},Z:{type:"text",format:"int"}});case"jukebox":return new JukeBox(e,{Record:{type:"text",format:"int",tip:e},RecordItem:{type:"itemselect",forceConstruct:!0,tip:e}});case"lectern":return new Lectern(e,{Page:{type:"text",format:"int",tip:e},Book:{type:"itemselect",forceConstruct:settings.loadItemUI,tip:e}});case"spawner":return new MobSpawner(e);case"piston":return new Block(e,{blockID:{type:"text",format:"int",tip:e},blockData:{type:"text",format:"int",tip:e},facing:{type:"choice",values:dunswe,format:"int",tip:e},progress:{type:"text",format:"f",tip:e},extending:{type:"choice",values:unsetTrueFalse,format:"b",tip:e},source:{type:"choice",values:unsetTrueFalse,format:"b",tip:e}});case"conduit":return new Block(e,{Target:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:e}});case"jigsaw":return new Block(e,{name:{type:"text",format:"string",fwClass:"bigTF",value:"minecraft:empty",tip:e},pool:{type:"text",format:"string",fwClass:"bigTF",value:"minecraft:empty",tip:e},final_state:{type:"text",format:"string",fwClass:"bigTF",value:"minecraft:air",tip:e},target:{type:"text",format:"string",fwClass:"bigTF",value:"minecraft:empty",tip:e},joint:{type:"makeSelect",format:"string",values:["aligned","rollable"],fwClass:"bigTF",value:"minecraft:empty",tip:e}});case"oak_sign":case"spruce_sign":case"birch_sign":case"jungle_sign":case"acacia_sign":case"dark_oak_sign":case"crimson_sign":case"warped_sign":case"oak_wall_sign":case"spruce_wall_sign":case"birch_wall_sign":case"jungle_wall_sign":case"acacia_wall_sign":case"dark_oak_wall_sign":case"warped_wall_sign":case"crimson_wall_sign":return new Sign(e,{Color:{type:"makeSelect",values:signColors,format:"string",tip:"sign",hasUnset:!0,align:"R"},GlowingText:{type:"choice",values:unsetTrueFalse,format:"b",tip:"sign",align:"R"}});case"structure_block":return new Block(e,structureBlockNBT);default:return new Block(e,{})}}function buildListOfBlocksWithData(){for(var e in itemsAndBlocks){var t;"i"!=itemsAndBlocks[e].c&&(t=loadBlockClass(e),Object.keys(t.blockNBT).length)&&hasBlockData.push(e)}}function copyEntityNBT(e){clipboard[1]='{id:"minecraft:'+$("#entity"+e).val()+'"'+entityDescriptors["e"+e].getEntitySpecificCommand(e)+"}",copyToClipboard(clipboard[1]),$("#nbtType").val(1),$("#clipBoard-ta").val(clipboard[1])}function pasteEntityNBT(e){try{var t=new CMDParser(""),a=t.parseCompound(extractSegment("{","}",clipboard[1].indexOf("{"),clipboard[1])),o=extractMinecraftID(a.id.val);$("#entity"+e+"_filter").val(""),$("#entity"+e+"_filter").trigger("keyup"),$("#entity"+e).val(o),$("#entity"+e).trigger("change"),t.loadSummonCommand(a,e),generateCommand()}catch(e){alertify.alert("Error Can't load in this NBT:<br>"+clipboard[1]+"<br>"+e.toString())}}function copyItemNBT(e){clipboard[0]=getItemNBT(e),copyToClipboard(clipboard[0]),$("#nbtType").val(0),$("#clipBoard-ta").val(clipboard[0])}function copyTradeNBT(e){$("#closeItemUI_"+e+"buy").trigger("click"),$("#closeItemUI_"+e+"buyB").trigger("click"),$("#closeItemUI_"+e+"sell").trigger("click"),clipboard[2]=getTradeNBT(e),clipboard[2].length&&(clipboard[2]="{"+clipboard[2].substr(1)+"}"),copyToClipboard(clipboard[2]),$("#nbtType").val(2),$("#clipBoard-ta").val(clipboard[2])}function pasteTradeNBT(e){$("#closeItemUI_"+e+"buy").trigger("click"),$("#closeItemUI_"+e+"buyB").trigger("click"),$("#closeItemUI_"+e+"sell").trigger("click");try{var t=new CMDParser("");addTradeFromNBT(t.parseCompound(extractSegment("{","}",clipboard[2].indexOf("{"),clipboard[2])),e,t),generateCommand()}catch(e){alertify.alert("Error Can't load in this Trade:<br>"+clipboard[2]+"<br>"+e.toString())}}function moveTrade(e,t){var a=e.substr(0,e.indexOf("_"));let o=[];$("#"+a+" > .trade").each(function(e){o.push(this.id)});a=o.indexOf(e);(1==t&&a<o.length-1||-1==t&&0<a)&&(e=a+t,$("#closeItemUI_"+o[a]+"buy").trigger("click"),$("#closeItemUI_"+o[a]+"buyB").trigger("click"),$("#closeItemUI_"+o[a]+"sell").trigger("click"),$("#closeItemUI_"+o[e]+"buy").trigger("click"),$("#closeItemUI_"+o[e]+"buyB").trigger("click"),$("#closeItemUI_"+o[e]+"sell").trigger("click"),t=getTradeNBT(o[a]),aNBT=getTradeNBT(o[e]),bNBT=t,aNBT.length&&(aNBT="{"+aNBT.substr(1)+"}"),bNBT.length&&(bNBT="{"+bNBT.substr(1)+"}"),addTradeFromNBT((t=new CMDParser("")).parseCompound(extractSegment("{","}",aNBT.indexOf("{"),aNBT)),o[a],t),addTradeFromNBT(t.parseCompound(extractSegment("{","}",bNBT.indexOf("{"),bNBT)),o[e],t),generateCommand())}function pasteItemNBT(e){try{var t=new CMDParser(""),a=t.parseCompound(extractSegment("{","}",clipboard[0].indexOf("{"),clipboard[0])),o=extractMinecraftID(a.id.val);if($("#"+e+"_filter").val(""),updateItemSelectOptions("#"+e),!$("#"+e+" option[value='"+o+"']").length)throw new MCSException(o+" is not a valid item id");$("#"+e).val(o),$("#"+e).trigger("change"),loadItemNBTIntoSlot(a,o,e,t),generateCommand()}catch(e){alertify.alert("Error Can't load in this Item:<br>"+clipboard[0]+"<br>"+e.toString())}}function loadCBType(){$("#clipBoard-ta").val(clipboard[parseInt($("#nbtType").val())])}function copyToClipboard(e){navigator.clipboard.writeText(e).then(function(){},function(){})}function unsetItem(e){$("#"+e).val("-1"),$("#"+e).trigger("change")}function getHexColor(e){return("000000"+(e>>>0).toString(16)).slice(-6).toUpperCase()}function getRandomInt(e,t){return Math.floor(Math.random()*(t-e+1))+e}function objectKeyByValue(e,t){return Object.entries(e).find(e=>e[1]===t)}function loadVersions(){($("#intro").length?$("#intro"):$("#commandForm")).load("vers.html")}$(function(){loadItemsAndBlocks((settings=new Settings).lang),window.onresize=function(){$("#commandOutput").css({top:0,left:$(window).width()-510})},$("#clipBoard-ta").bind("paste",function(e){clipboard[$("#nbtType").val()]=(e.originalEvent||e).clipboardData.getData("text/plain")}),$(document).mousemove(function(e){mouse.x=e.pageX,mouse.y=e.pageY}),$(document).bind("keydown",function(e){e.ctrlKey&&(90==e.keyCode?(loadFromHistory(-1),e.preventDefault()):89==e.keyCode&&(loadFromHistory(1),e.preventDefault()))}),$("#clipBoard").draggable(),$("#clipBoard").hide(),$("#commandOutput").draggable(),$("#commandOutput").hide(),$("#commandInput").draggable(),$("#commandInput").hide(),$("#community").hide(),$("#toClipBoard").bind("click",function(){copyToClipboard($("#commandOutput-ta").val())}),$("#parseNBT").bind("click",function(){parseNBT(stripHTMLTags($("#commandInput-ta").val().trim()),CURRENT_VERSION)}),$("#closeImportBut").bind("click",function(){$("#commandInput").hide()}),$("#clearNBT").bind("click",function(){$("#commandInput-ta").val("")}),$("#closeclipBoardBut").bind("click",function(){clipboard[$("#nbtType").val()]=$("#clipBoard-ta").val(),$("#clipBoard").hide()}),$("#disableOutput").bind("change",function(){$("#disableOutput").is(":checked")?$("#commandOutput-ta").val("Command output is disabled to improve performance. Click refresh to get the command or uncheck 'Disable Output'"):generateCommand()}),localStorage.cmdHistory&&(cmdHistory=JSON.parse(localStorage.cmdHistory)),loadManagement()});const CURRENT_VERSION="1.17";var signedIn=!1,sortField="title",sortOrder="a",gRowIndex=0,userToken="",commandID=-1,mcfunctions=[],currentFunctionEdit=-1,ttNewPassword="The supplied password must be between 6 and 64 characters and can only contain numbers, letters, dashes, or underscores.",llPasswordReset="Password Reset",llEnterEmail="Enter the email that you supplied when you created your account. MCStacker will reset your password and email it to you.",monthNames=new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec");function mkTT(e){return' title="'+e+'"'}function getCookie(e){for(var t=e+"=",a=document.cookie.split(";"),o=0;o<a.length;o++){for(var n=a[o];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return""}function setCookie(e,t,a){var o,n="";a&&((o=new Date).setTime(o.getTime()+24*a*60*60*1e3),n="; expires="+o.toUTCString()),document.cookie=e+"="+(t||"")+n+"; path=/"}function loadManagement(){userToken=getCookie("userToken"),loadNavPane();var e=window.location.hash;"#"==e.charAt(0)&&$.isNumeric(e.substr(2))&&(showCommunity(),showDetails(e.substr(2),!0))}function hashpword(e){return tmp=MD5(e+"This is the client side salt. There is more robust seasoning at the server side")}function loadNavPane(){$("#navPane").html(makeNavButton("Search","showSearch()","Search and Browse commands saved by others")),$.post("mcstacker2.php",{op:"isSignedIn",userToken:userToken},function(e,t){var a="<a class='redX' href=\"javascript:hideSavedCommands()\">&#9747;</a>";"signedIn"==$(e).find("action").text()?($("#navPane").append(makeNavButton("My Commands","showAccount('title', 'a', 0)")+makeNavButton("Favorites","showMyLikes('title','a',0)")+makeNavButton("Discuss","showDiscussions('title','a',0)")+makeNavButton("Account Settings","showAccountSettings()")+makeNavButton("Sign Out","signOut()")+"<span class='fRight'>"+$(e).find("username").text()+a+"</span>"),signedIn=!0,$("#commandOutput").append("<span id='saveAsBut' class='greenPlus'>Edit As New Command</span>"),$("#saveAsBut").bind("click",function(){$("#community").show(),makeDetailsForm("",-1,$("#commandOutput-ta").val())})):($("#navPane").append(makeNavButton("Sign In","displayLogin('You are not currently signed in.')")+"<span class='fRight'>"+a+"</span>"),signedIn=!1)})}function hideSavedCommands(){$("#community").hide()}function showDiscussions(e,t,a){$("#manPane").html("<div id='searchResults'></div><div id='detailsPane'></div>"),gRowIndex=a,$.post("mcstacker2.php",{op:"searchCommands",searchWhat:"unread",commandTypeSearch:"Any",searchString:"",userToken:userToken,sortField:e,sortOrder:t,rowIndex:a},function(e,t){"searchResult"==$(e).find("action").text()?showSearchResult(e,a,"unread"):"searchFailed"==$(e).find("action").text()&&$("#searchResults").html($(e).find("message").text())})}function showMyLikes(e,t,a){$("#manPane").html("<div id='searchResults'></div><div id='detailsPane'></div>"),gRowIndex=a,$.post("mcstacker2.php",{op:"searchCommands",userToken:userToken,searchWhat:"likes",commandTypeSearch:"Any",searchString:"",sortField:e,sortOrder:t,rowIndex:a},function(e,t){"searchResult"==$(e).find("action").text()?showSearchResult(e,a,"likes"):"searchFailed"==$(e).find("action").text()&&$("#searchResults").html($(e).find("message").text())})}function showHome(){$("#manPane").load(ppAbout)}function showHelp(){$("#manPane").load(ppHelp)}function makeNavButton(e,t,a){return'<a href="javascript:'+t+"\" class='navButton' "+(ttip=null!=a?mkTT(a):"")+">"+e+"</a>"}function makeButton(e,t,a){return'<a href="javascript:'+t+"\" class='mButton' "+(ttip=null!=a?mkTT(a):"")+">"+e+"</a>"}function makePageButton(e,t,a){return'<a href="javascript:'+t+"\" class='"+a+"'>"+e+"</a>"}function makeButtonR(e,t,a){return'<a href="javascript:'+t+"\" class='mButton fRight' "+mkTT(a)+">"+e+"</a>"}function doSignIn(){hashedpword=hashpword($("#password").val()),$.post("mcstacker2.php",{op:"doSignIn",hashedpword:hashedpword,username:$("#username").val()},function(e,t){userToken=$(e).find("userToken").text(),message=$(e).find("message").text(),"showCommands"==$(e).find("action").text()?(showCommands(e,0),loadNavPane()):"signInFailed"==$(e).find("action").text()&&($("#message").html(message),alertify.error(message))})}function showSearch(){makeSearchForm(),doSearch("date_modified","d",0)}function makeSearchForm(){for(var e=["Any","bossbar","data","effect","execute","fill","give","item","kill","loot","particle","playsound","replaceitem","scoreboard","setblock","summon","team","teleport","tellraw","title"],t="",a=0;a<e.length;a++)t+="<option value='"+e[a]+"'>"+e[a]+"</option>";$("#manPane").html("<h2 class='command'>Search/Browse</h2><label labelfor='commandTypeSearch' class='search'>Command Type</label><select id='commandTypeSearch'>"+t+"</select><label labelfor='searchWhat' class='search'>Search By</label><select id='searchWhat'"+mkTT("Narrow down your search by choosing to search only some parts of the saved information.")+"><option value='0'>Title, Description or Creator</option><option value='1'>Title</option><option value='2'>Description</option><option value='4'>Creator</option><option value='3'>Tag</option><option value='6'>Comments</option></select><label labelfor='searchString' class='search'>Search Text</label><input type='text' id='searchString'"+mkTT("Search for text in saved commands. Leave blank to browse all commands. Advanced boolean search strings are accepted. A leading plus (+) sign indicates that this word must be present in every result returned. A leading minus (-) sign indicates that this word must not be present in any result returned. ( ) Parentheses are used to group words into sub expressions. A phrase that is enclosed in double quotes matches only results that contain this phrase literally.")+">"+makeButton("Search/Browse","onClick=doSearch('title', 'a', 0)","Search and browse commands created by other users.")+"<div id='searchResults'></div>")}function searchUsers(e){makeSearchForm(),$("#commandTypeSearch").val("Any"),$("#searchWhat").val(4),$("#searchString").val(e),doSearch("title","a",0)}function searchTag(e){showSearch(),$("#commandTypeSearch").val("Any"),$("#searchWhat").val(3),$("#searchString").val(e),doSearch("title","a",0)}function doSearch(e,t,a){sortOrder=t,sortField=e,$.post("mcstacker2.php",{op:"searchCommands",searchWhat:$("#searchWhat").val(),commandTypeSearch:$("#commandTypeSearch").val(),searchString:$("#searchString").val(),userToken:userToken,sortField:sortField,sortOrder:sortOrder,rowIndex:a},function(e,t){"searchResult"==$(e).find("action").text()?showSearchResult(e,a,"search"):"searchFailed"==$(e).find("action").text()&&$("#searchResults").html($(e).find("message").text())})}function showSearchResult(e,t,a){var o="",n=$(e).find("rowCount").text(),s="";if(10<n){func="likes"==a?"showMyLikes":"doSearch";for(let e=0;e<n&&e<400;e+=10)t==e?s+=makePageButton(e/10+1,func+"('"+sortField+"', '"+sortOrder+"', "+e+")","pageButtonSelected"):s+=makePageButton(e/10+1,func+"('"+sortField+"', '"+sortOrder+"', "+e+")","pageButton");0<s.length&&(s="<br>"+s+"<br><br>")}$("row",e).each(function(e){user=$(this).find("username").text(),cid=$(this).find("cid").text(),rowClass=e%2==0?"srRowLight":"srRowDark",o+="<tr class='"+rowClass+"'><td><a href=\"javascript:showDetails("+cid+')">'+$(this).find("title").text()+"</a></td><td>"+$(this).find("description").text()+"</td><td>"+$(this).find("commandType").text()+"</td><td><a href=\"javascript:searchUsers('"+user+"')\">"+user+"</a></td><td>"+convertTime($(this).find("modifiedTime").text())+"</td><td>"+$(this).find("rank").text()+"</td></tr>"}),0<o.length&&$("#searchResults").html(s+"<table class='searchResults'><tr><th width=200>"+makeSortCol("Name","title",a)+"</th><th width='700'>"+makeSortCol("Description","description",a)+"</th><th width=100>"+makeSortCol("Type","command_type_id",a)+"</th><th width=100>"+makeSortCol("Creator","username",a)+"</th><th width=150>"+makeSortCol("Date Modified","date_modified",a)+"</th><th width=150>"+makeSortCol("Likes","votes",a)+"</th></tr>"+o+"</table><div id='detailsPane'></div>")}function showCommands(e,t){var a="",o=$(e).find("rowCount").text(),n="";if(10<o){for(i=0;i<o&&i<400;i+=10)t==i?n+=makePageButton(i/10+1,"showAccount('"+sortField+"', '"+sortOrder+"', "+i+")","pageButtonSelected"):n+=makePageButton(i/10+1,"showAccount('"+sortField+"', '"+sortOrder+"', "+i+")","pageButton");0<n.length&&(n="<br>"+n+"<br><br>")}$("row",e).each(function(e){cid=$(this).find("cid").text(),rowClass=e%2==0?"srRowLight":"srRowDark",a+="<tr class='"+rowClass+"'><td><a href=\"javascript:showDetails("+cid+')">'+$(this).find("title").text()+"</a></td><td>"+$(this).find("description").text()+"</td><td>"+$(this).find("commandType").text()+"</td><td>"+tickORCross("public",$(this).find("public").text(),cid)+"</td><td>"+tickORCross("allow_comments",$(this).find("allow_comments").text(),cid)+"</td><td>"+$(this).find("mcVersion").text()+"</td><td>"+convertTime($(this).find("modifiedTime").text())+'</td><td><a href="javascript:saveDetailsForm('+cid+",0)\"><img src='edit.png'></a></td><td><a href=\"javascript:deleteCommand("+cid+")\"><img src='trash.png'></a></td></tr>"}),0<a.length?$("#manPane").html(makeSearchFormMyCommands()+n+"<table class='searchResults'><tr><th width=200>"+makeSortCol("Name","title","mine")+"</th><th width='700'>"+makeSortCol("Description","description","mine")+"</th><th width=100>"+makeSortCol("Type","command_type_id","mine")+"</th><th width=100>"+makeSortCol("Public","public","mine")+"</th><th width=200>"+makeSortCol("Allow Comments","allow_comments","mine")+"</th><th width=50> "+makeSortCol("Ver","mc_version","mine")+"</th><th width=150> "+makeSortCol("Modified","date_modified","mine")+"</th><th colspan=2 width=40></th></tr>"+a+"</table><div id='detailsPane'></div>"):$("#manPane").html("<p class='command'>No commands to show.</p>")}function makeSearchFormMyCommands(){return"<h2 class='command'>Search/Browse My Commands</h2><label labelfor='searchString' class='search'>Search Text</label><input type='text' id='searchString'"+mkTT("Search for text in your saved commands. Leave blank to browse all your commands. Advanced boolean search strings are accepted. A leading plus (+) sign indicates that this word must be present in every result returned. A leading minus (-) sign indicates that this word must not be present in any result returned. ( ) Parentheses are used to group words into sub expressions. A phrase that is enclosed in double quotes matches only results that contain this phrase literally.")+">"+makeButton("Search/Browse","onClick=doSearchMyCommands('title', 'a', 0)","Search and browse your commands")}function doSearchMyCommands(e,t,a){sortOrder=t,sortField=e;let o=$("#searchString").val();$.post("mcstacker2.php",{op:"searchMyCommands",searchString:$("#searchString").val(),userToken:userToken,sortField:sortField,sortOrder:sortOrder,rowIndex:a},function(e,t){"showCommands"==$(e).find("action").text()?(showCommands(e,a),$("#searchString").val(o)):"searchFailed"==$(e).find("action").text()&&$("#searchResults").html($(e).find("message").text())})}function tickORCross(e,t,a){return 1==t?"<input type='checkbox' id='"+e+a+"' CHECKED onClick='publicClicked("+a+")'>":"<input type='checkbox' id='"+e+a+"' onClick='publicClicked("+a+")'>"}function makeSortCol(e,t,a){return t==sortField?"<a href=\"javascript:sortByField('"+t+"', '"+a+"')\" class='sortHeader'>"+e+" "+("a"==sortOrder?"&uarr;":"&darr;")+"</a>":"<a href=\"javascript:sortByField('"+t+"', '"+a+"')\" class='sortHeader'>"+e+" &uarr;</a>"}function sortByField(e,t){e==sortField?sortOrder="a"==sortOrder?"d":"a":(sortOrder="a",sortField=e),"search"==t?doSearch(sortField,sortOrder,0):"mine"==t?showAccount(sortField,sortOrder,0):"likes"==t?showMyLikes(sortField,sortOrder,0):"unread"==t&&showDiscussions(sortField,sortOrder,0)}function changePassword(){$("#manPane").html("<h2>Change Password</h2><form action='' name='form' onSubmit='event.preventDefault();doPasswordChange()'><label labelfor='oldpassword' class='settingsLabel'>Current Password</label><input type='password' id='oldpassword'><br><label labelfor='newpassword' class='settingsLabel'>New Password</label><input type='password' id='newpassword'"+mkTT(ttNewPassword)+"><br><label labelfor='newpasswordconfirm' class='settingsLabel'>Confirm Password</label><input type='password' id='newpasswordconfirm'"+mkTT(ttNewPassword)+"><input type='submit' value='Change Password'></form><div id='message'></div>")}function doPasswordChange(){/^[A-Za-z0-9_-]{6,64}$/.test($("#newpassword").val())?$("#newpasswordconfirm").val()!=$("#newpassword").val()?$("#message").html("Your passwords do not match."):(hashednewpword=hashpword($("#newpassword").val()),hashedoldpword=hashpword($("#oldpassword").val()),$.post("mcstacker2.php",{op:"changePassword",userToken:userToken,hashednewpword:hashednewpword,hashedoldpword:hashedoldpword},function(e,t){"showAccount"==$(e).find("action").text()?(alertify.log($(e).find("message").text()),showAccountDetails(e)):"changePasswordFailed"==$(e).find("action").text()&&$("#message").html($(e).find("message").text())})):$("#message").html(ttNewPassword)}function updateEmail(){$("#manPane").html("<h2>Update Email</h2><form action='' name='form' onSubmit='event.preventDefault();doEmailChange()'><label labelfor='oldpassword' class='settingsLabel' class='settings'>New Email Address</label><input type='text' id='email'"+mkTT("Enter a valid email address.")+"><input type='submit' value='Update Email'><div id='message'></div>")}function doEmailChange(){$.post("mcstacker2.php",{op:"changeEmail",userToken:userToken,email:$("#email").val()},function(e,t){"showAccount"==$(e).find("action").text()?(alertify.log($(e).find("message").text()),showAccountDetails(e)):"changeEmailFailed"==$(e).find("action").text()&&$("#message").html($(e).find("message").text())})}function showAccountDetails(e){$("#manPane").html("<br>"+makeButton("Sign Out","signOut()","Sign Out")+makeButton("Change Password","changePassword()","Change your password")+makeButton("Update Email Address","updateEmail()","Change your email address")+"<a href='delete_account.php' class='mButton' title='Permanantly remove your account and content'>Remove Account</a><br><br>"),$("#message").html($(e).find("message").text())}function showAccount(e,t,a){gRowIndex=a;let o=""!=$("#searchString").val()?$("#searchString").val():"";$.post("mcstacker2.php",{op:"searchMyCommands",userToken:userToken,sortField:e,sortOrder:t,rowIndex:a,searchString:o},function(e,t){message=$(e).find("message").text(),"showLogin"==$(e).find("action").text()?displayLogin(message):"showCommands"==$(e).find("action").text()&&(showCommands(e,a),o)&&$("#searchString").val(o)})}function showAccountSettings(){$.post("mcstacker2.php",{op:"showAccount",userToken:userToken},function(e,t){message=$(e).find("message").text(),"showLogin"==$(e).find("action").text()?displayLogin(message):"showAccount"==$(e).find("action").text()&&showAccountDetails(e)})}function signOut(){$("#saveAsBut").remove(),$.post("mcstacker2.php",{op:"signOut",userToken:userToken},function(e,t){loadNavPane(),displayLogin($(e).find("message").text())})}function displayLogin(e){$("#manPane").html("<h2>Sign In</h2><p class='settings'>"+e+"</p><form action='' name='form' onSubmit='event.preventDefault();doSignIn()'><label labelfor='username' class='settingsLabel'>Username/Email</label><input type='text' id='username'><br><label labelfor='password' class='settingsLabel'>Password</label><input type='password' id='password'><input type='submit' value='Sign In'></form><p class='settings'>"+makeButton("Register","displayRegistration()")+makeButton("Password Reset","forgotPassword()")+"</p><div id='message'></div>")}function displayRegistration(){$("#manPane").html("<span><h2>Register</h2><form action='' name='form' onSubmit='event.preventDefault();doRegistration()'><label labelfor='username' class='settingsLabel'>Username</label><input type='text' id='username'"+mkTT("The supplied user name must be between 3 and 16 characters and can only contain numbers, letters, dashes, underscores or @")+"><br><label labelfor='password' class='settingsLabel'>Password</label><input type='password' id='password'"+mkTT(ttNewPassword)+"><br><label labelfor='passwordconfirm' class='settingsLabel'>Password</label><input type='password' id='passwordconfirm'"+mkTT(ttNewPassword)+"><br><label labelfor='email' class='settingsLabel'>Email</label><input type='text' id='email'"+mkTT("Enter a valid email address.")+"><input type='submit' value='Register a new account'></form><div id='message'></div></span><span id='terms'></span>"),$("#terms").load("termsandprivacy.html")}function forgotPassword(){$("#manPane").html("<h2>"+llPasswordReset+"</h2><form action='' name='form' onSubmit='event.preventDefault();doPasswordReset()'><p class='command'>"+llEnterEmail+"</p><label labelfor='email' class='settingsLabel'>Email</label><input type='text' id='email'"+mkTT(llEnterEmail)+"><input type='submit' value='"+llPasswordReset+"'></form><div id='message'></div>")}function doPasswordReset(){$.post("mcstacker2.php",{op:"passwordReset",email:$("#email").val()},function(e,t){"passwordResetInvalidEmail"==$(e).find("action").text()?($("#message").html($(e).find("message").text()),alertify.error($(e).find("message").text())):"showLogin"==$(e).find("action").text()&&(displayLogin($(e).find("message").text()),alertify.log($(e).find("message").text()))})}function doRegistration(){$("#passwordconfirm").val()!=$("#password").val()?$("#message").html("Your passwords do not match."):/^[A-Za-z0-9_-]{6,64}$/.test($("#password").val())?(hashedpword=hashpword($("#password").val()),$.post("mcstacker2.php",{op:"doRegistration",hashedpword:hashedpword,username:$("#username").val(),email:$("#email").val()},function(e,t){"regSuccess"==$(e).find("action").text()?(displayLogin($(e).find("message").text()),alertify.log($(e).find("message").text())):"regFailed"==$(e).find("action").text()&&$("#message").html($(e).find("message").text())})):$("#message").html(ttNewPassword)}function makeTextArea(e,t,a,o){return"<textarea rows=10 cols=95 id='"+e+"' onkeyup=\"updateCharsLeft('"+e+"', "+a+')"'+mkTT(o)+">"+t+"</textarea><br><label class='details'></label>Markdown: [link]URL[title]URL Title[/title][/link], [b]<b>Bold</b>[/b], [i]<i>Italic</i>[/i], [u]<u>Underlined</u>[/u] <span id='"+e+"_charsLeft' class='charsLeft'>"+(a-t.length)+" Characters remaining.</span> "}function updateCharsLeft(e,t){(left=t-$("#"+e).val().length)<0?($("#"+e).val($("#"+e).val().substr(0,t)),$("#"+e+"_charsLeft").html("0 Characters remaining.")):$("#"+e+"_charsLeft").html(left+" Characters remaining.")}function copySaveCommandToClipboard(){copyToClipboard($("#commandString").val())}function makeDetailsForm(e,t,a){null==a&&(a=$(e).find("commandString").text()),$("#manPane").html("<div id='detailsPane'></div>"),$("#detailsPane").html("<span class='detsLine'><label labelfor='commandTitle' class='details'>Title</label><input type='text' id='commandTitle' class='inputVeryBig' value=\""+replaceAll('"',"'",$(e).find("commandTitle").text())+"\" onkeyup=\"updateCharsLeft('commandTitle', 64)\"> <span id='commandTitle_charsLeft'>"+(64-$(e).find("commandTitle").text().length)+" Characters remaining.</span></span><br><span class='detsLine'><label labelfor='commandDescription' class='details'>Description</label>"+makeTextArea("commandDescription",$(e).find("commandDescription").text(),5e3,"Describe what the command does and any other important information about it")+"</span><br><span class='detsLine'><label labelfor='commandString' class='details'>Command</label><textarea rows=10 cols=95 id='commandString' "+mkTT("The command string.")+">"+a+"</textarea></span><br><span class='detsLine'><label labelfor='commandString' class='details'></label>"+makeButton("Load into MCStacker form","loadSavedCommand("+$(e).find("mc_version").text()+")","Load this command into the MCStacker form")+"</span><br><span class='detsLine'><label labelfor='commandString' class='details'>mcfunction Files</label><span id='mcfunctions'><input type='file' id='files' name='files[]'  accept='.mcfunction,.txt' multiple /></span><span id='mcfunctionEdit'><textarea rows=10 cols=80 id='functionEditor' "+mkTT("Edit the mcfunctionfile")+"></textarea><br>File Name<input type=text' id='functionFileName'>"+makeButton("OK","saveMCFuncEdit()","Saves the edit to the mcfunction file. But you'll also need to save the entire command.")+makeButton("Cancel","closeMCFuncEdit()","Close this editor without saving the changes")+"</span><br><span class='detsLine'><label labelfor='public' class='details'>Public</label><input type='checkbox' id='public' onClick=\"publicClicked('')\""+mkTT("Unchecking this will make your command private. Only you will be able to see it.")+"></span><br><span class='detsLine'><label labelfor='allow_comments' class='details'>Allow Comments</label><input type='checkbox' id='allow_comments' onClick=\"publicClicked('')\""+mkTT("Unchecking this will prevent others from commenting on the command. Existing comments will still be displayed")+"></span><br><span class='detsLine'><label labelfor='tagEntry' class='details'>Tags</label><input type='text' onkeyup='processTagAdd()' id='tagEntry'"+mkTT("Tags are used for searching. Enter up to 10 words to describe this command. Separate tag words with commas(,)")+"> <span id='tagWords'></span></span>"),$("#mcfunctionEdit").hide(),$("func",e).each(function(e){addNewMCFunctionLine($(this).find("filename").text(),$(this).find("content").text())}),$("#public").prop("checked","1"==$(e).find("public").text()),$("#allow_comments").prop("checked","1"==$(e).find("allow_comments").text()),$("word",e).each(function(e){$("#tagEntry").val($(this).text()+","),processTagAdd()}),$("#detailsPane").append("<br><br>"+makeButton("Save","saveCommand("+t+")")+makeButton("Cancel","showDetails("+commandID+")","Cancel this edit.")+"<br><br>"),document.getElementById("files").addEventListener("change",handleFileSelect,!1)}function addNewMCFunctionLine(e,t){for(var a=0;$("#mcfunc"+a).length;)a++;mcfunctions["f"+a]={name:e,content:t},$("#mcfunctions").append("<br><span id='mcfunc"+a+"' class='mcfunc'><span id='fileName"+a+"'>"+e+"</span>"+makeButton("Edit","editMCFunction("+a+")","This mcfunction file")+"<a class='redX' href=\"javascript:removeMCFuntion("+a+')">&#9747;</a></span>')}function mcfunctionsXML(){var e,t="<mcfuntions>";for(e in mcfunctions)t+="<func><filename>"+mcfunctions[e].name.htmlEscape()+"</filename><content>"+mcfunctions[e].content.htmlEscape()+"</content></func>";return t+="</mcfuntions>"}function handleFileSelect(e){for(var t=e.target.files,a=0;a<t.length;a++){f=t[a];var o=new FileReader;o.onload=function(t){return function(e){addNewMCFunctionLine(escape(t.name),e.target.result)}}(f),o.readAsBinaryString(f)}}function removeMCFuntion(e){delete mcfunctions["f"+e],$("#mcfunc"+e).remove()}function editMCFunction(e){currentFunctionEdit=e,$("#functionEditor").val(mcfunctions["f"+e].content),$("#functionFileName").val(mcfunctions["f"+e].name),$("#mcfunctionEdit").show()}function saveMCFuncEdit(){mcfunctions["f"+currentFunctionEdit].content=$("#functionEditor").val(),mcfunctions["f"+currentFunctionEdit].name=$("#functionFileName").val(),$("#fileName"+currentFunctionEdit).html(mcfunctions["f"+currentFunctionEdit].name),$("#mcfunctionEdit").hide()}function closeMCFuncEdit(){$("#mcfunctionEdit").hide()}function readURL(e){}function publicClicked(e){public_=$("#public"+e).is(":checked")?($("#allow_comments"+e).prop("disabled",!1),1):($("#allow_comments"+e).prop("disabled",!0),$("#allow_comments"+e).prop("checked",!1),0),ac_=$("#allow_comments"+e).is(":checked")?1:0,""!=e&&$.post("mcstacker2.php",{op:"changePrivacy",userToken:userToken,commandID:e,public_:public_,allow_comments:ac_},function(e,t){})}function processTagAdd(){if(counter=0,","==(str=$("#tagEntry").val()).substr(str.length-1)){if(0<(word=str.substr(0,str.length-1).trim()).length){for(id=0;$("#tw"+id).length;)id++,counter++;if(!(counter<10))return void $("#tagEntry").val("Tag Limit Exceeded");$("#tagWords").append("<span id='tw"+id+"' class='tagWord'>"+makeButton(word,"delTagWord("+id+")","Remove this tag.")+"</span>")}$("#tagEntry").val("")}}function makeTagsCSV(){var e="";return $("#tagWords > .tagWord").each(function(){tmp=(tmp=(tmp=$("#"+this.id).html()).substr(tmp.lastIndexOf('">')+2)).substr(0,tmp.lastIndexOf("<")),e+=tmp+","}),e}function delTagWord(e){$("#tw"+e).remove()}function saveCommand(e){public_=$("#public").is(":checked")?"1":"0",allow_comments=$("#allow_comments").is(":checked")?"1":"0",0<$("#commandTitle").val().length&&0<$("#commandDescription").val().length&&0<$("#commandString").val().length?$.post("mcstacker2.php",{op:"saveCommand",userToken:userToken,commandID:e,commandTitle:$("#commandTitle").val(),commandDescription:$("#commandDescription").val(),commandString:$("#commandString").val(),public_:public_,allow_comments:allow_comments,mcfunctions:mcfunctionsXML(),mc_version:CURRENT_VERSION,tags:makeTagsCSV()},function(e,t){"saveCommandSuccess"==$(e).find("action").text()&&showDetails(commandID=$(e).find("cid").text())}):alertify.alert("Please make sure the Command title, description and the command itself are filled out.")}function editAsNewCommand(e){saveDetailsForm(e,2)}function previewMCFunction(e){$("#detailsPane").append("<div id='mcfunctionPreview' class='ui-widget-content' onMouseOver='this.style.cursor=\"pointer\"'>"+mcfunctions["f"+e].name+"<a href=\"javascript:closeMCFunctionPreview()\" class='redX fRight'>X</a><br><textarea id='mcfunctionPreview-ta'>"+mcfunctions["f"+e].content+"</textarea></div>"),$("#mcfunctionPreview").draggable(),$("#mcfunctionPreview").css({top:mouse.y-500,left:mouse.x}),$("#mcfunctionPreview").show()}function closeMCFunctionPreview(){$("#mcfunctionPreview").remove()}function downloadMCFunction(e){var t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(mcfunctions["f"+e].content)),t.setAttribute("download",mcfunctions["f"+e].name),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}function showDetails(a,e){var o=!(null!=e&&!e);-1!=(commandID=a)?(commandID=a,$.post("mcstacker2.php",{op:"getCommandDetails",userToken:userToken,commandID:a},function(e,t){"getCommandDetailsSuccess"==$(e).find("action").text()&&(signedIn?$(e).find("UID").text()==$(e).find("ownerUID").text()?showDetailsReadOnly("detailsPane",e,a,!0,!0,o):showDetailsReadOnly("detailsPane",e,a,!0,!1,o):showDetailsReadOnly("detailsPane",e,a,!1,!1,o))})):makeDetailsForm(commandID,!0)}function showDetailsReadOnly(e,t,a,o,n,s){document.title="MCStacker: "+$(t).find("commandTitle").text(),s&&window.history.pushState({id:a},"MCStacker: "+$(t).find("commandTitle").text(),"#!"+a),mcfunctions=[],$("#"+e).html("<h2 class='command'>"+$(t).find("commandTitle").text()+"</h2><span class='fRight''><img width=18 id='like"+a+"'><span id='heartCount'></span></span><p class='command'>"+markUp($(t).find("commandDescription").text())+"</p><textarea rows=10 cols=95 id='commandString' "+mkTT("The command string.")+">"+$(t).find("commandString").text()+"</textarea><br>"+makeButton("Load into MCStacker form","loadSavedCommand("+$(t).find("mc_version").text()+")","Load this command into the MCStacker form")+makeButton("Copy to Clipboard","copySaveCommandToClipboard()","Copies this saved command to the system clipboard")),o&&$("#"+e).append(makeButton("Edit As New Command","editAsNewCommand("+a+")","Copy this command's details as a new command."));var s=$(t).find("mc_version").text(),i=(s!=CURRENT_VERSION&&$("#"+e).append("<br><div id='warning' class='roundedDiv'>This command was created with the "+s+" version of MCStacker. It may not load in properly. Maybe try an alternative <a target=_blank href='https://mcstacker.net/versions.php'>version</a> of MCStacker.</div>"),""),s=($("func",t).each(function(e){var t=$(this).find("filename").text(),a=$(this).find("content").text();mcfunctions["f"+e]={name:t,content:a},i+="<br><span style='display:inline-block;vertical-align:text-top;height:30px;'><a href='javascript:downloadMCFunction("+e+")' title='Download "+t+"'><img src='download.png'></a></span> <span><a href='javascript:previewMCFunction("+e+")' title='Inspect "+t+"''>"+t+"</a></span>"}),0<i.length&&$("#"+e).append("<p class='command'><b>mcfunction files</b>"+i+"</p>"),$(t).find("UID").text()!=$(t).find("ownerUID").text()&&$("#"+e).append("<p class='command'>Created By <a href=\"javascript:searchUsers('"+$(t).find("ownerName").text()+"')\">"+$(t).find("ownerName").text()+"</a></p>"),tagHTML="","1"==$(t).find("admin").text()&&(n=!0),ce=n?1:0,$("word",t).each(function(e){tagHTML+=makeButton($(this).text(),"searchTag('"+$(this).text()+"')","Search commands with this tag.")}),0<tagHTML.length&&$("#"+e).append("<p class='command'>Tags: "+tagHTML+"</p>"),$("#"+e).append("<p class='command'>"+makeShareLink(a)+"</p>"),"");1==$(t).find("commentCount").text()?s+="1 <a href='javascript:getComments("+a+","+enableCommentOptions(o,$(t).find("allow_comments").text(),n)+","+ce+")'> Comment</a>":1<$(t).find("commentCount").text()&&(0<s.length&&(s+=", "),s+=$(t).find("commentCount").text()+" <a href='javascript:getComments("+a+","+enableCommentOptions(o,$(t).find("allow_comments").text(),n)+","+ce+")'>Comments</a>"),0<s.length&&$("#"+e).append("<p class='command'>"+s+"</p>"),1==$(t).find("youLoved").text()?$("#like"+a).attr("src","heartTick.png"):$("#like"+a).attr("src","heartOn.png"),0<$(t).find("hearts").text()&&$("#heartCount").html($(t).find("hearts").text()),o&&(s="Like this command to save it to your 'Likes' list. Unlike it remove it from your 'Likes' list.",0==$(t).find("youLike").text()?$("#"+e).append(makeButton("Add To Favorites","likeCommand("+a+",1,"+ce+")",s)):$("#"+e).append(makeButton("Remove From Favorites","likeCommand("+a+",0,"+ce+")",s)),$("#like"+a).bind("click",function(){"heartTick.png"==$("#like"+a).attr("src")?(rankCommand(a,0),$("#like"+a).attr("src","heartOn.png")):(rankCommand(a,1),$("#like"+a).attr("src","heartTick.png"))})),n&&$("#"+e).append(makeButton("Edit","saveDetailsForm("+a+",1)","Edit details and settings for this command.")+makeButton("Delete","deleteCommand("+a+")","Delete this command and all the related information associated with it. This can't be undone.")),(1==$(t).find("allow_comments").text()||0<$(t).find("commentCount").text()||n)&&($("#"+e).append(makeButton("Comments","getComments("+a+","+enableCommentOptions(o,$(t).find("allow_comments").text(),n)+","+ce+")","Read and write comments about this command.")+"<div id='comments'></div><div id='commentControls'></div>"),$("#comments").hide(""))}function enableCommentOptions(e,t,a){return a||e&&1==t?1:0}function getComments(a,o,n){$.post("mcstacker2.php",{op:"getComments",userToken:userToken,commandID:a},function(e,t){$("#comments").html(""),$("#comments").show(""),$("comment",e).each(function(e){commentID=$(this).find("commentID").text(),name="<a href=\"javascript:searchUsers('"+$(this).find("username").text()+"')\">"+$(this).find("username").text()+"</a>",commentText=markUp($(this).find("commentText").text()),time=convertTime($(this).find("time").text()),admin="1"==$(this).find("canDelete").text()?'<br><a href="javascript:deleteComment('+a+","+commentID+')"'+mkTT("Delete this comment.")+"><img src='trash.png'></a>":"",$("#comments").append("<div id='comment"+commentID+"' class='commentLine'><span class='commentDetails'>"+name+"<br>"+time+admin+"</span><span class='commentText'>"+commentText+"</span></div>")}),$("#commentControls").html(makeButton("Hide Comments","hideComments()","Hide the comments.")),1==o&&$("#commentControls").append(makeButton("Post Comment","makeCommentBox("+a+")","Post a comment about this command.")),1==n&&$("#commentControls").append(makeButton("Delete all comments","deleteAllComments("+a+")","Delete all comments associated with this command. This can't be undone.")),$("#commentControls").show()})}function deleteComment(t,a){alertify.confirm("Are you sure you want to delete this comment? This action can not be undone.",function(e){e&&$.post("mcstacker2.php",{op:"deleteComment",userToken:userToken,commandID:t,commentID:a},function(e,t){$("#comment"+a).remove(),alertify.log("Comment Removed")})})}function deleteAllComments(t){alertify.confirm("Are you sure you want to delete all comments associated with this command? This action can not be undone.",function(e){e&&$.post("mcstacker2.php",{op:"deleteAllComments",userToken:userToken,commandID:t},function(e,t){$("#comments").hide(),$("#comments").html(""),alertify.log("Comments Removed")})})}function makeCommentBox(e){$("#commentPane").remove(),$("#commentControls").append("<div id='commentPane'></div>"),$("#commentControls").show(),$("#commentPane").append("<br><label class='details'>Your Comment:</label>"+makeTextArea("newComment","",2500,"Write a comment for this command.")+"<br><label class='details'></label>"+makeButton("Post","postComment("+e+")","Write a comment for this command."))}function hideComments(){$("#comments").hide(),$("#commentControls").hide()}function postComment(s){$.post("mcstacker2.php",{op:"postComment",userToken:userToken,commandID:s,commentText:$("#newComment").val()},function(e,t){$("comment",e).each(function(e){var t=$(this).find("commentID").text(),a="<a href=\"javascript:searchUsers('"+$(this).find("username").text()+"')\">"+$(this).find("username").text()+"</a>",o=markUp($(this).find("commentText").text()),n=convertTime($(this).find("time").text());$("#comments").append("<div id='comment"+t+"' class='commentLine'><span class='commentDetails'>"+a+"<br>"+n+'<br><a href="javascript:deleteComment('+s+","+t+')"'+mkTT("Delete this comment.")+"><img src='trash.png'></a></span><span class='commentText'>"+o+"</span></div>"),$("#commentPane").remove(),$("#comments").show(),$("#comments").animate({scrollTop:$("#comments")[0].scrollHeight-$("#comments").height()},1e3,function(){})})})}function convertTime(e){var e=parse_date(e),t=new Date,a=-1*t.getTimezoneOffset(),e=new Date(e.getTime()+60*a*1e3),a=e.getDate(),o=e.getMonth(),n=e.getFullYear(),i=e.getHours(),r=e.getMinutes();return 31536e6<t-e?monthNames[o]+" "+n:864e5<t-e?monthNames[o]+" "+a:(i<12?(s="am",0==i&&(i=12)):(12<i&&(i-=12),s="pm"),i+":"+(r=r<10?"0"+r:r)+" "+s)}function parse_date(e){var t=new Date,e=String(e).split(/[- :]/);return t.setFullYear(e[0]),t.setMonth(e[1]-1),t.setDate(e[2]),t.setHours(e[3]),t.setMinutes(e[4]),t.setSeconds(e[5]),t.setMilliseconds(0),t}function makeShareLink(e,t){t=t||"";return"URL:<a href='"+(url=-1!=document.URL.indexOf("#")?(baseURL=document.URL.substr(0,document.URL.indexOf("#")))+t+"#!"+e:document.URL+t+"#!"+e)+"'>"+url+"</a>"}function likeCommand(a,e,o){$.post("mcstacker2.php",{op:"like",userToken:userToken,commandID:a,like:e},function(e,t){"getCommandDetailsSuccess"==$(e).find("action").text()&&showDetailsReadOnly("detailsPane",e,a,!0,1==o,!1)})}function rankCommand(e,t){$.post("mcstacker2.php",{op:"vote",userToken:userToken,commandID:e,vote:t},function(e,t){$("#heartCount").html($(e).find("votes").text())})}function searchDerivatives(e){showSearch(),$("#commandTypeSearch").val("Any"),$("#searchWhat").val(5),$("#searchString").val(e),doSearch("title","a",0)}function deleteCommand(t){alertify.confirm("You are about to permanently delete this command and it's associated content. Click OK to permanently delete this command.",function(e){e&&$.post("mcstacker2.php",{op:"deleteCommand",userToken:userToken,commandID:t,sortField:sortField,sortOrder:sortOrder,rowIndex:gRowIndex},function(e,t){showCommands(e,gRowIndex)})})}function replaceAll(e,t,a){return a.replace(new RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),t)}function markUp(e){return e=replaceAll("[u]","<u>",e),e=replaceAll("[b]","<b>",e),e=replaceAll("[i]","<i>",e),e=replaceAll("[/u]","</u>",e),e=replaceAll("[/b]","</b>",e),e=replaceAll("[/i]","</i>",e),e=replaceAll("[link]","<a target='_blank' href='",e),e=replaceAll("[/link]","</a>",e),e=replaceAll("[title]","'>",e),e=replaceAll("[/title]","",e),e=replaceAll("\n","<br>",e)}function saveDetailsForm(o,n){-1!=(commandID=o)?$.post("mcstacker2.php",{op:"getCommandDetails",userToken:userToken,commandID:o},function(e,t){var a;1==n?(a=$("#commandString").val(),makeDetailsForm(e,o),$("#commandString").val(a)):2==n?makeDetailsForm(e,-1,$("#commandString").val()):makeDetailsForm(e,o)}):signedIn?makeDetailsForm("",-1,$("#commandOutput-ta").val()):(displayLogin(eeSignInRequired),alertify.error(eeSignInRequired))}function makeLootTableGenerator(e){$("#"+e).html("<div id='lootTableContainer' class='roundedDiv'></div>"),createComponent("lootTableContainer","ltType",{label:"Loot Table Type",type:"makeSelect",values:["unset","empty","entity","block","chest","fishing","advancement_reward","generic"],cssClass:"fLabel100",tip:"lt.type"},0),createComponent("lootTableContainer","ltUseSetNBT",{label:"NBT Mode",type:"makeSelect",values:["use other functions","use set_nbt only"],cssClass:"fLabel100",tip:"lt.nbtMode"},0),$("#lootTableContainer").append("<br><span id='addPool' class='showHide'>Add Pool</span><div id='lootTablePane'></div>"),$("#hideLootTable").bind("click",function(){$("#lootTableContainer").hide()}),$("#addPool").bind("click",function(){addPool()})}function generateLootTable(){let r={};"unset"!=$("#ltType0").val()&&(r.type=$("#ltType0").val()),r.pools=[];var l={};return $("#lootTablePane > .pool").each(function(e){r.pools.push({});let s=r.pools.length-1;var a=this.id,o=["rolls","bonus_rolls"];for(let t=0;t<o.length;t++)if($("#"+a+o[t]+"0").val().length){let e=$("#"+a+o[t]+"0").val();-1!=e.indexOf("-")?(e=e.split("-"),r.pools[s][o[t]]={min:parseInt(e[0]),max:parseInt(e[1])}):r.pools[s][o[t]]=parseInt(e)}else"rolls"==o[t]&&(r.pools[s][o[t]]=1);r.pools[s].entries=[];let i=0;$("#entryPane"+a+" > .entry").each(function(e){var a=this.id,t=parseInt($("#"+a+"Weight0").val())||1,t=(r.pools[s].entries.push({type:"item",weight:t}),l[a]=t,i+=t,r.pools[s].entries.length-1),o=($("#"+a+"Quality0").val().length&&(r.pools[s].entries[t].quality=parseInt($("#"+a+"Quality0").val())),[]);if($("#"+a+"Item0").length)if("-1"!=$("#"+a+"Item0").val()){r.pools[s].entries[t].name="minecraft:"+$("#"+a+"Item0").val(),o.push({function:"set_count",count:lootTableRange(a+"Item0Count")});try{let e,t=(e="use other functions"==$("#ltUseSetNBT0").val()?getNBTForLootTableItem(a+"Item0"):"{"+(e=getItemTagNBT(a+"Item0",!1)).substr(1)+"}","");0<$("#"+a+"Item0Count").val().length&&(t=",Count:"+$("#"+a+"Item0Count").val()),t+=getItemTagNBT(a+"Item0",!0),cachedNBT.setNBT(a+"Item0",t),2<e.length&&o.push({function:"set_nbt",tag:e})}catch(e){}"use other functions"==$("#ltUseSetNBT0").val()&&(0!=$("#"+a+"Item0Damage").length&&$("#"+a+"Item0Damage").val().length&&o.push({function:"set_damage",damage:lootTableRangeFloat(a+"Item0Damage","-")}),(0<(n=tellrawJson.getJsonForLootTableItemName(a+"Item0ItemName")).length||null!=n.text)&&o.push({function:"set_name",name:n}),0<(n=tellrawJson.getJsonLoreForLootTables(a+"Item0Lore")).length)&&o.push({function:"set_lore",lore:n});var n=getItemAttributeModifiersForLootTable(a);n.length&&o.push({function:"set_attributes",modifiers:n})}else r.pools[s].entries[t].type="empty";else $("#"+a+"LootTable0").length?(r.pools[s].entries[t].type="loot_table",r.pools[s].entries[t].name=$("#"+a+"LootTable0").val(),o.push({function:"set_count",count:lootTableRange(a+"Count0")})):r.pools[s].entries[t].type="empty";o.length&&(r.pools[s].entries[t].functions=o)}),$("#entryPane"+a+" > .entry").each(function(e){var t=this.id;$("#"+t+"WeightPercent0").html(parseInt(l[t]/i*100)+"%")})}),removeUnsetFromJSON(JSON.stringify(r,null,2))}function lootTableRange(t){let a=1;try{if($("#"+t).val().length){let e=$("#"+t).val();a=-1!=e.indexOf("-")?(e=e.split("-"),{min:parseInt(e[0]),max:parseInt(e[1])}):parseInt(e)}}catch(e){}return a}function lootTableRangeFloat(t,a){let o=1;try{if($("#"+t).val().length){let e=$("#"+t).val();o=-1!=e.indexOf(a)?(e=e.split(a),{min:parseFloat(e[0]),max:parseFloat(e[1])}):parseFloat(e)}}catch(e){}return o}function lootTableRangeRaw(t){let a=1;try{if($("#"+t).val().length){let e=$("#"+t).val();a=-1!=e.indexOf("-")?{min:(e=e.split("-"))[0],max:e[1]}:e}}catch(e){}return a}function getItemDisplayForLootTableNBT(e){var t="";return isLeatherArmor($("#"+e).val())&&(t+=getColorInteger(e+"Color","color")),0<t.length?",display:{"+t.substr(1)+"}":t}function importLootTable(t){$("#disableOutput").prop("checked",!0),t.hasOwnProperty("type")&&$("#ltType0").val(t.type);for(let e=0;e<t.pools.length;e++){var a=addPool(),o=t.pools[e];"rolls"in o&&(o.rolls.hasOwnProperty("min")&&o.rolls.hasOwnProperty("max")?$("#"+a+"rolls0").val(o.rolls.min+"-"+o.rolls.max):$("#"+a+"rolls0").val(o.rolls)),"bonus_rolls"in o&&(o.bonus_rolls.hasOwnProperty("min")&&o.bonus_rolls.hasOwnProperty("max")?$("#"+a+"bonus_rolls0").val(o.bonus_rolls.min+"-"+o.bonus_rolls.max):$("#"+a+"bonus_rolls0").val(o.bonus_rolls));for(let e=0;e<o.entries.length;e++){var n=a+"_entry_"+e,s=o.entries[e];if(s.type=extractMinecraftID(s.type),("item"==s.type?addItem:"loot_table"==s.type?addLootTable:addNoItem)(a),s.hasOwnProperty("weight")&&$("#"+n+"Weight0").val(s.weight),s.hasOwnProperty("quality")&&$("#"+n+"Quality0").val(s.quality),"item"==s.type){if(s.hasOwnProperty("name")&&($("#"+n+"Item0").val(extractMinecraftID(s.name)),$("#"+n+"Item0").trigger("change")),s.hasOwnProperty("functions"))for(let e=0;e<s.functions.length;e++){var i=s.functions[e];if("set_count"==i.function)i.count.hasOwnProperty("min")&&i.count.hasOwnProperty("max")?$("#"+n+"Item0Count").val(i.count.min+"-"+i.count.max):$("#"+n+"Item0Count").val(i.count);else if("set_damage"==i.function)i.damage.hasOwnProperty("min")&&i.damage.hasOwnProperty("max")?$("#"+n+"Item0Damage").val(i.damage.min+"-"+i.damage.max):$("#"+n+"Item0Damage").val(i.damage);else if("set_name"==i.function)importTellrawJSON(n+"Item0ItemName",i.name),showHide(n+"Item0ItemName",n+"Item0ItemNameSH");else if("set_lore"==i.function)loadLoreFromNBT(n+"Item0Lore",i.lore,!0),showHide(n+"Item0Lore",n+"Item0LoreSH");else if("set_nbt"==i.function)new CMDParser("").parseLootTableNBT(n+"Item0",extractMinecraftID(s.name),i.tag);else if("set_attributes"==i.function){i.modifiers.length&&showHide(n+"LTAttributes",n+"LTAttributesSH");for(let e=0;e<i.modifiers.length;e++){var r=i.modifiers[e],l=addAMLootTable(n+"LTAttributes",!0);if($("#"+n+"LTAttributes_"+l+"_mods").val(r.attribute.substr(r.attribute.indexOf(".")+1)),r.amount.hasOwnProperty("min")&&r.amount.hasOwnProperty("max")?$("#"+n+"LTAttributes_"+l+"_amount").val(r.amount.min+".."+r.amount.max):$("#"+n+"LTAttributes_"+l+"_amount").val(r.amount),$("#"+n+"LTAttributes_"+l+"_operation").val(r.operation),r.hasOwnProperty("slot"))if(Array.isArray(r.slot))for(let e=0;e<r.slot.length;e++)$("#"+n+"LTAttributes_"+l+"_"+r.slot[e]).prop("checked",!0);else $("#"+n+"LTAttributes_"+l+"_"+r.slot).prop("checked",!0)}}}}else if("loot_table"==s.type&&(s.hasOwnProperty("name")&&$("#"+n+"LootTable0").val(s.name),s.hasOwnProperty("functions")))for(let e=0;e<s.functions.length;e++){var c=s.functions[e];"set_count"==c.function&&(c.count.hasOwnProperty("min")&&c.count.hasOwnProperty("max")?$("#"+n+"Count0").val(c.count.min+"-"+c.count.max):$("#"+n+"Count0").val(c.count))}}}$("#disableOutput").prop("checked",!1),generateCommand()}function getNBTForLootTableItem(e){for(var t=getCanPlaceOnOrDestroy(e,"CanPlaceOn"),a=(t=(t+=getCanPlaceOnOrDestroy(e,"CanDestroy"))+getItemDisplayForLootTableNBT(e),0),o=1,n=0;n<flags.length;n++)$("#"+e+"HF"+flags[n]).is(":checked")&&(a+=o),o*=2;return 0!=a&&(t+=",HideFlags:"+a),0!=$("#"+e+"RepairCost").length&&$("#"+e+"RepairCost").val().length&&(t+=",RepairCost:"+$("#"+e+"RepairCost").val()),0!=$("#"+e+"Unbreakable").length&&-1!=$("#"+e+"Unbreakable").val()&&(t+=",Unbreakable:"+$("#"+e+"Unbreakable").val()+"b"),0!=$("#"+e+"CustomModelData").length&&$("#"+e+"CustomModelData").val().length&&(t+=",CustomModelData:"+$("#"+e+"CustomModelData").val()),0!=$("#"+e+"CustomTags").length&&$("#"+e+"CustomTags").val().length&&(t+=","+$("#"+e+"CustomTags").val()),t=(t=(t=(t=(t+=getEnchantments(e,"Enchantments"))+getItemAttributeModifiers(e))+getItemSpecificNBT(e))+getItemBlockStates(e)).length?"{"+t.substr(1)+"}":t}function addPool(){let e=0;for(;$("#pool"+e).length;)e++;let t="pool"+e;return $("#lootTablePane").append("<div id='"+t+"' class='pool roundedDiv'><a class='redX' href=\"javascript:removeContainer('"+t+"')\">&#9747;</a></div>"),createComponent(t,t+"rolls",{label:"Rolls",type:"text",cssClass:"fLabel100",tip:"lt.rolls"},0),createComponent(t,t+"bonus_rolls",{label:"Bonus Rolls",type:"text",cssClass:"fLabel100",tip:"lt.bonus_rolls"},0),$("#"+t).append("<br><br><span id='addItem"+t+"' class='showHide'>Add Item</span><span id='addNoItem"+t+"' class='showHide'>Add No Item</span><span id='addLootTable"+t+"' class='showHide'>Add Loot Table</span><div id='entryPane"+t+"' class='lootEntries'></div>"),$("#addItem"+t).bind("click",function(){addItem(t)}),$("#addNoItem"+t).bind("click",function(){addNoItem(t)}),$("#addLootTable"+t).bind("click",function(){addLootTable(t)}),t}function setUpEntry(e){let t=0;for(;$("#"+e+"_entry_"+t).length;)t++;var a=e+"_entry_"+t;return $("#entryPane"+e).append("<div id='"+a+"' class='entry roundedDiv'><a class='redX' href=\"javascript:removeContainer('"+a+"')\">&#9747;</a></div>"),createComponent(a,a+"Weight",{label:"Weight",type:"text",cssClass:"fLabel100",tip:"lt.weight"},0),$("<span id='"+a+"WeightPercent0'></span>").insertAfter("#"+a+"Weight0"),createComponent(a,a+"Quality",{label:"Quality",type:"text",cssClass:"fLabel100",tip:"lt.quality"},0),a}function addNoItem(e){setUpEntry(e);generateCommand()}function addLootTable(e){e=setUpEntry(e);createComponent(e,e+"Count",{label:"Count",type:"text",cssClass:"fLabel100",tip:"lt.count"},0),createComponent(e,e+"LootTable",{label:"Loot Table",type:"text",cssClass:"fLabel100",fwClass:"verybigTF",tip:"lt.loottable"},0),generateCommand()}function addItem(e){e=setUpEntry(e);createComponent(e,e+"Item",{label:"Item",type:"itemselect",cssClass:"fLabel100",tip:"lt.item",forceConstruct:!0},0),$("#"+e).append("<br><span><span class='fLabel100'>set_attributes</span>"+mkShowHide(e+"LTAttributes",e+"LTAttributesSH")+"<div id='"+e+"LTAttributes' class='AMControl roundedDiv'></div>"+makeTip("lt.set_attributes")+"</span>"),makeItemModifierLootTables(e+"LTAttributes"),showHide(e+"LTAttributes",e+"LTAttributesSH"),generateCommand()}function updateLootTable(){}function updateLootTableBindings(){$(".updateLootTable").bind("click keyup",function(){})}function makeItemModifierLootTables(e){let t="";for(let e=0;e<slots.length;e++)t+="<th style='width:70px;text-align:center;'>"+slots[e]+"</th>";$("#"+e).append(makeButton("Add Attribute Modifier","addAMLootTable('"+e+"',false)","Click to add and Attribute Modifier")+" <table class='aTable' id='"+e+"table'><tr id='"+e+"_head'><th>Attribute</th><th>Amount</th><th>Operation</th>"+t+"</tr></table><br><span id='"+e+"_errors'></span>")}function addAMLootTable(t,e){for(var a=0;$("#"+t+"_"+a+"_rowNum").length;)a++;for(var o=t+"_"+a,n="<tr id='"+o+"_rowNum' class='amRow'><td><select id='"+o+"_mods'>",s=0;s<attributeModifiers116.length;s++)n+="<option value='"+attributeModifiers116[s]+"'>"+attributeModifiers116[s]+"</option>";n+="</select></td><td><input type='text' class='medTF'  id='"+o+"_amount' value='1'></td><td>"+makeSelect(o+"_operation",["addition","multiply_base","multiply_total"],!1)+"</td>";for(let e=0;e<slots.length;e++)n+="<td style='text-align:center;'><input type='checkbox' id='"+o+"_"+slots[e]+"'></td>";n+="<td><a href=\"javascript:removeAM('"+o+"_rowNum','"+t+"')\" class='redX'>&#9747;</a></td></tr>",$("#"+t+"table > tbody:last-child").append(n);for(let e=0;e<slots.length;e++)$("#"+o+"_"+slots[e]).bind("change",function(){checkAMconflictsLootTable(t)});if($("#"+o+"_mods").bind("change",function(){checkAMconflictsLootTable(t)}),$("#"+o+"_amount").bind("keyup",function(){checkAMconflictsLootTable(t)}),$("#"+o+"_operation").bind("change",function(){checkAMconflictsLootTable(t)}),checkAMconflictsLootTable(t),e)return a}function checkAMconflictsLootTable(e){generateCommand()}function getItemAttributeModifiersForLootTable(e){let n=[];return $("#"+e+"LTAttributestable .amRow").each(function(){var e={},t=this.id.substr(0,this.id.lastIndexOf("_"));if($("#"+t+"_amount").val().length){var a=$("#"+t+"_mods").val(),o=(e.attribute="generic."+a,e.name="generic."+a,e.operation=$("#"+t+"_operation").val(),e.amount=lootTableRangeFloat(t+"_amount",".."),[]);for(let e=0;e<slots.length;e++)$("#"+t+"_"+slots[e]).prop("checked")&&o.push(slots[e]);1==o.length?e.slot=o[0]:1<o.length&&(e.slot=o),n.push(e)}}),n}String.prototype.htmlEscape=function(){return $("<div/>").text(this.toString()).html()},window.onpopstate=function(e){try{var t=e.state.id;showDetails(t,!1)}catch(e){}};var MD5=function(e){function r(e,t){return e<<t|e>>>32-t}function l(e,t){var a=2147483648&e,o=2147483648&t,n=1073741824&e,s=1073741824&t,e=(1073741823&e)+(1073741823&t);return n&s?2147483648^e^a^o:n|s?1073741824&e?3221225472^e^a^o:1073741824^e^a^o:e^a^o}function t(e,t,a,o,n,s,i){return e=l(e,l(l(t&a|~t&o,n),i)),l(r(e,s),t)}function a(e,t,a,o,n,s,i){return e=l(e,l(l(t&o|a&~o,n),i)),l(r(e,s),t)}function o(e,t,a,o,n,s,i){return e=l(e,l(l(t^a^o,n),i)),l(r(e,s),t)}function n(e,t,a,o,n,s,i){return e=l(e,l(l(a^(t|~o),n),i)),l(r(e,s),t)}function s(e){for(var t="",a="",o=0;o<=3;o++)t+=(a="0"+(e>>>8*o&255).toString(16)).substr(a.length-2,2);return t}Array();for(var i,c,p,d,m=function(e){for(var t,a=e.length,o=16*(1+((o=a+8)-o%64)/64),n=Array(o-1),s=0,i=0;i<a;)s=i%4*8,n[t=(i-i%4)/4]=n[t]|e.charCodeAt(i)<<s,i++;return n[t=(i-i%4)/4]=n[t]|128<<(s=i%4*8),n[o-2]=a<<3,n[o-1]=a>>>29,n}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",a=0;a<e.length;a++){var o=e.charCodeAt(a);o<128?t+=String.fromCharCode(o):t=127<o&&o<2048?(t+=String.fromCharCode(o>>6|192))+String.fromCharCode(63&o|128):(t=(t+=String.fromCharCode(o>>12|224))+String.fromCharCode(o>>6&63|128))+String.fromCharCode(63&o|128)}return t}(e)),h=1732584193,g=4023233417,u=2562383102,_=271733878,b=0;b<m.length;b+=16)h=t(i=h,c=g,p=u,d=_,m[b+0],7,3614090360),_=t(_,h,g,u,m[b+1],12,3905402710),u=t(u,_,h,g,m[b+2],17,606105819),g=t(g,u,_,h,m[b+3],22,3250441966),h=t(h,g,u,_,m[b+4],7,4118548399),_=t(_,h,g,u,m[b+5],12,1200080426),u=t(u,_,h,g,m[b+6],17,2821735955),g=t(g,u,_,h,m[b+7],22,4249261313),h=t(h,g,u,_,m[b+8],7,1770035416),_=t(_,h,g,u,m[b+9],12,2336552879),u=t(u,_,h,g,m[b+10],17,4294925233),g=t(g,u,_,h,m[b+11],22,2304563134),h=t(h,g,u,_,m[b+12],7,1804603682),_=t(_,h,g,u,m[b+13],12,4254626195),u=t(u,_,h,g,m[b+14],17,2792965006),h=a(h,g=t(g,u,_,h,m[b+15],22,1236535329),u,_,m[b+1],5,4129170786),_=a(_,h,g,u,m[b+6],9,3225465664),u=a(u,_,h,g,m[b+11],14,643717713),g=a(g,u,_,h,m[b+0],20,3921069994),h=a(h,g,u,_,m[b+5],5,3593408605),_=a(_,h,g,u,m[b+10],9,38016083),u=a(u,_,h,g,m[b+15],14,3634488961),g=a(g,u,_,h,m[b+4],20,3889429448),h=a(h,g,u,_,m[b+9],5,568446438),_=a(_,h,g,u,m[b+14],9,3275163606),u=a(u,_,h,g,m[b+3],14,4107603335),g=a(g,u,_,h,m[b+8],20,1163531501),h=a(h,g,u,_,m[b+13],5,2850285829),_=a(_,h,g,u,m[b+2],9,4243563512),u=a(u,_,h,g,m[b+7],14,1735328473),h=o(h,g=a(g,u,_,h,m[b+12],20,2368359562),u,_,m[b+5],4,4294588738),_=o(_,h,g,u,m[b+8],11,2272392833),u=o(u,_,h,g,m[b+11],16,1839030562),g=o(g,u,_,h,m[b+14],23,4259657740),h=o(h,g,u,_,m[b+1],4,2763975236),_=o(_,h,g,u,m[b+4],11,1272893353),u=o(u,_,h,g,m[b+7],16,4139469664),g=o(g,u,_,h,m[b+10],23,3200236656),h=o(h,g,u,_,m[b+13],4,681279174),_=o(_,h,g,u,m[b+0],11,3936430074),u=o(u,_,h,g,m[b+3],16,3572445317),g=o(g,u,_,h,m[b+6],23,76029189),h=o(h,g,u,_,m[b+9],4,3654602809),_=o(_,h,g,u,m[b+12],11,3873151461),u=o(u,_,h,g,m[b+15],16,530742520),h=n(h,g=o(g,u,_,h,m[b+2],23,3299628645),u,_,m[b+0],6,4096336452),_=n(_,h,g,u,m[b+7],10,1126891415),u=n(u,_,h,g,m[b+14],15,2878612391),g=n(g,u,_,h,m[b+5],21,4237533241),h=n(h,g,u,_,m[b+12],6,1700485571),_=n(_,h,g,u,m[b+3],10,2399980690),u=n(u,_,h,g,m[b+10],15,4293915773),g=n(g,u,_,h,m[b+1],21,2240044497),h=n(h,g,u,_,m[b+8],6,1873313359),_=n(_,h,g,u,m[b+15],10,4264355552),u=n(u,_,h,g,m[b+6],15,2734768916),g=n(g,u,_,h,m[b+13],21,1309151649),h=n(h,g,u,_,m[b+4],6,4149444226),_=n(_,h,g,u,m[b+11],10,3174756917),u=n(u,_,h,g,m[b+2],15,718787259),g=n(g,u,_,h,m[b+9],21,3951481745),h=l(h,i),g=l(g,c),u=l(u,p),_=l(_,d);return(s(h)+s(g)+s(u)+s(_)).toLowerCase()};